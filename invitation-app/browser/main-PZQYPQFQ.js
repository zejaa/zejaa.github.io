var BB=Object.defineProperty,jB=Object.defineProperties;var $B=Object.getOwnPropertyDescriptors;var QS=Object.getOwnPropertySymbols,HB=Object.getPrototypeOf,GB=Object.prototype.hasOwnProperty,zB=Object.prototype.propertyIsEnumerable,WB=Reflect.get;var ZS=(t,e,n)=>e in t?BB(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,U=(t,e)=>{for(var n in e||={})GB.call(e,n)&&ZS(t,n,e[n]);if(QS)for(var n of QS(e))zB.call(e,n)&&ZS(t,n,e[n]);return t},se=(t,e)=>jB(t,$B(e));var mr=(t,e,n)=>WB(HB(t),n,e);var _=(t,e,n)=>new Promise((i,r)=>{var s=c=>{try{a(n.next(c))}catch(u){r(u)}},o=c=>{try{a(n.throw(c))}catch(u){r(u)}},a=c=>c.done?i(c.value):Promise.resolve(c.value).then(s,o);a((n=n.apply(t,e)).next())});function B_(t,e){return Object.is(t,e)}var Ct=null,bf=!1,j_=1,zn=Symbol("SIGNAL");function me(t){let e=Ct;return Ct=t,e}function $_(){return Ct}var La={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function fu(t){if(bf)throw new Error("");if(Ct===null)return;Ct.consumerOnSignalRead(t);let e=Ct.nextProducerIndex++;if(Sf(Ct),e<Ct.producerNode.length&&Ct.producerNode[e]!==t&&hu(Ct)){let n=Ct.producerNode[e];If(n,Ct.producerIndexOfThis[e])}Ct.producerNode[e]!==t&&(Ct.producerNode[e]=t,Ct.producerIndexOfThis[e]=hu(Ct)?eD(t,Ct,e):0),Ct.producerLastReadVersion[e]=t.version}function JS(){j_++}function H_(t){if(!(hu(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===j_)){if(!t.producerMustRecompute(t)&&!Ef(t)){V_(t);return}t.producerRecomputeValue(t),V_(t)}}function G_(t){if(t.liveConsumerNode===void 0)return;let e=bf;bf=!0;try{for(let n of t.liveConsumerNode)n.dirty||qB(n)}finally{bf=e}}function z_(){return Ct?.consumerAllowSignalWrites!==!1}function qB(t){t.dirty=!0,G_(t),t.consumerMarkedDirty?.(t)}function V_(t){t.dirty=!1,t.lastCleanEpoch=j_}function pu(t){return t&&(t.nextProducerIndex=0),me(t)}function Tf(t,e){if(me(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(hu(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)If(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Ef(t){Sf(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],i=t.producerLastReadVersion[e];if(i!==n.version||(H_(n),i!==n.version))return!0}return!1}function mu(t){if(Sf(t),hu(t))for(let e=0;e<t.producerNode.length;e++)If(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function eD(t,e,n){if(tD(t),t.liveConsumerNode.length===0&&nD(t))for(let i=0;i<t.producerNode.length;i++)t.producerIndexOfThis[i]=eD(t.producerNode[i],t,i);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function If(t,e){if(tD(t),t.liveConsumerNode.length===1&&nD(t))for(let i=0;i<t.producerNode.length;i++)If(t.producerNode[i],t.producerIndexOfThis[i]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let i=t.liveConsumerIndexOfThis[e],r=t.liveConsumerNode[e];Sf(r),r.producerIndexOfThis[i]=e}}function hu(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Sf(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function tD(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function nD(t){return t.producerNode!==void 0}function W_(t,e){let n=Object.create(YB);n.computation=t,e!==void 0&&(n.equal=e);let i=()=>{if(H_(n),fu(n),n.value===Cf)throw n.error;return n.value};return i[zn]=n,i}var L_=Symbol("UNSET"),U_=Symbol("COMPUTING"),Cf=Symbol("ERRORED"),YB=se(U({},La),{value:L_,dirty:!0,error:null,equal:B_,kind:"computed",producerMustRecompute(t){return t.value===L_||t.value===U_},producerRecomputeValue(t){if(t.value===U_)throw new Error("Detected cycle in computations.");let e=t.value;t.value=U_;let n=pu(t),i,r=!1;try{i=t.computation(),me(null),r=e!==L_&&e!==Cf&&i!==Cf&&t.equal(e,i)}catch(s){i=Cf,t.error=s}finally{Tf(t,n)}if(r){t.value=e;return}t.value=i,t.version++}});function KB(){throw new Error}var iD=KB;function rD(t){iD(t)}function q_(t){iD=t}var XB=null;function Y_(t,e){let n=Object.create(Df);n.value=t,e!==void 0&&(n.equal=e);let i=()=>(fu(n),n.value);return i[zn]=n,i}function gu(t,e){z_()||rD(t),t.equal(t.value,e)||(t.value=e,QB(t))}function K_(t,e){z_()||rD(t),gu(t,e(t.value))}var Df=se(U({},La),{equal:B_,value:void 0,kind:"signal"});function QB(t){t.version++,JS(),G_(t),XB?.()}function X_(t){let e=me(null);try{return t()}finally{me(e)}}var Q_;function vu(){return Q_}function gr(t){let e=Q_;return Q_=t,e}var Af=Symbol("NotFound");function ie(t){return typeof t=="function"}function Ua(t){let n=t(i=>{Error.call(i),i.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ff=Ua(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function lo(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var at=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:i}=this;if(ie(i))try{i()}catch(s){e=s instanceof Ff?s.errors:[s]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let s of r)try{sD(s)}catch(o){e=e??[],o instanceof Ff?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Ff(e)}}add(e){var n;if(e&&e!==this)if(this.closed)sD(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&lo(n,e)}remove(e){let{_finalizers:n}=this;n&&lo(n,e),e instanceof t&&e._removeParent(this)}};at.EMPTY=(()=>{let t=new at;return t.closed=!0,t})();var Z_=at.EMPTY;function kf(t){return t instanceof at||t&&"closed"in t&&ie(t.remove)&&ie(t.add)&&ie(t.unsubscribe)}function sD(t){ie(t)?t():t.unsubscribe()}var li={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Va={setTimeout(t,e,...n){let{delegate:i}=Va;return i?.setTimeout?i.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Va;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Mf(t){Va.setTimeout(()=>{let{onUnhandledError:e}=li;if(e)e(t);else throw t})}function _u(){}var oD=J_("C",void 0,void 0);function aD(t){return J_("E",void 0,t)}function cD(t){return J_("N",t,void 0)}function J_(t,e,n){return{kind:t,value:e,error:n}}var uo=null;function Ba(t){if(li.useDeprecatedSynchronousErrorHandling){let e=!uo;if(e&&(uo={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:i}=uo;if(uo=null,n)throw i}}else t()}function lD(t){li.useDeprecatedSynchronousErrorHandling&&uo&&(uo.errorThrown=!0,uo.error=t)}var ho=class extends at{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,kf(e)&&e.add(this)):this.destination=i4}static create(e,n,i){return new ja(e,n,i)}next(e){this.isStopped?ty(cD(e),this):this._next(e)}error(e){this.isStopped?ty(aD(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?ty(oD,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},t4=Function.prototype.bind;function ey(t,e){return t4.call(t,e)}var ny=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(i){Rf(i)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(i){Rf(i)}else Rf(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Rf(n)}}},ja=class extends ho{constructor(e,n,i){super();let r;if(ie(e)||!e)r={next:e??void 0,error:n??void 0,complete:i??void 0};else{let s;this&&li.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&ey(e.next,s),error:e.error&&ey(e.error,s),complete:e.complete&&ey(e.complete,s)}):r=e}this.destination=new ny(r)}};function Rf(t){li.useDeprecatedSynchronousErrorHandling?lD(t):Mf(t)}function n4(t){throw t}function ty(t,e){let{onStoppedNotification:n}=li;n&&Va.setTimeout(()=>n(t,e))}var i4={closed:!0,next:_u,error:n4,complete:_u};var $a=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Mn(t){return t}function iy(...t){return ry(t)}function ry(t){return t.length===0?Mn:t.length===1?t[0]:function(n){return t.reduce((i,r)=>r(i),n)}}var we=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let i=new t;return i.source=this,i.operator=n,i}subscribe(n,i,r){let s=s4(n)?n:new ja(n,i,r);return Ba(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return i=uD(i),new i((r,s)=>{let o=new ja({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(n){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(n)}[$a](){return this}pipe(...n){return ry(n)(this)}toPromise(n){return n=uD(n),new n((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return t.create=e=>new t(e),t})();function uD(t){var e;return(e=t??li.Promise)!==null&&e!==void 0?e:Promise}function r4(t){return t&&ie(t.next)&&ie(t.error)&&ie(t.complete)}function s4(t){return t&&t instanceof ho||r4(t)&&kf(t)}function sy(t){return ie(t?.lift)}function Ee(t){return e=>{if(sy(e))return e.lift(function(n){try{return t(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function xe(t,e,n,i,r){return new oy(t,e,n,i,r)}var oy=class extends ho{constructor(e,n,i,r,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ha(){return Ee((t,e)=>{let n=null;t._refCount++;let i=xe(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let r=t._connection,s=n;n=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});t.subscribe(i),i.closed||(n=t.connect())})}var Ga=class extends we{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,sy(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new at;let n=this.getSubject();e.add(this.source.subscribe(xe(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=at.EMPTY)}return e}refCount(){return Ha()(this)}};var dD=Ua(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var nt=(()=>{class t extends we{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let i=new Pf(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new dD}next(n){Ba(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(n)}})}error(n){Ba(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){Ba(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:i,isStopped:r,observers:s}=this;return i||r?Z_:(this.currentObservers=null,s.push(n),new at(()=>{this.currentObservers=null,lo(s,n)}))}_checkFinalizedStatuses(n){let{hasError:i,thrownError:r,isStopped:s}=this;i?n.error(r):s&&n.complete()}asObservable(){let n=new we;return n.source=this,n}}return t.create=(e,n)=>new Pf(e,n),t})(),Pf=class extends nt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,e)}error(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&i!==void 0?i:Z_}};var Tt=class extends nt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:i}=this;if(e)throw n;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var yu={now(){return(yu.delegate||Date).now()},delegate:void 0};var wu=class extends nt{constructor(e=1/0,n=1/0,i=yu){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:o}=this;n||(i.push(e),!r&&i.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let o=0;o<s.length&&!e.closed;o+=i?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*e;if(e<1/0&&s<i.length&&i.splice(0,i.length-s),!r){let o=n.now(),a=0;for(let c=1;c<i.length&&i[c]<=o;c+=2)a=c;a&&i.splice(0,a+1)}}};var Of=class extends at{constructor(e,n){super()}schedule(e,n=0){return this}};var xu={setInterval(t,e,...n){let{delegate:i}=xu;return i?.setInterval?i.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=xu;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Nf=class extends Of{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var i;if(this.closed)return this;this.state=e;let r=this.id,s=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(s,r,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,i=0){return xu.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,n,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&xu.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i=!1,r;try{this.work(e)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:i}=n;this.work=this.state=this.scheduler=null,this.pending=!1,lo(i,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var za=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,i){return new this.schedulerActionCtor(this,e).schedule(i,n)}};za.now=yu.now;var Lf=class extends za{constructor(e,n=za.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,i){for(;e=n.shift();)e.unsubscribe();throw i}}};var hD=new Lf(Nf);var vn=new we(t=>t.complete());function fD(t){return t&&ie(t.schedule)}function pD(t){return t[t.length-1]}function Uf(t){return ie(pD(t))?t.pop():void 0}function us(t){return fD(pD(t))?t.pop():void 0}function Wa(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function gD(t,e,n,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,n):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s}function vD(t,e,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{u(i.next(d))}catch(f){o(f)}}function c(d){try{u(i.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):r(d.value).then(a,c)}u((i=i.apply(t,e||[])).next())})}function mD(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function fo(t){return this instanceof fo?(this.v=t,this):new fo(t)}function _D(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),r,s=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),r[Symbol.asyncIterator]=function(){return this},r;function o(g){return function(w){return Promise.resolve(w).then(g,f)}}function a(g,w){i[g]&&(r[g]=function(E){return new Promise(function(D,P){s.push([g,E,D,P])>1||c(g,E)})},w&&(r[g]=w(r[g])))}function c(g,w){try{u(i[g](w))}catch(E){m(s[0][3],E)}}function u(g){g.value instanceof fo?Promise.resolve(g.value.v).then(d,f):m(s[0][2],g)}function d(g){c("next",g)}function f(g){c("throw",g)}function m(g,w){g(w),s.shift(),s.length&&c(s[0][0],s[0][1])}}function yD(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof mD=="function"?mD(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),r(a,c,o.done,o.value)})}}function r(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}var qa=t=>t&&typeof t.length=="number"&&typeof t!="function";function Vf(t){return ie(t?.then)}function Bf(t){return ie(t[$a])}function jf(t){return Symbol.asyncIterator&&ie(t?.[Symbol.asyncIterator])}function $f(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function o4(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Hf=o4();function Gf(t){return ie(t?.[Hf])}function zf(t){return _D(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:i,done:r}=yield fo(n.read());if(r)return yield fo(void 0);yield yield fo(i)}}finally{n.releaseLock()}})}function Wf(t){return ie(t?.getReader)}function ct(t){if(t instanceof we)return t;if(t!=null){if(Bf(t))return a4(t);if(qa(t))return c4(t);if(Vf(t))return l4(t);if(jf(t))return wD(t);if(Gf(t))return u4(t);if(Wf(t))return d4(t)}throw $f(t)}function a4(t){return new we(e=>{let n=t[$a]();if(ie(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function c4(t){return new we(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function l4(t){return new we(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Mf)})}function u4(t){return new we(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function wD(t){return new we(e=>{h4(t,e).catch(n=>e.error(n))})}function d4(t){return wD(zf(t))}function h4(t,e){var n,i,r,s;return vD(this,void 0,void 0,function*(){try{for(n=yD(t);i=yield n.next(),!i.done;){let o=i.value;if(e.next(o),e.closed)return}}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=n.return)&&(yield s.call(n))}finally{if(r)throw r.error}}e.complete()})}function _n(t,e,n,i=0,r=!1){let s=e.schedule(function(){n(),r?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(s),!r)return s}function qf(t,e=0){return Ee((n,i)=>{n.subscribe(xe(i,r=>_n(i,t,()=>i.next(r),e),()=>_n(i,t,()=>i.complete(),e),r=>_n(i,t,()=>i.error(r),e)))})}function Yf(t,e=0){return Ee((n,i)=>{i.add(t.schedule(()=>n.subscribe(i),e))})}function xD(t,e){return ct(t).pipe(Yf(e),qf(e))}function bD(t,e){return ct(t).pipe(Yf(e),qf(e))}function CD(t,e){return new we(n=>{let i=0;return e.schedule(function(){i===t.length?n.complete():(n.next(t[i++]),n.closed||this.schedule())})})}function TD(t,e){return new we(n=>{let i;return _n(n,e,()=>{i=t[Hf](),_n(n,e,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){n.error(o);return}s?n.complete():n.next(r)},0,!0)}),()=>ie(i?.return)&&i.return()})}function Kf(t,e){if(!t)throw new Error("Iterable cannot be null");return new we(n=>{_n(n,e,()=>{let i=t[Symbol.asyncIterator]();_n(n,e,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function ED(t,e){return Kf(zf(t),e)}function ID(t,e){if(t!=null){if(Bf(t))return xD(t,e);if(qa(t))return CD(t,e);if(Vf(t))return bD(t,e);if(jf(t))return Kf(t,e);if(Gf(t))return TD(t,e);if(Wf(t))return ED(t,e)}throw $f(t)}function Ie(t,e){return e?ID(t,e):ct(t)}function Z(...t){let e=us(t);return Ie(t,e)}function Ya(t,e){let n=ie(t)?t:()=>t,i=r=>r.error(n());return new we(e?r=>e.schedule(i,0,r):i)}function ay(t){return!!t&&(t instanceof we||ie(t.lift)&&ie(t.subscribe))}var vr=Ua(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function de(t,e){return Ee((n,i)=>{let r=0;n.subscribe(xe(i,s=>{i.next(t.call(e,s,r++))}))})}var{isArray:f4}=Array;function p4(t,e){return f4(e)?t(...e):t(e)}function Ka(t){return de(e=>p4(t,e))}var{isArray:m4}=Array,{getPrototypeOf:g4,prototype:v4,keys:_4}=Object;function Xf(t){if(t.length===1){let e=t[0];if(m4(e))return{args:e,keys:null};if(y4(e)){let n=_4(e);return{args:n.map(i=>e[i]),keys:n}}}return{args:t,keys:null}}function y4(t){return t&&typeof t=="object"&&g4(t)===v4}function Qf(t,e){return t.reduce((n,i,r)=>(n[i]=e[r],n),{})}function bu(...t){let e=us(t),n=Uf(t),{args:i,keys:r}=Xf(t);if(i.length===0)return Ie([],e);let s=new we(w4(i,e,r?o=>Qf(r,o):Mn));return n?s.pipe(Ka(n)):s}function w4(t,e,n=Mn){return i=>{SD(e,()=>{let{length:r}=t,s=new Array(r),o=r,a=r;for(let c=0;c<r;c++)SD(e,()=>{let u=Ie(t[c],e),d=!1;u.subscribe(xe(i,f=>{s[c]=f,d||(d=!0,a--),a||i.next(n(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}function SD(t,e,n){t?_n(n,t,e):e()}function DD(t,e,n,i,r,s,o,a){let c=[],u=0,d=0,f=!1,m=()=>{f&&!c.length&&!u&&e.complete()},g=E=>u<i?w(E):c.push(E),w=E=>{s&&e.next(E),u++;let D=!1;ct(n(E,d++)).subscribe(xe(e,P=>{r?.(P),s?g(P):e.next(P)},()=>{D=!0},void 0,()=>{if(D)try{for(u--;c.length&&u<i;){let P=c.shift();o?_n(e,o,()=>w(P)):w(P)}m()}catch(P){e.error(P)}}))};return t.subscribe(xe(e,g,()=>{f=!0,m()})),()=>{a?.()}}function it(t,e,n=1/0){return ie(e)?it((i,r)=>de((s,o)=>e(i,s,r,o))(ct(t(i,r))),n):(typeof e=="number"&&(n=e),Ee((i,r)=>DD(i,r,t,n)))}function ds(t=1/0){return it(Mn,t)}function AD(){return ds(1)}function Xa(...t){return AD()(Ie(t,us(t)))}function Zf(t){return new we(e=>{ct(t()).subscribe(e)})}function Cu(...t){let e=Uf(t),{args:n,keys:i}=Xf(t),r=new we(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),c=o,u=o;for(let d=0;d<o;d++){let f=!1;ct(n[d]).subscribe(xe(s,m=>{f||(f=!0,u--),a[d]=m},()=>c--,void 0,()=>{(!c||!f)&&(u||s.next(i?Qf(i,a):a),s.complete())}))}});return e?r.pipe(Ka(e)):r}var x4=["addListener","removeListener"],b4=["addEventListener","removeEventListener"],C4=["on","off"];function Tu(t,e,n,i){if(ie(n)&&(i=n,n=void 0),i)return Tu(t,e,n).pipe(Ka(i));let[r,s]=I4(t)?b4.map(o=>a=>t[o](e,a,n)):T4(t)?x4.map(FD(t,e)):E4(t)?C4.map(FD(t,e)):[];if(!r&&qa(t))return it(o=>Tu(o,e,n))(ct(t));if(!r)throw new TypeError("Invalid event target");return new we(o=>{let a=(...c)=>o.next(1<c.length?c:c[0]);return r(a),()=>s(a)})}function FD(t,e){return n=>i=>t[n](e,i)}function T4(t){return ie(t.addListener)&&ie(t.removeListener)}function E4(t){return ie(t.on)&&ie(t.off)}function I4(t){return ie(t.addEventListener)&&ie(t.removeEventListener)}function kt(t,e){return Ee((n,i)=>{let r=0;n.subscribe(xe(i,s=>t.call(e,s,r++)&&i.next(s)))})}function _r(t){return Ee((e,n)=>{let i=null,r=!1,s;i=e.subscribe(xe(n,void 0,void 0,o=>{s=ct(t(o,_r(t)(e))),i?(i.unsubscribe(),i=null,s.subscribe(n)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(n))})}function kD(t,e,n,i,r){return(s,o)=>{let a=n,c=e,u=0;s.subscribe(xe(o,d=>{let f=u++;c=a?t(c,d,f):(a=!0,d),i&&o.next(c)},r&&(()=>{a&&o.next(c),o.complete()})))}}function Ri(t,e){return ie(e)?it(t,e,1):it(t,1)}function cy(t,e=hD){return Ee((n,i)=>{let r=null,s=null,o=null,a=()=>{if(r){r.unsubscribe(),r=null;let u=s;s=null,i.next(u)}};function c(){let u=o+t,d=e.now();if(d<u){r=this.schedule(void 0,u-d),i.add(r);return}a()}n.subscribe(xe(i,u=>{s=u,o=e.now(),r||(r=e.schedule(c,t),i.add(r))},()=>{a(),i.complete()},void 0,()=>{s=r=null}))})}function hs(t){return Ee((e,n)=>{let i=!1;e.subscribe(xe(n,r=>{i=!0,n.next(r)},()=>{i||n.next(t),n.complete()}))})}function yr(t){return t<=0?()=>vn:Ee((e,n)=>{let i=0;e.subscribe(xe(n,r=>{++i<=t&&(n.next(r),t<=i&&n.complete())}))})}function Jf(t=S4){return Ee((e,n)=>{let i=!1;e.subscribe(xe(n,r=>{i=!0,n.next(r)},()=>i?n.complete():n.error(t())))})}function S4(){return new vr}function po(t){return Ee((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function wr(t,e){let n=arguments.length>=2;return i=>i.pipe(t?kt((r,s)=>t(r,s,i)):Mn,yr(1),n?hs(e):Jf(()=>new vr))}function Qa(t){return t<=0?()=>vn:Ee((e,n)=>{let i=[];e.subscribe(xe(n,r=>{i.push(r),t<i.length&&i.shift()},()=>{for(let r of i)n.next(r);n.complete()},void 0,()=>{i=null}))})}function ly(t,e){let n=arguments.length>=2;return i=>i.pipe(t?kt((r,s)=>t(r,s,i)):Mn,Qa(1),n?hs(e):Jf(()=>new vr))}function uy(t,e){return Ee(kD(t,e,arguments.length>=2,!0))}function dy(...t){let e=us(t);return Ee((n,i)=>{(e?Xa(t,n,e):Xa(t,n)).subscribe(i)})}function Et(t,e){return Ee((n,i)=>{let r=null,s=0,o=!1,a=()=>o&&!r&&i.complete();n.subscribe(xe(i,c=>{r?.unsubscribe();let u=0,d=s++;ct(t(c,d)).subscribe(r=xe(i,f=>i.next(e?e(c,f,d,u++):f),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function hy(t){return Ee((e,n)=>{ct(t).subscribe(xe(n,()=>n.complete(),_u)),!n.closed&&e.subscribe(n)})}function Vt(t,e,n){let i=ie(t)||e||n?{next:t,error:e,complete:n}:t;return i?Ee((r,s)=>{var o;(o=i.subscribe)===null||o===void 0||o.call(i);let a=!0;r.subscribe(xe(s,c=>{var u;(u=i.next)===null||u===void 0||u.call(i,c),s.next(c)},()=>{var c;a=!1,(c=i.complete)===null||c===void 0||c.call(i),s.complete()},c=>{var u;a=!1,(u=i.error)===null||u===void 0||u.call(i,c),s.error(c)},()=>{var c,u;a&&((c=i.unsubscribe)===null||c===void 0||c.call(i)),(u=i.finalize)===null||u===void 0||u.call(i)}))}):Mn}var CA="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",z=class extends Error{code;constructor(e,n){super(Ow(e,n)),this.code=e}};function D4(t){return`NG0${Math.abs(t)}`}function Ow(t,e){return`${D4(t)}${e?": "+e:""}`}var TA=Symbol("InputSignalNode#UNSET"),A4=se(U({},Df),{transformFn:void 0,applyValueToInputSignal(t,e){gu(t,e)}});function EA(t,e){let n=Object.create(A4);n.value=t,n.transformFn=e?.transform;function i(){if(fu(n),n.value===TA){let r=null;throw new z(-950,r)}return n.value}return i[zn]=n,i}function Vu(t){return{toString:t}.toString()}var ep="__parameters__";function F4(t){return function(...n){if(t){let i=t(...n);for(let r in i)this[r]=i[r]}}}function IA(t,e,n){return Vu(()=>{let i=F4(e);function r(...s){if(this instanceof r)return i.apply(this,s),this;let o=new r(...s);return a.annotation=o,a;function a(c,u,d){let f=c.hasOwnProperty(ep)?c[ep]:Object.defineProperty(c,ep,{value:[]})[ep];for(;f.length<=d;)f.push(null);return(f[d]=f[d]||[]).push(o),c}}return r.prototype.ngMetadataName=t,r.annotationCls=r,r})}var xr=globalThis;function We(t){for(let e in t)if(t[e]===We)return e;throw Error("Could not find renamed property on target object.")}function k4(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function xn(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(xn).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let i=n.indexOf(`
`);return i>=0?n.slice(0,i):n}function Dy(t,e){return t?e?`${t} ${e}`:t:e||""}var M4=We({__forward_ref__:We});function Yn(t){return t.__forward_ref__=Yn,t.toString=function(){return xn(this())},t}function un(t){return SA(t)?t():t}function SA(t){return typeof t=="function"&&t.hasOwnProperty(M4)&&t.__forward_ref__===Yn}function G(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function $e(t){return{providers:t.providers||[],imports:t.imports||[]}}function Up(t){return MD(t,AA)||MD(t,FA)}function DA(t){return Up(t)!==null}function MD(t,e){return t.hasOwnProperty(e)?t[e]:null}function R4(t){let e=t&&(t[AA]||t[FA]);return e||null}function RD(t){return t&&(t.hasOwnProperty(PD)||t.hasOwnProperty(P4))?t[PD]:null}var AA=We({\u0275prov:We}),PD=We({\u0275inj:We}),FA=We({ngInjectableDef:We}),P4=We({ngInjectorDef:We}),W=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=G({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function kA(t){return t&&!!t.\u0275providers}var O4=We({\u0275cmp:We}),N4=We({\u0275dir:We}),L4=We({\u0275pipe:We}),U4=We({\u0275mod:We}),dp=We({\u0275fac:We}),Du=We({__NG_ELEMENT_ID__:We}),OD=We({__NG_ENV_ID__:We});function _o(t){return typeof t=="string"?t:t==null?"":String(t)}function V4(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():_o(t)}function MA(t,e){throw new z(-200,t)}function Nw(t,e){throw new z(-201,!1)}var _e=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(_e||{}),Ay;function RA(){return Ay}function yn(t){let e=Ay;return Ay=t,e}function PA(t,e,n){let i=Up(t);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(n&_e.Optional)return null;if(e!==void 0)return e;Nw(t,"Injector")}var B4={},go=B4,Fy="__NG_DI_FLAG__",hp=class{injector;constructor(e){this.injector=e}retrieve(e,n){let i=n;return this.injector.get(e,i.optional?Af:go,i)}},fp="ngTempTokenPath",j4="ngTokenPath",$4=/\n/gm,H4="\u0275",ND="__source";function G4(t,e=_e.Default){if(vu()===void 0)throw new z(-203,!1);if(vu()===null)return PA(t,void 0,e);{let n=vu(),i;return n instanceof hp?i=n.injector:i=n,i.get(t,e&_e.Optional?null:void 0,e)}}function K(t,e=_e.Default){return(RA()||G4)(un(t),e)}function R(t,e=_e.Default){return K(t,Vp(e))}function Vp(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function ky(t){let e=[];for(let n=0;n<t.length;n++){let i=un(t[n]);if(Array.isArray(i)){if(i.length===0)throw new z(900,!1);let r,s=_e.Default;for(let o=0;o<i.length;o++){let a=i[o],c=z4(a);typeof c=="number"?c===-1?r=a.token:s|=c:r=a}e.push(K(r,s))}else e.push(K(i))}return e}function OA(t,e){return t[Fy]=e,t.prototype[Fy]=e,t}function z4(t){return t[Fy]}function W4(t,e,n,i){let r=t[fp];throw e[ND]&&r.unshift(e[ND]),t.message=q4(`
`+t.message,r,n,i),t[j4]=r,t[fp]=null,t}function q4(t,e,n,i=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==H4?t.slice(2):t;let r=xn(e);if(Array.isArray(e))r=e.map(xn).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):xn(a)))}r=`{${s.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${t.replace($4,`
  `)}`}var bn=OA(IA("Optional"),8);var NA=OA(IA("SkipSelf"),4);function yo(t,e){let n=t.hasOwnProperty(dp);return n?t[dp]:null}function Y4(t,e,n){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++){let r=t[i],s=e[i];if(n&&(r=n(r),s=n(s)),s!==r)return!1}return!0}function K4(t){return t.flat(Number.POSITIVE_INFINITY)}function Lw(t,e){t.forEach(n=>Array.isArray(n)?Lw(n,e):e(n))}function LA(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function pp(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function X4(t,e){let n=[];for(let i=0;i<t;i++)n.push(e);return n}function Q4(t,e,n,i){let r=t.length;if(r==e)t.push(n,i);else if(r===1)t.push(i,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;){let s=r-2;t[r]=t[s],r--}t[e]=n,t[e+1]=i}}function Bp(t,e,n){let i=Bu(t,e);return i>=0?t[i|1]=n:(i=~i,Q4(t,i,e,n)),i}function fy(t,e){let n=Bu(t,e);if(n>=0)return t[n|1]}function Bu(t,e){return Z4(t,e,1)}function Z4(t,e,n){let i=0,r=t.length>>n;for(;r!==i;){let s=i+(r-i>>1),o=t[s<<n];if(e===o)return s<<n;o>e?r=s:i=s+1}return~(r<<n)}var wo={},wn=[],Au=new W(""),UA=new W("",-1),VA=new W(""),mp=class{get(e,n=go){if(n===go){let i=new Error(`NullInjectorError: No provider for ${xn(e)}!`);throw i.name="NullInjectorError",i}return n}};function BA(t,e){let n=t[U4]||null;if(!n&&e===!0)throw new Error(`Type ${xn(t)} does not have '\u0275mod' property.`);return n}function ms(t){return t[O4]||null}function J4(t){return t[N4]||null}function ej(t){return t[L4]||null}function pi(t){return{\u0275providers:t}}function tj(...t){return{\u0275providers:jA(!0,t),\u0275fromNgModule:!0}}function jA(t,...e){let n=[],i=new Set,r,s=o=>{n.push(o)};return Lw(e,o=>{let a=o;My(a,s,[],i)&&(r||=[],r.push(a))}),r!==void 0&&$A(r,s),n}function $A(t,e){for(let n=0;n<t.length;n++){let{ngModule:i,providers:r}=t[n];Uw(r,s=>{e(s,i)})}}function My(t,e,n,i){if(t=un(t),!t)return!1;let r=null,s=RD(t),o=!s&&ms(t);if(!s&&!o){let c=t.ngModule;if(s=RD(c),s)r=c;else return!1}else{if(o&&!o.standalone)return!1;r=t}let a=i.has(r);if(o){if(a)return!1;if(i.add(r),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of c)My(u,e,n,i)}}else if(s){if(s.imports!=null&&!a){i.add(r);let u;try{Lw(s.imports,d=>{My(d,e,n,i)&&(u||=[],u.push(d))})}finally{}u!==void 0&&$A(u,e)}if(!a){let u=yo(r)||(()=>new r);e({provide:r,useFactory:u,deps:wn},r),e({provide:VA,useValue:r,multi:!0},r),e({provide:Au,useValue:()=>K(r),multi:!0},r)}let c=s.providers;if(c!=null&&!a){let u=t;Uw(c,d=>{e(d,u)})}}else return!1;return r!==t&&t.providers!==void 0}function Uw(t,e){for(let n of t)kA(n)&&(n=n.\u0275providers),Array.isArray(n)?Uw(n,e):e(n)}var nj=We({provide:String,useValue:We});function HA(t){return t!==null&&typeof t=="object"&&nj in t}function ij(t){return!!(t&&t.useExisting)}function rj(t){return!!(t&&t.useFactory)}function rc(t){return typeof t=="function"}function sj(t){return!!t.useClass}var jp=new W(""),sp={},LD={},py;function $p(){return py===void 0&&(py=new mp),py}var Mt=class{},Fu=class extends Mt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,Py(e,o=>this.processProvider(o)),this.records.set(UA,Za(void 0,this)),r.has("environment")&&this.records.set(Mt,Za(void 0,this));let s=this.records.get(jp);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(VA,wn,_e.Self))}retrieve(e,n){let i=n;return this.get(e,i.optional?Af:go,i)}destroy(){Iu(this),this._destroyed=!0;let e=me(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),me(e)}}onDestroy(e){return Iu(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Iu(this);let n=gr(this),i=yn(void 0),r;try{return e()}finally{gr(n),yn(i)}}get(e,n=go,i=_e.Default){if(Iu(this),e.hasOwnProperty(OD))return e[OD](this);i=Vp(i);let r,s=gr(this),o=yn(void 0);try{if(!(i&_e.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=uj(e)&&Up(e);u&&this.injectableDefInScope(u)?c=Za(Ry(e),sp):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c,i)}let a=i&_e.Self?$p():this.parent;return n=i&_e.Optional&&n===go?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[fp]=a[fp]||[]).unshift(xn(e)),s)throw a;return W4(a,e,"R3InjectorError",this.source)}else throw a}finally{yn(o),gr(s)}}resolveInjectorInitializers(){let e=me(null),n=gr(this),i=yn(void 0),r;try{let s=this.get(Au,wn,_e.Self);for(let o of s)o()}finally{gr(n),yn(i),me(e)}}toString(){let e=[],n=this.records;for(let i of n.keys())e.push(xn(i));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=un(e);let n=rc(e)?e:un(e&&e.provide),i=aj(e);if(!rc(e)&&e.multi===!0){let r=this.records.get(n);r||(r=Za(void 0,sp,!0),r.factory=()=>ky(r.multi),this.records.set(n,r)),n=e,r.multi.push(e)}this.records.set(n,i)}hydrate(e,n,i){let r=me(null);try{return n.value===LD?MA(xn(e)):n.value===sp&&(n.value=LD,n.value=n.factory(void 0,i)),typeof n.value=="object"&&n.value&&lj(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{me(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=un(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Ry(t){let e=Up(t),n=e!==null?e.factory:yo(t);if(n!==null)return n;if(t instanceof W)throw new z(204,!1);if(t instanceof Function)return oj(t);throw new z(204,!1)}function oj(t){if(t.length>0)throw new z(204,!1);let n=R4(t);return n!==null?()=>n.factory(t):()=>new t}function aj(t){if(HA(t))return Za(void 0,t.useValue);{let e=GA(t);return Za(e,sp)}}function GA(t,e,n){let i;if(rc(t)){let r=un(t);return yo(r)||Ry(r)}else if(HA(t))i=()=>un(t.useValue);else if(rj(t))i=()=>t.useFactory(...ky(t.deps||[]));else if(ij(t))i=(r,s)=>K(un(t.useExisting),s!==void 0&&s&_e.Optional?_e.Optional:void 0);else{let r=un(t&&(t.useClass||t.provide));if(cj(t))i=()=>new r(...ky(t.deps));else return yo(r)||Ry(r)}return i}function Iu(t){if(t.destroyed)throw new z(205,!1)}function Za(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function cj(t){return!!t.deps}function lj(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function uj(t){return typeof t=="function"||typeof t=="object"&&t instanceof W}function Py(t,e){for(let n of t)Array.isArray(n)?Py(n,e):n&&kA(n)?Py(n.\u0275providers,e):e(n)}function Cn(t,e){let n;t instanceof Fu?(Iu(t),n=t):n=new hp(t);let i,r=gr(n),s=yn(void 0);try{return e()}finally{gr(r),yn(s)}}function zA(){return RA()!==void 0||vu()!=null}function Hp(t){if(!zA())throw new z(-203,!1)}function dj(t){return typeof t=="function"}var Er=0,pe=1,he=2,Qt=3,hi=4,Tn=5,sc=6,gp=7,It=8,oc=9,br=10,lt=11,ku=12,UD=13,fc=14,Rn=15,xo=16,Ja=17,Cr=18,Gp=19,WA=20,fs=21,my=22,bo=23,Wn=24,nc=25,Rt=26,qA=1;var Co=7,vp=8,ac=9,Xt=10;function ps(t){return Array.isArray(t)&&typeof t[qA]=="object"}function Ir(t){return Array.isArray(t)&&t[qA]===!0}function YA(t){return(t.flags&4)!==0}function pc(t){return t.componentOffset>-1}function Vw(t){return(t.flags&1)===1}function Oi(t){return!!t.template}function _p(t){return(t[he]&512)!==0}function mc(t){return(t[he]&256)===256}var Oy=class{previousValue;currentValue;firstChange;constructor(e,n,i){this.previousValue=e,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}};function KA(t,e,n,i){e!==null?e.applyValueToInputSignal(e,i):t[n]=i}var ut=(()=>{let t=()=>XA;return t.ngInherit=!0,t})();function XA(t){return t.type.prototype.ngOnChanges&&(t.setInput=fj),hj}function hj(){let t=ZA(this),e=t?.current;if(e){let n=t.previous;if(n===wo)t.previous=e;else for(let i in e)n[i]=e[i];t.current=null,this.ngOnChanges(e)}}function fj(t,e,n,i,r){let s=this.declaredInputs[i],o=ZA(t)||pj(t,{previous:wo,current:null}),a=o.current||(o.current={}),c=o.previous,u=c[s];a[s]=new Oy(u&&u.currentValue,n,c===wo),KA(t,e,r,n)}var QA="__ngSimpleChanges__";function ZA(t){return t[QA]||null}function pj(t,e){return t[QA]=e}var VD=null;var je=function(t,e=null,n){VD?.(t,e,n)},JA="svg",mj="math";function Ni(t){for(;Array.isArray(t);)t=t[Er];return t}function eF(t,e){return Ni(e[t])}function Bi(t,e){return Ni(e[t.index])}function Bw(t,e){return t.data[e]}function jw(t,e){return t[e]}function gj(t,e,n,i){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=i}function Li(t,e){let n=e[t];return ps(n)?n:n[Er]}function vj(t){return(t[he]&4)===4}function $w(t){return(t[he]&128)===128}function _j(t){return Ir(t[Qt])}function cc(t,e){return e==null?null:t[e]}function tF(t){t[Ja]=0}function nF(t){t[he]&1024||(t[he]|=1024,$w(t)&&gc(t))}function yj(t,e){for(;t>0;)e=e[fc],t--;return e}function zp(t){return!!(t[he]&9216||t[Wn]?.dirty)}function Ny(t){t[br].changeDetectionScheduler?.notify(8),t[he]&64&&(t[he]|=1024),zp(t)&&gc(t)}function gc(t){t[br].changeDetectionScheduler?.notify(0);let e=To(t);for(;e!==null&&!(e[he]&8192||(e[he]|=8192,!$w(e)));)e=To(e)}function iF(t,e){if(mc(t))throw new z(911,!1);t[fs]===null&&(t[fs]=[]),t[fs].push(e)}function wj(t,e){if(t[fs]===null)return;let n=t[fs].indexOf(e);n!==-1&&t[fs].splice(n,1)}function To(t){let e=t[Qt];return Ir(e)?e[Qt]:e}function Hw(t){return t[gp]??=[]}function Gw(t){return t.cleanup??=[]}function xj(t,e,n,i){let r=Hw(e);r.push(n),t.firstCreatePass&&Gw(t).push(i,r.length-1)}var ye={lFrame:fF(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Ly=!1;function bj(){return ye.lFrame.elementDepthCount}function Cj(){ye.lFrame.elementDepthCount++}function Tj(){ye.lFrame.elementDepthCount--}function rF(){return ye.bindingsEnabled}function sF(){return ye.skipHydrationRootTNode!==null}function Ej(t){return ye.skipHydrationRootTNode===t}function Ij(){ye.skipHydrationRootTNode=null}function oe(){return ye.lFrame.lView}function ft(){return ye.lFrame.tView}function be(t){return ye.lFrame.contextLView=t,t[It]}function Ce(t){return ye.lFrame.contextLView=null,t}function dn(){let t=oF();for(;t!==null&&t.type===64;)t=t.parent;return t}function oF(){return ye.lFrame.currentTNode}function Sj(){let t=ye.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function ju(t,e){let n=ye.lFrame;n.currentTNode=t,n.isParent=e}function aF(){return ye.lFrame.isParent}function cF(){ye.lFrame.isParent=!1}function Dj(){return ye.lFrame.contextLView}function lF(){return Ly}function yp(t){let e=Ly;return Ly=t,e}function ko(){let t=ye.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Aj(){return ye.lFrame.bindingIndex}function Fj(t){return ye.lFrame.bindingIndex=t}function vc(){return ye.lFrame.bindingIndex++}function zw(t){let e=ye.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function kj(){return ye.lFrame.inI18n}function Mj(t,e){let n=ye.lFrame;n.bindingIndex=n.bindingRootIndex=t,Uy(e)}function Rj(){return ye.lFrame.currentDirectiveIndex}function Uy(t){ye.lFrame.currentDirectiveIndex=t}function Pj(t){let e=ye.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function uF(){return ye.lFrame.currentQueryIndex}function Ww(t){ye.lFrame.currentQueryIndex=t}function Oj(t){let e=t[pe];return e.type===2?e.declTNode:e.type===1?t[Tn]:null}function dF(t,e,n){if(n&_e.SkipSelf){let r=e,s=t;for(;r=r.parent,r===null&&!(n&_e.Host);)if(r=Oj(s),r===null||(s=s[fc],r.type&10))break;if(r===null)return!1;e=r,t=s}let i=ye.lFrame=hF();return i.currentTNode=e,i.lView=t,!0}function qw(t){let e=hF(),n=t[pe];ye.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function hF(){let t=ye.lFrame,e=t===null?null:t.child;return e===null?fF(t):e}function fF(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function pF(){let t=ye.lFrame;return ye.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var mF=pF;function Yw(){let t=pF();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Nj(t){return(ye.lFrame.contextLView=yj(t,ye.lFrame.contextLView))[It]}function Sr(){return ye.lFrame.selectedIndex}function Eo(t){ye.lFrame.selectedIndex=t}function Wp(){let t=ye.lFrame;return Bw(t.tView,t.selectedIndex)}function ji(){ye.lFrame.currentNamespace=JA}function Lj(){return ye.lFrame.currentNamespace}var gF=!0;function Kw(){return gF}function Xw(t){gF=t}function Uj(t,e,n){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(i){let o=XA(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}r&&(n.preOrderHooks??=[]).push(0-t,r),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function vF(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:d}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),d!=null&&(t.destroyHooks??=[]).push(n,d)}}function op(t,e,n){_F(t,e,3,n)}function ap(t,e,n,i){(t[he]&3)===n&&_F(t,e,n,i)}function gy(t,e){let n=t[he];(n&3)===e&&(n&=16383,n+=1,t[he]=n)}function _F(t,e,n,i){let r=i!==void 0?t[Ja]&65535:0,s=i??-1,o=e.length-1,a=0;for(let c=r;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],i!=null&&a>=i)break}else e[c]<0&&(t[Ja]+=65536),(a<s||s==-1)&&(Vj(t,n,e,c),t[Ja]=(t[Ja]&4294901760)+c+2),c++}function BD(t,e){je(4,t,e);let n=me(null);try{e.call(t)}finally{me(n),je(5,t,e)}}function Vj(t,e,n,i){let r=n[i]<0,s=n[i+1],o=r?-n[i]:n[i],a=t[o];r?t[he]>>14<t[Ja]>>16&&(t[he]&3)===e&&(t[he]+=16384,BD(a,s)):BD(a,s)}var ic=-1,Io=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,i){this.factory=e,this.canSeeViewProviders=n,this.injectImpl=i}};function Bj(t){return(t.flags&8)!==0}function jj(t){return(t.flags&16)!==0}function $j(t,e,n){let i=0;for(;i<n.length;){let r=n[i];if(typeof r=="number"){if(r!==0)break;i++;let s=n[i++],o=n[i++],a=n[i++];t.setAttribute(e,o,a,s)}else{let s=r,o=n[++i];Hj(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),i++}}return i}function yF(t){return t===3||t===4||t===6}function Hj(t){return t.charCodeAt(0)===64}function Mu(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?n=r:n===0||(n===-1||n===2?jD(t,n,r,null,e[++i]):jD(t,n,r,null,null))}}return t}function jD(t,e,n,i,r){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){r!==null&&(t[s+1]=r);return}s++,r!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r)}function wF(t){return t!==ic}function wp(t){return t&32767}function Gj(t){return t>>16}function xp(t,e){let n=Gj(t),i=e;for(;n>0;)i=i[fc],n--;return i}var Vy=!0;function bp(t){let e=Vy;return Vy=t,e}var zj=256,xF=zj-1,bF=5,Wj=0,Pi={};function qj(t,e,n){let i;typeof n=="string"?i=n.charCodeAt(0)||0:n.hasOwnProperty(Du)&&(i=n[Du]),i==null&&(i=n[Du]=Wj++);let r=i&xF,s=1<<r;e.data[t+(r>>bF)]|=s}function Cp(t,e){let n=CF(t,e);if(n!==-1)return n;let i=e[pe];i.firstCreatePass&&(t.injectorIndex=e.length,vy(i.data,t),vy(e,null),vy(i.blueprint,null));let r=Qw(t,e),s=t.injectorIndex;if(wF(r)){let o=wp(r),a=xp(r,e),c=a[pe].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|c[o+u]}return e[s+8]=r,s}function vy(t,e){t.push(0,0,0,0,0,0,0,0,e)}function CF(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Qw(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,i=null,r=e;for(;r!==null;){if(i=DF(r),i===null)return ic;if(n++,r=r[fc],i.injectorIndex!==-1)return i.injectorIndex|n<<16}return ic}function By(t,e,n){qj(t,e,n)}function Yj(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let i=n.length,r=0;for(;r<i;){let s=n[r];if(yF(s))break;if(s===0)r=r+2;else if(typeof s=="number")for(r++;r<i&&typeof n[r]=="string";)r++;else{if(s===e)return n[r+1];r=r+2}}}return null}function TF(t,e,n){if(n&_e.Optional||t!==void 0)return t;Nw(e,"NodeInjector")}function EF(t,e,n,i){if(n&_e.Optional&&i===void 0&&(i=null),(n&(_e.Self|_e.Host))===0){let r=t[oc],s=yn(void 0);try{return r?r.get(e,i,n&_e.Optional):PA(e,i,n&_e.Optional)}finally{yn(s)}}return TF(i,e,n)}function IF(t,e,n,i=_e.Default,r){if(t!==null){if(e[he]&2048&&!(i&_e.Self)){let o=Zj(t,e,n,i,Pi);if(o!==Pi)return o}let s=SF(t,e,n,i,Pi);if(s!==Pi)return s}return EF(e,n,i,r)}function SF(t,e,n,i,r){let s=Xj(n);if(typeof s=="function"){if(!dF(e,t,i))return i&_e.Host?TF(r,n,i):EF(e,n,i,r);try{let o;if(o=s(i),o==null&&!(i&_e.Optional))Nw(n);else return o}finally{mF()}}else if(typeof s=="number"){let o=null,a=CF(t,e),c=ic,u=i&_e.Host?e[Rn][Tn]:null;for((a===-1||i&_e.SkipSelf)&&(c=a===-1?Qw(t,e):e[a+8],c===ic||!HD(i,!1)?a=-1:(o=e[pe],a=wp(c),e=xp(c,e)));a!==-1;){let d=e[pe];if($D(s,a,d.data)){let f=Kj(a,e,n,o,i,u);if(f!==Pi)return f}c=e[a+8],c!==ic&&HD(i,e[pe].data[a+8]===u)&&$D(s,a,e)?(o=d,a=wp(c),e=xp(c,e)):a=-1}}return r}function Kj(t,e,n,i,r,s){let o=e[pe],a=o.data[t+8],c=i==null?pc(a)&&Vy:i!=o&&(a.type&3)!==0,u=r&_e.Host&&s===a,d=cp(a,o,n,c,u);return d!==null?Ru(e,o,d,a,r):Pi}function cp(t,e,n,i,r){let s=t.providerIndexes,o=e.data,a=s&1048575,c=t.directiveStart,u=t.directiveEnd,d=s>>20,f=i?a:a+d,m=r?a+d:u;for(let g=f;g<m;g++){let w=o[g];if(g<c&&n===w||g>=c&&w.type===n)return g}if(r){let g=o[c];if(g&&Oi(g)&&g.type===n)return c}return null}function Ru(t,e,n,i,r){let s=t[n],o=e.data;if(s instanceof Io){let a=s;a.resolving&&MA(V4(o[n]));let c=bp(a.canSeeViewProviders);a.resolving=!0;let u,d=a.injectImpl?yn(a.injectImpl):null,f=dF(t,i,_e.Default);try{s=t[n]=a.factory(void 0,r,o,t,i),e.firstCreatePass&&n>=i.directiveStart&&Uj(n,o[n],e)}finally{d!==null&&yn(d),bp(c),a.resolving=!1,mF()}}return s}function Xj(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Du)?t[Du]:void 0;return typeof e=="number"?e>=0?e&xF:Qj:e}function $D(t,e,n){let i=1<<t;return!!(n[e+(t>>bF)]&i)}function HD(t,e){return!(t&_e.Self)&&!(t&_e.Host&&e)}var vo=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,i){return IF(this._tNode,this._lView,e,Vp(i),n)}};function Qj(){return new vo(dn(),oe())}function $i(t){return Vu(()=>{let e=t.prototype.constructor,n=e[dp]||jy(e),i=Object.prototype,r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){let s=r[dp]||jy(r);if(s&&s!==n)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function jy(t){return SA(t)?()=>{let e=jy(un(t));return e&&e()}:yo(t)}function Zj(t,e,n,i,r){let s=t,o=e;for(;s!==null&&o!==null&&o[he]&2048&&!_p(o);){let a=SF(s,o,n,i|_e.Self,Pi);if(a!==Pi)return a;let c=s.parent;if(!c){let u=o[WA];if(u){let d=u.get(n,Pi,i);if(d!==Pi)return d}c=DF(o),o=o[fc]}s=c}return r}function DF(t){let e=t[pe],n=e.type;return n===2?e.declTNode:n===1?t[Tn]:null}function Zw(t){return Yj(dn(),t)}function GD(t,e=null,n=null,i){let r=AF(t,e,n,i);return r.resolveInjectorInitializers(),r}function AF(t,e=null,n=null,i,r=new Set){let s=[n||wn,tj(t)];return i=i||(typeof t=="object"?void 0:xn(t)),new Fu(s,e||$p(),i||null,r)}var Ke=class t{static THROW_IF_NOT_FOUND=go;static NULL=new mp;static create(e,n){if(Array.isArray(e))return GD({name:""},n,e,"");{let i=e.name??"";return GD({name:i},e.parent,e.providers,i)}}static \u0275prov=G({token:t,providedIn:"any",factory:()=>K(UA)});static __NG_ELEMENT_ID__=-1};var Jj=new W("");Jj.__NG_ELEMENT_ID__=t=>{let e=dn();if(e===null)throw new z(204,!1);if(e.type&2)return e.value;if(t&_e.Optional)return null;throw new z(204,!1)};var FF=!1,Hi=(()=>{class t{static __NG_ELEMENT_ID__=e6;static __NG_ENV_ID__=n=>n}return t})(),Tp=class extends Hi{_lView;constructor(e){super(),this._lView=e}onDestroy(e){let n=this._lView;return mc(n)?(e(),()=>{}):(iF(n,e),()=>wj(n,e))}};function e6(){return new Tp(oe())}var So=class{},kF=new W("",{providedIn:"root",factory:()=>!1});var MF=new W(""),RF=new W(""),_s=(()=>{class t{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Tt(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=G({token:t,providedIn:"root",factory:()=>new t})}return t})();var $y=class extends nt{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,zA()&&(this.destroyRef=R(Hi,{optional:!0})??void 0,this.pendingTasks=R(_s,{optional:!0})??void 0)}emit(e){let n=me(null);try{super.next(e)}finally{me(n)}}subscribe(e,n,i){let r=e,s=n||(()=>null),o=i;if(e&&typeof e=="object"){let c=e;r=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=this.wrapInTimeout(s),r&&(r=this.wrapInTimeout(r)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:r,error:s,complete:o});return e instanceof at&&e.add(a),a}wrapInTimeout(e){return n=>{let i=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{i!==void 0&&this.pendingTasks?.remove(i)}})}}},re=$y;function Pu(...t){}function PF(t){let e,n;function i(){t=Pu;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),i()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),i()})),()=>i()}function zD(t){return queueMicrotask(()=>t()),()=>{t=Pu}}var Jw="isAngularZone",Ep=Jw+"_ID",t6=0,Oe=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new re(!1);onMicrotaskEmpty=new re(!1);onStable=new re(!1);onError=new re(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:s=FF}=e;if(typeof Zone>"u")throw new z(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&i,o.shouldCoalesceRunChangeDetection=r,o.callbackScheduled=!1,o.scheduleInRootZone=s,r6(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Jw)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new z(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new z(909,!1)}run(e,n,i){return this._inner.run(e,n,i)}runTask(e,n,i,r){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,e,n6,Pu,Pu);try{return s.runTask(o,n,i)}finally{s.cancelTask(o)}}runGuarded(e,n,i){return this._inner.runGuarded(e,n,i)}runOutsideAngular(e){return this._outer.run(e)}},n6={};function ex(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function i6(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){PF(()=>{t.callbackScheduled=!1,Hy(t),t.isCheckStableRunning=!0,ex(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Hy(t)}function r6(t){let e=()=>{i6(t)},n=t6++;t._inner=t._inner.fork({name:"angular",properties:{[Jw]:!0,[Ep]:n,[Ep+n]:!0},onInvokeTask:(i,r,s,o,a,c)=>{if(s6(c))return i.invokeTask(s,o,a,c);try{return WD(t),i.invokeTask(s,o,a,c)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),qD(t)}},onInvoke:(i,r,s,o,a,c,u)=>{try{return WD(t),i.invoke(s,o,a,c,u)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!o6(c)&&e(),qD(t)}},onHasTask:(i,r,s,o)=>{i.hasTask(s,o),r===s&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,Hy(t),ex(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(i,r,s,o)=>(i.handleError(s,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function Hy(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function WD(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function qD(t){t._nesting--,ex(t)}var Gy=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new re;onMicrotaskEmpty=new re;onStable=new re;onError=new re;run(e,n,i){return e.apply(n,i)}runGuarded(e,n,i){return e.apply(n,i)}runOutsideAngular(e){return e()}runTask(e,n,i,r){return e.apply(n,i)}};function s6(t){return OF(t,"__ignore_ng_zone__")}function o6(t){return OF(t,"__scheduler_tick__")}function OF(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var fi=class{_console=console;handleError(e){this._console.error("ERROR",e)}},a6=new W("",{providedIn:"root",factory:()=>{let t=R(Oe),e=R(fi);return n=>t.runOutsideAngular(()=>e.handleError(n))}}),zy=class{destroyed=!1;listeners=null;errorHandler=R(fi,{optional:!0});destroyRef=R(Hi);constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(e){if(this.destroyed)throw new z(953,!1);return(this.listeners??=[]).push(e),{unsubscribe:()=>{let n=this.listeners?.indexOf(e);n!==void 0&&n!==-1&&this.listeners?.splice(n,1)}}}emit(e){if(this.destroyed){console.warn(Ow(953,!1));return}if(this.listeners===null)return;let n=me(null);try{for(let i of this.listeners)try{i(e)}catch(r){this.errorHandler?.handleError(r)}}finally{me(n)}}};function NF(t){return new zy}function YD(t,e){return EA(t,e)}function c6(t){return EA(TA,t)}var Mo=(YD.required=c6,YD);function l6(){return _c(dn(),oe())}function _c(t,e){return new et(Bi(t,e))}var et=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=l6}return t})();function u6(t){return t instanceof et?t.nativeElement:t}function d6(t){return typeof t=="function"&&t[zn]!==void 0}function Kn(t,e){let n=Y_(t,e?.equal),i=n[zn];return n.set=r=>gu(i,r),n.update=r=>K_(i,r),n.asReadonly=h6.bind(n),n}function h6(){let t=this[zn];if(t.readonlyFn===void 0){let e=()=>this();e[zn]=t,t.readonlyFn=e}return t.readonlyFn}function LF(t){return d6(t)&&typeof t.set=="function"}function f6(){return this._results[Symbol.iterator]()}var Wy=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new nt}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let i=K4(e);(this._changesDetected=!Y4(this._results,i,n))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=f6};function UF(t){return(t.flags&128)===128}var VF=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(VF||{}),BF=new Map,p6=0;function m6(){return p6++}function g6(t){BF.set(t[Gp],t)}function qy(t){BF.delete(t[Gp])}var KD="__ngContext__";function $u(t,e){ps(e)?(t[KD]=e[Gp],g6(e)):t[KD]=e}function jF(t){return HF(t[ku])}function $F(t){return HF(t[hi])}function HF(t){for(;t!==null&&!Ir(t);)t=t[hi];return t}var Yy;function GF(t){Yy=t}function zF(){if(Yy!==void 0)return Yy;if(typeof document<"u")return document;throw new z(210,!1)}var tx=new W("",{providedIn:"root",factory:()=>v6}),v6="ng",nx=new W(""),Xn=new W("",{providedIn:"platform",factory:()=>"unknown"});var ix=new W("",{providedIn:"root",factory:()=>zF().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var _6="h",y6="b";var WF=!1,w6=new W("",{providedIn:"root",factory:()=>WF});var rx=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(rx||{}),yc=new W(""),XD=new Set;function Ro(t){XD.has(t)||(XD.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var sx=(()=>{class t{view;node;constructor(n,i){this.view=n,this.node=i}static __NG_ELEMENT_ID__=x6}return t})();function x6(){return new sx(oe(),dn())}var ec=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(ec||{}),qF=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=G({token:t,providedIn:"root",factory:()=>new t})}return t})(),b6=[ec.EarlyRead,ec.Write,ec.MixedReadWrite,ec.Read],C6=(()=>{class t{ngZone=R(Oe);scheduler=R(So);errorHandler=R(fi,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){R(yc,{optional:!0})}execute(){let n=this.sequences.size>0;n&&je(16),this.executing=!0;for(let i of b6)for(let r of this.sequences)if(!(r.erroredOrDestroyed||!r.hooks[i]))try{r.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let s=r.hooks[i];return s(r.pipelinedValue)},r.snapshot))}catch(s){r.erroredOrDestroyed=!0,this.errorHandler?.handleError(s)}this.executing=!1;for(let i of this.sequences)i.afterRun(),i.once&&(this.sequences.delete(i),i.destroy());for(let i of this.deferredRegistrations)this.sequences.add(i);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&je(17)}register(n){let{view:i}=n;i!==void 0?((i[nc]??=[]).push(n),gc(i),i[he]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,i){return i?i.run(rx.AFTER_NEXT_RENDER,n):n()}static \u0275prov=G({token:t,providedIn:"root",factory:()=>new t})}return t})(),Ky=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,n,i,r,s,o=null){this.impl=e,this.hooks=n,this.view=i,this.once=r,this.snapshot=o,this.unregisterOnDestroy=s?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[nc];e&&(this.view[nc]=e.filter(n=>n!==this))}};function ox(t,e){!e?.injector&&Hp(ox);let n=e?.injector??R(Ke);return Ro("NgAfterNextRender"),E6(t,n,e,!0)}function T6(t,e){if(t instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[e]=t,n}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function E6(t,e,n,i){let r=e.get(qF);r.impl??=e.get(C6);let s=e.get(yc,null,{optional:!0}),o=n?.phase??ec.MixedReadWrite,a=n?.manualCleanup!==!0?e.get(Hi):null,c=e.get(sx,null,{optional:!0}),u=new Ky(r.impl,T6(t,o),c?.view,i,a,s?.snapshot(null));return r.impl.register(u),u}var I6=(t,e,n,i)=>{};function S6(t,e,n,i){I6(t,e,n,i)}var D6=()=>null;function YF(t,e,n=!1){return D6(t,e,n)}function KF(t,e){let n=t.contentQueries;if(n!==null){let i=me(null);try{for(let r=0;r<n.length;r+=2){let s=n[r],o=n[r+1];if(o!==-1){let a=t.data[o];Ww(s),a.contentQueries(2,e[o],o)}}}finally{me(i)}}}function Xy(t,e,n){Ww(0);let i=me(null);try{e(t,n)}finally{me(i)}}function XF(t,e,n){if(YA(e)){let i=me(null);try{let r=e.directiveStart,s=e.directiveEnd;for(let o=r;o<s;o++){let a=t.data[o];if(a.contentQueries){let c=n[o];a.contentQueries(1,c,o)}}}finally{me(i)}}}var Ui=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Ui||{}),tp;function A6(){if(tp===void 0&&(tp=null,xr.trustedTypes))try{tp=xr.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return tp}function qp(t){return A6()?.createHTML(t)||t}var np;function QF(){if(np===void 0&&(np=null,xr.trustedTypes))try{np=xr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return np}function QD(t){return QF()?.createHTML(t)||t}function ZD(t){return QF()?.createScriptURL(t)||t}var Ip=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${CA})`}};function wc(t){return t instanceof Ip?t.changingThisBreaksApplicationSecurity:t}function ax(t,e){let n=F6(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${CA})`)}return n===e}function F6(t){return t instanceof Ip&&t.getTypeName()||null}function k6(t){let e=new Zy(t);return M6()?new Qy(e):e}var Qy=class{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(qp(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.firstChild?.remove(),n)}catch{return null}}},Zy=class{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=qp(e),n}};function M6(){try{return!!new window.DOMParser().parseFromString(qp(""),"text/html")}catch{return!1}}var R6=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ZF(t){return t=String(t),t.match(R6)?t:"unsafe:"+t}function Dr(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function Hu(...t){let e={};for(let n of t)for(let i in n)n.hasOwnProperty(i)&&(e[i]=!0);return e}var JF=Dr("area,br,col,hr,img,wbr"),ek=Dr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),tk=Dr("rp,rt"),P6=Hu(tk,ek),O6=Hu(ek,Dr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),N6=Hu(tk,Dr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),JD=Hu(JF,O6,N6,P6),nk=Dr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),L6=Dr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),U6=Dr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),V6=Hu(nk,L6,U6),B6=Dr("script,style,template"),Jy=class{sanitizedSomething=!1;buf=[];sanitizeChildren(e){let n=e.firstChild,i=!0,r=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?i=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,i&&n.firstChild){r.push(n),n=H6(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let s=$6(n);if(s){n=s;break}n=r.pop()}}return this.buf.join("")}startElement(e){let n=eA(e).toLowerCase();if(!JD.hasOwnProperty(n))return this.sanitizedSomething=!0,!B6.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let i=e.attributes;for(let r=0;r<i.length;r++){let s=i.item(r),o=s.name,a=o.toLowerCase();if(!V6.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=s.value;nk[a]&&(c=ZF(c)),this.buf.push(" ",o,'="',tA(c),'"')}return this.buf.push(">"),!0}endElement(e){let n=eA(e).toLowerCase();JD.hasOwnProperty(n)&&!JF.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(tA(e))}};function j6(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function $6(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw ik(e);return e}function H6(t){let e=t.firstChild;if(e&&j6(t,e))throw ik(e);return e}function eA(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function ik(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var G6=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,z6=/([^\#-~ |!])/g;function tA(t){return t.replace(/&/g,"&amp;").replace(G6,function(e){let n=e.charCodeAt(0),i=e.charCodeAt(1);return"&#"+((n-55296)*1024+(i-56320)+65536)+";"}).replace(z6,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var ip;function W6(t,e){let n=null;try{ip=ip||k6(t);let i=e?String(e):"";n=ip.getInertBodyElement(i);let r=5,s=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=n.innerHTML,n=ip.getInertBodyElement(i)}while(i!==s);let a=new Jy().sanitizeChildren(nA(n)||n);return qp(a)}finally{if(n){let i=nA(n)||n;for(;i.firstChild;)i.firstChild.remove()}}}function nA(t){return"content"in t&&q6(t)?t.content:null}function q6(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var Yp=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Yp||{});function rk(t){let e=cx();return e?QD(e.sanitize(Yp.HTML,t)||""):ax(t,"HTML")?QD(wc(t)):W6(zF(),_o(t))}function Gi(t){let e=cx();return e?e.sanitize(Yp.URL,t)||"":ax(t,"URL")?wc(t):ZF(_o(t))}function Y6(t){let e=cx();if(e)return ZD(e.sanitize(Yp.RESOURCE_URL,t)||"");if(ax(t,"ResourceURL"))return ZD(wc(t));throw new z(904,!1)}function K6(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?Y6:Gi}function sk(t,e,n){return K6(e,n)(t)}function cx(){let t=oe();return t&&t[br].sanitizer}function ok(t){return t.ownerDocument.defaultView}function ak(t){return t instanceof Function?t():t}function X6(t,e,n){let i=t.length;for(;;){let r=t.indexOf(e,n);if(r===-1)return r;if(r===0||t.charCodeAt(r-1)<=32){let s=e.length;if(r+s===i||t.charCodeAt(r+s)<=32)return r}n=r+1}}var ck="ng-template";function Q6(t,e,n,i){let r=0;if(i){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&X6(e[r+1].toLowerCase(),n,0)!==-1)return!0}else if(lx(t))return!1;if(r=e.indexOf(1,r),r>-1){let s;for(;++r<e.length&&typeof(s=e[r])=="string";)if(s.toLowerCase()===n)return!0}return!1}function lx(t){return t.type===4&&t.value!==ck}function Z6(t,e,n){let i=t.type===4&&!n?ck:t.value;return e===i}function J6(t,e,n){let i=4,r=t.attrs,s=r!==null?n$(r):0,o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!ui(i)&&!ui(c))return!1;if(o&&ui(c))continue;o=!1,i=c|i&1;continue}if(!o)if(i&4){if(i=2|i&1,c!==""&&!Z6(t,c,n)||c===""&&e.length===1){if(ui(i))return!1;o=!0}}else if(i&8){if(r===null||!Q6(t,r,c,n)){if(ui(i))return!1;o=!0}}else{let u=e[++a],d=e$(c,r,lx(t),n);if(d===-1){if(ui(i))return!1;o=!0;continue}if(u!==""){let f;if(d>s?f="":f=r[d+1].toLowerCase(),i&2&&u!==f){if(ui(i))return!1;o=!0}}}}return ui(i)||o}function ui(t){return(t&1)===0}function e$(t,e,n,i){if(e===null)return-1;let r=0;if(i||!n){let s=!1;for(;r<e.length;){let o=e[r];if(o===t)return r;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(o===4)break;if(o===0){r+=4;continue}}r+=s?1:2}return-1}else return i$(e,t)}function lk(t,e,n=!1){for(let i=0;i<e.length;i++)if(J6(t,e[i],n))return!0;return!1}function t$(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if((n&1)===0)return e[n+1]}return null}function n$(t){for(let e=0;e<t.length;e++){let n=t[e];if(yF(n))return e}return t.length}function i$(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let i=t[n];if(typeof i=="number")return-1;if(i===e)return n;n++}return-1}function r$(t,e){e:for(let n=0;n<e.length;n++){let i=e[n];if(t.length===i.length){for(let r=0;r<t.length;r++)if(t[r]!==i[r])continue e;return!0}}return!1}function iA(t,e){return t?":not("+e.trim()+")":e}function s$(t){let e=t[0],n=1,i=2,r="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(i&2){let a=t[++n];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+o:i&4&&(r+=" "+o);else r!==""&&!ui(o)&&(e+=iA(s,r),r=""),i=o,s=s||!ui(i);n++}return r!==""&&(e+=iA(s,r)),e}function o$(t){return t.map(s$).join(",")}function a$(t){let e=[],n=[],i=1,r=2;for(;i<t.length;){let s=t[i];if(typeof s=="string")r===2?s!==""&&e.push(s,t[++i]):r===8&&n.push(s);else{if(!ui(r))break;r=s}i++}return n.length&&e.push(1,...n),e}var En={};function c$(t,e){return t.createText(e)}function l$(t,e,n){t.setValue(e,n)}function uk(t,e,n){return t.createElement(e,n)}function Sp(t,e,n,i,r){t.insertBefore(e,n,i,r)}function dk(t,e,n){t.appendChild(e,n)}function rA(t,e,n,i,r){i!==null?Sp(t,e,n,i,r):dk(t,e,n)}function u$(t,e,n){t.removeChild(null,e,n)}function d$(t,e,n){t.setAttribute(e,"style",n)}function h$(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function hk(t,e,n){let{mergedAttrs:i,classes:r,styles:s}=n;i!==null&&$j(t,e,i),r!==null&&h$(t,e,r),s!==null&&d$(t,e,s)}function ux(t,e,n,i,r,s,o,a,c,u,d){let f=Rt+i,m=f+r,g=f$(f,m),w=typeof u=="function"?u():u;return g[pe]={type:t,blueprint:g,template:n,queries:null,viewQuery:a,declTNode:e,data:g.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:w,incompleteFirstPass:!1,ssrId:d}}function f$(t,e){let n=[];for(let i=0;i<e;i++)n.push(i<t?null:En);return n}function p$(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=ux(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function dx(t,e,n,i,r,s,o,a,c,u,d){let f=e.blueprint.slice();return f[Er]=r,f[he]=i|4|128|8|64|1024,(u!==null||t&&t[he]&2048)&&(f[he]|=2048),tF(f),f[Qt]=f[fc]=t,f[It]=n,f[br]=o||t&&t[br],f[lt]=a||t&&t[lt],f[oc]=c||t&&t[oc]||null,f[Tn]=s,f[Gp]=m6(),f[sc]=d,f[WA]=u,f[Rn]=e.type==2?t[Rn]:f,f}function m$(t,e,n){let i=Bi(e,t),r=p$(n),s=t[br].rendererFactory,o=hx(t,dx(t,r,null,fk(n),i,e,null,s.createRenderer(i,n),null,null,null));return t[e.index]=o}function fk(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function pk(t,e,n,i){if(n===0)return-1;let r=e.length;for(let s=0;s<n;s++)e.push(i),t.blueprint.push(i),t.data.push(null);return r}function hx(t,e){return t[ku]?t[UD][hi]=e:t[ku]=e,t[UD]=e,e}function O(t=1){mk(ft(),oe(),Sr()+t,!1)}function mk(t,e,n,i){if(!i)if((e[he]&3)===3){let s=t.preOrderCheckHooks;s!==null&&op(e,s,n)}else{let s=t.preOrderHooks;s!==null&&ap(e,s,0,n)}Eo(n)}var Kp=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Kp||{});function ew(t,e,n,i){let r=me(null);try{let[s,o,a]=t.inputs[n],c=null;(o&Kp.SignalBased)!==0&&(c=e[s][zn]),c!==null&&c.transformFn!==void 0?i=c.transformFn(i):a!==null&&(i=a.call(e,i)),t.setInput!==null?t.setInput(e,c,i,n,s):KA(e,c,s,i)}finally{me(r)}}function gk(t,e,n,i,r){let s=Sr(),o=i&2;try{Eo(-1),o&&e.length>Rt&&mk(t,e,Rt,!1),je(o?2:0,r),n(i,r)}finally{Eo(s),je(o?3:1,r)}}function fx(t,e,n){x$(t,e,n),(n.flags&64)===64&&b$(t,e,n)}function vk(t,e,n=Bi){let i=e.localNames;if(i!==null){let r=e.index+1;for(let s=0;s<i.length;s+=2){let o=i[s+1],a=o===-1?n(e,t):t[o];t[r++]=a}}}function g$(t,e,n,i){let s=i.get(w6,WF)||n===Ui.ShadowDom,o=t.selectRootElement(e,s);return v$(o),o}function v$(t){_$(t)}var _$=()=>null;function y$(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function px(t,e,n,i,r,s,o,a){if(!a&&mx(e,t,n,i,r)){pc(e)&&w$(n,e.index);return}if(e.type&3){let c=Bi(e,n);i=y$(i),r=o!=null?o(r,e.value||"",i):r,s.setProperty(c,i,r)}else e.type&12}function w$(t,e){let n=Li(e,t);n[he]&16||(n[he]|=64)}function x$(t,e,n){let i=n.directiveStart,r=n.directiveEnd;pc(n)&&m$(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Cp(n,e);let s=n.initialInputs;for(let o=i;o<r;o++){let a=t.data[o],c=Ru(e,t,o,n);if($u(c,e),s!==null&&I$(e,o-i,c,a,n,s),Oi(a)){let u=Li(n.index,e);u[It]=Ru(e,t,o,n)}}}function b$(t,e,n){let i=n.directiveStart,r=n.directiveEnd,s=n.index,o=Rj();try{Eo(s);for(let a=i;a<r;a++){let c=t.data[a],u=e[a];Uy(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&C$(c,u)}}finally{Eo(-1),Uy(o)}}function C$(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function _k(t,e){let n=t.directiveRegistry,i=null;if(n)for(let r=0;r<n.length;r++){let s=n[r];lk(e,s.selectors,!1)&&(i??=[],Oi(s)?i.unshift(s):i.push(s))}return i}function T$(t,e,n,i,r,s){let o=Bi(t,e);E$(e[lt],o,s,t.value,n,i,r)}function E$(t,e,n,i,r,s,o){if(s==null)t.removeAttribute(e,r,n);else{let a=o==null?_o(s):o(s,i||"",r);t.setAttribute(e,r,a,n)}}function I$(t,e,n,i,r,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;a+=2){let c=o[a],u=o[a+1];ew(i,n,c,u)}}function S$(t,e){let n=t[oc],i=n?n.get(fi,null):null;i&&i.handleError(e)}function mx(t,e,n,i,r){let s=t.inputs?.[i],o=t.hostDirectiveInputs?.[i],a=!1;if(o)for(let c=0;c<o.length;c+=2){let u=o[c],d=o[c+1],f=e.data[u];ew(f,n[u],d,r),a=!0}if(s)for(let c of s){let u=n[c],d=e.data[c];ew(d,u,i,r),a=!0}return a}function D$(t,e){let n=Li(e,t),i=n[pe];A$(i,n);let r=n[Er];r!==null&&n[sc]===null&&(n[sc]=YF(r,n[oc])),je(18),gx(i,n,n[It]),je(19,n[It])}function A$(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function gx(t,e,n){qw(e);try{let i=t.viewQuery;i!==null&&Xy(1,i,n);let r=t.template;r!==null&&gk(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Cr]?.finishViewCreation(t),t.staticContentQueries&&KF(t,e),t.staticViewQueries&&Xy(2,t.viewQuery,n);let s=t.components;s!==null&&F$(e,s)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{e[he]&=-5,Yw()}}function F$(t,e){for(let n=0;n<e.length;n++)D$(t,e[n])}function Gu(t,e,n,i){let r=me(null);try{let s=e.tView,a=t[he]&4096?4096:16,c=dx(t,s,n,a,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),u=t[e.index];c[xo]=u;let d=t[Cr];return d!==null&&(c[Cr]=d.createEmbeddedView(s)),gx(s,c,n),c}finally{me(r)}}function lc(t,e){return!e||e.firstChild===null||UF(t)}var k$;function vx(t,e){return k$(t,e)}var Vi=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Vi||{});function _x(t){return(t.flags&32)===32}function tc(t,e,n,i,r){if(i!=null){let s,o=!1;Ir(i)?s=i:ps(i)&&(o=!0,i=i[Er]);let a=Ni(i);t===0&&n!==null?r==null?dk(e,n,a):Sp(e,n,a,r||null,!0):t===1&&n!==null?Sp(e,n,a,r||null,!0):t===2?u$(e,a,o):t===3&&e.destroyNode(a),s!=null&&j$(e,t,s,n,r)}}function M$(t,e){yk(t,e),e[Er]=null,e[Tn]=null}function R$(t,e,n,i,r,s){i[Er]=r,i[Tn]=e,Qp(t,i,n,1,r,s)}function yk(t,e){e[br].changeDetectionScheduler?.notify(9),Qp(t,e,e[lt],2,null,null)}function P$(t){let e=t[ku];if(!e)return _y(t[pe],t);for(;e;){let n=null;if(ps(e))n=e[ku];else{let i=e[Xt];i&&(n=i)}if(!n){for(;e&&!e[hi]&&e!==t;)ps(e)&&_y(e[pe],e),e=e[Qt];e===null&&(e=t),ps(e)&&_y(e[pe],e),n=e&&e[hi]}e=n}}function yx(t,e){let n=t[ac],i=n.indexOf(e);n.splice(i,1)}function Xp(t,e){if(mc(e))return;let n=e[lt];n.destroyNode&&Qp(t,e,n,3,null,null),P$(e)}function _y(t,e){if(mc(e))return;let n=me(null);try{e[he]&=-129,e[he]|=256,e[Wn]&&mu(e[Wn]),N$(t,e),O$(t,e),e[pe].type===1&&e[lt].destroy();let i=e[xo];if(i!==null&&Ir(e[Qt])){i!==e[Qt]&&yx(i,e);let r=e[Cr];r!==null&&r.detachView(t)}qy(e)}finally{me(n)}}function O$(t,e){let n=t.cleanup,i=e[gp];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let a=n[o+3];a>=0?i[a]():i[-a].unsubscribe(),o+=2}else{let a=i[n[o+1]];n[o].call(a)}i!==null&&(e[gp]=null);let r=e[fs];if(r!==null){e[fs]=null;for(let o=0;o<r.length;o++){let a=r[o];a()}}let s=e[bo];if(s!==null){e[bo]=null;for(let o of s)o.destroy()}}function N$(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let i=0;i<n.length;i+=2){let r=e[n[i]];if(!(r instanceof Io)){let s=n[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=r[s[o]],c=s[o+1];je(4,a,c);try{c.call(a)}finally{je(5,a,c)}}else{je(4,r,s);try{s.call(r)}finally{je(5,r,s)}}}}}function wk(t,e,n){return L$(t,e.parent,n)}function L$(t,e,n){let i=e;for(;i!==null&&i.type&168;)e=i,i=e.parent;if(i===null)return n[Er];if(pc(i)){let{encapsulation:r}=t.data[i.directiveStart+i.componentOffset];if(r===Ui.None||r===Ui.Emulated)return null}return Bi(i,n)}function xk(t,e,n){return V$(t,e,n)}function U$(t,e,n){return t.type&40?Bi(t,n):null}var V$=U$,sA;function wx(t,e,n,i){let r=wk(t,i,e),s=e[lt],o=i.parent||e[Tn],a=xk(o,i,e);if(r!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)rA(s,r,n[c],a,!1);else rA(s,r,n,a,!1);sA!==void 0&&sA(s,i,e,n,r)}function Su(t,e){if(e!==null){let n=e.type;if(n&3)return Bi(e,t);if(n&4)return tw(-1,t[e.index]);if(n&8){let i=e.child;if(i!==null)return Su(t,i);{let r=t[e.index];return Ir(r)?tw(-1,r):Ni(r)}}else{if(n&128)return Su(t,e.next);if(n&32)return vx(e,t)()||Ni(t[e.index]);{let i=bk(t,e);if(i!==null){if(Array.isArray(i))return i[0];let r=To(t[Rn]);return Su(r,i)}else return Su(t,e.next)}}}return null}function bk(t,e){if(e!==null){let i=t[Rn][Tn],r=e.projection;return i.projection[r]}return null}function tw(t,e){let n=Xt+t+1;if(n<e.length){let i=e[n],r=i[pe].firstChild;if(r!==null)return Su(i,r)}return e[Co]}function xx(t,e,n,i,r,s,o){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=i[n.index],c=n.type;if(o&&e===0&&(a&&$u(Ni(a),i),n.flags|=2),!_x(n))if(c&8)xx(t,e,n.child,i,r,s,!1),tc(e,t,r,a,s);else if(c&32){let u=vx(n,i),d;for(;d=u();)tc(e,t,r,d,s);tc(e,t,r,a,s)}else c&16?Ck(t,e,i,n,r,s):tc(e,t,r,a,s);n=o?n.projectionNext:n.next}}function Qp(t,e,n,i,r,s){xx(n,i,t.firstChild,e,r,s,!1)}function B$(t,e,n){let i=e[lt],r=wk(t,n,e),s=n.parent||e[Tn],o=xk(s,n,e);Ck(i,0,e,n,r,o)}function Ck(t,e,n,i,r,s){let o=n[Rn],c=o[Tn].projection[i.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let d=c[u];tc(e,t,r,d,s)}else{let u=c,d=o[Qt];UF(i)&&(u.flags|=128),xx(t,e,u,d,r,s,!0)}}function j$(t,e,n,i,r){let s=n[Co],o=Ni(n);s!==o&&tc(e,t,i,s,r);for(let a=Xt;a<n.length;a++){let c=n[a];Qp(c[pe],c,t,e,i,s)}}function $$(t,e,n,i,r){if(e)r?t.addClass(n,i):t.removeClass(n,i);else{let s=i.indexOf("-")===-1?void 0:Vi.DashCase;r==null?t.removeStyle(n,i,s):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=Vi.Important),t.setStyle(n,i,r,s))}}function Dp(t,e,n,i,r=!1){for(;n!==null;){if(n.type===128){n=r?n.projectionNext:n.next;continue}let s=e[n.index];s!==null&&i.push(Ni(s)),Ir(s)&&H$(s,i);let o=n.type;if(o&8)Dp(t,e,n.child,i);else if(o&32){let a=vx(n,e),c;for(;c=a();)i.push(c)}else if(o&16){let a=bk(e,n);if(Array.isArray(a))i.push(...a);else{let c=To(e[Rn]);Dp(c[pe],c,a,i,!0)}}n=r?n.projectionNext:n.next}return i}function H$(t,e){for(let n=Xt;n<t.length;n++){let i=t[n],r=i[pe].firstChild;r!==null&&Dp(i[pe],i,r,e)}t[Co]!==t[Er]&&e.push(t[Co])}function Tk(t){if(t[nc]!==null){for(let e of t[nc])e.impl.addSequence(e);t[nc].length=0}}var Ek=[];function G$(t){return t[Wn]??z$(t)}function z$(t){let e=Ek.pop()??Object.create(q$);return e.lView=t,e}function W$(t){t.lView[Wn]!==t&&(t.lView=null,Ek.push(t))}var q$=se(U({},La),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{gc(t.lView)},consumerOnSignalRead(){this.lView[Wn]=this}});function Y$(t){let e=t[Wn]??Object.create(K$);return e.lView=t,e}var K$=se(U({},La),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=To(t.lView);for(;e&&!Ik(e[pe]);)e=To(e);e&&nF(e)},consumerOnSignalRead(){this.lView[Wn]=this}});function Ik(t){return t.type!==2}function Sk(t){if(t[bo]===null)return;let e=!0;for(;e;){let n=!1;for(let i of t[bo])i.dirty&&(n=!0,i.zone===null||Zone.current===i.zone?i.run():i.zone.run(()=>i.run()));e=n&&!!(t[he]&8192)}}var X$=100;function Dk(t,e=!0,n=0){let r=t[br].rendererFactory,s=!1;s||r.begin?.();try{Q$(t,n)}catch(o){throw e&&S$(t,o),o}finally{s||r.end?.()}}function Q$(t,e){let n=lF();try{yp(!0),nw(t,e);let i=0;for(;zp(t);){if(i===X$)throw new z(103,!1);i++,nw(t,1)}}finally{yp(n)}}function Z$(t,e,n,i){if(mc(e))return;let r=e[he],s=!1,o=!1;qw(e);let a=!0,c=null,u=null;s||(Ik(t)?(u=G$(e),c=pu(u)):$_()===null?(a=!1,u=Y$(e),c=pu(u)):e[Wn]&&(mu(e[Wn]),e[Wn]=null));try{tF(e),Fj(t.bindingStartIndex),n!==null&&gk(t,e,n,2,i);let d=(r&3)===3;if(!s)if(d){let g=t.preOrderCheckHooks;g!==null&&op(e,g,null)}else{let g=t.preOrderHooks;g!==null&&ap(e,g,0,null),gy(e,0)}if(o||J$(e),Sk(e),Ak(e,0),t.contentQueries!==null&&KF(t,e),!s)if(d){let g=t.contentCheckHooks;g!==null&&op(e,g)}else{let g=t.contentHooks;g!==null&&ap(e,g,1),gy(e,1)}t5(t,e);let f=t.components;f!==null&&kk(e,f,0);let m=t.viewQuery;if(m!==null&&Xy(2,m,i),!s)if(d){let g=t.viewCheckHooks;g!==null&&op(e,g)}else{let g=t.viewHooks;g!==null&&ap(e,g,2),gy(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[my]){for(let g of e[my])g();e[my]=null}s||(Tk(e),e[he]&=-73)}catch(d){throw s||gc(e),d}finally{u!==null&&(Tf(u,c),a&&W$(u)),Yw()}}function Ak(t,e){for(let n=jF(t);n!==null;n=$F(n))for(let i=Xt;i<n.length;i++){let r=n[i];Fk(r,e)}}function J$(t){for(let e=jF(t);e!==null;e=$F(e)){if(!(e[he]&2))continue;let n=e[ac];for(let i=0;i<n.length;i++){let r=n[i];nF(r)}}}function e5(t,e,n){je(18);let i=Li(e,t);Fk(i,n),je(19,i[It])}function Fk(t,e){$w(t)&&nw(t,e)}function nw(t,e){let i=t[pe],r=t[he],s=t[Wn],o=!!(e===0&&r&16);if(o||=!!(r&64&&e===0),o||=!!(r&1024),o||=!!(s?.dirty&&Ef(s)),o||=!1,s&&(s.dirty=!1),t[he]&=-9217,o)Z$(i,t,i.template,t[It]);else if(r&8192){Sk(t),Ak(t,1);let a=i.components;a!==null&&kk(t,a,1),Tk(t)}}function kk(t,e,n){for(let i=0;i<e.length;i++)e5(t,e[i],n)}function t5(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let i=0;i<n.length;i++){let r=n[i];if(r<0)Eo(~r);else{let s=r,o=n[++i],a=n[++i];Mj(o,s);let c=e[s];je(24,c),a(2,c),je(25,c)}}}finally{Eo(-1)}}function bx(t,e){let n=lF()?64:1088;for(t[br].changeDetectionScheduler?.notify(e);t;){t[he]|=n;let i=To(t);if(_p(t)&&!i)return t;t=i}return null}function Mk(t,e,n,i){return[t,!0,0,e,null,i,null,n,null,null]}function Rk(t,e){let n=Xt+e;if(n<t.length)return t[n]}function zu(t,e,n,i=!0){let r=e[pe];if(n5(r,e,t,n),i){let o=tw(n,t),a=e[lt],c=a.parentNode(t[Co]);c!==null&&R$(r,t[Tn],a,e,c,o)}let s=e[sc];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function Pk(t,e){let n=Ou(t,e);return n!==void 0&&Xp(n[pe],n),n}function Ou(t,e){if(t.length<=Xt)return;let n=Xt+e,i=t[n];if(i){let r=i[xo];r!==null&&r!==t&&yx(r,i),e>0&&(t[n-1][hi]=i[hi]);let s=pp(t,Xt+e);M$(i[pe],i);let o=s[Cr];o!==null&&o.detachView(s[pe]),i[Qt]=null,i[hi]=null,i[he]&=-129}return i}function n5(t,e,n,i){let r=Xt+i,s=n.length;i>0&&(n[r-1][hi]=e),i<s-Xt?(e[hi]=n[r],LA(n,Xt+i,e)):(n.push(e),e[hi]=null),e[Qt]=n;let o=e[xo];o!==null&&n!==o&&Ok(o,e);let a=e[Cr];a!==null&&a.insertView(t),Ny(e),e[he]|=128}function Ok(t,e){let n=t[ac],i=e[Qt];if(ps(i))t[he]|=2;else{let r=i[Qt][Rn];e[Rn]!==r&&(t[he]|=2)}n===null?t[ac]=[e]:n.push(e)}var Nu=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,n=e[pe];return Dp(n,e,n.firstChild,[])}constructor(e,n,i=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=i}get context(){return this._lView[It]}set context(e){this._lView[It]=e}get destroyed(){return mc(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Qt];if(Ir(e)){let n=e[vp],i=n?n.indexOf(this):-1;i>-1&&(Ou(e,i),pp(n,i))}this._attachedToViewContainer=!1}Xp(this._lView[pe],this._lView)}onDestroy(e){iF(this._lView,e)}markForCheck(){bx(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[he]&=-129}reattach(){Ny(this._lView),this._lView[he]|=128}detectChanges(){this._lView[he]|=1024,Dk(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new z(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=_p(this._lView),n=this._lView[xo];n!==null&&!e&&yx(n,this._lView),yk(this._lView[pe],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new z(902,!1);this._appRef=e;let n=_p(this._lView),i=this._lView[xo];i!==null&&!n&&Ok(i,this._lView),Ny(this._lView)}};var gs=(()=>{class t{static __NG_ELEMENT_ID__=s5}return t})(),i5=gs,r5=class extends i5{_declarationLView;_declarationTContainer;elementRef;constructor(e,n,i){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,i){let r=Gu(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:i});return new Nu(r)}};function s5(){return Cx(dn(),oe())}function Cx(t,e){return t.type&4?new r5(e,t,_c(t,e)):null}function Zp(t,e,n,i,r){let s=t.data[e];if(s===null)s=o5(t,e,n,i,r),kj()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=i,s.attrs=r;let o=Sj();s.injectorIndex=o===null?-1:o.injectorIndex}return ju(s,!0),s}function o5(t,e,n,i,r){let s=oF(),o=aF(),a=o?s:s&&s.parent,c=t.data[e]=c5(t,a,n,e,i,r);return a5(t,c,s,o),c}function a5(t,e,n,i){t.firstChild===null&&(t.firstChild=e),n!==null&&(i?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function c5(t,e,n,i,r,s){let o=e?e.injectorIndex:-1,a=0;return sF()&&(a|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var Ale=new RegExp(`^(\\d+)*(${y6}|${_6})*(.*)`);var l5=()=>null;function uc(t,e){return l5(t,e)}var u5=class{},Nk=class{},iw=class{resolveComponentFactory(e){throw Error(`No component factory found for ${xn(e)}.`)}},xc=class{static NULL=new iw},dc=class{},Zt=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>d5()}return t})();function d5(){let t=oe(),e=dn(),n=Li(e.index,t);return(ps(n)?n:t)[lt]}var h5=(()=>{class t{static \u0275prov=G({token:t,providedIn:"root",factory:()=>null})}return t})();var yy={},rw=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,i){i=Vp(i);let r=this.injector.get(e,yy,i);return r!==yy||n===yy?r:this.parentInjector.get(e,n,i)}};function oA(t,e,n){let i=n?t.styles:null,r=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)r=Dy(r,a);else if(s==2){let c=a,u=e[++o];i=Dy(i,c+": "+u+";")}}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=r:t.classesWithoutHost=r}function V(t,e=_e.Default){let n=oe();if(n===null)return K(t,e);let i=dn();return IF(i,n,un(t),e)}function Lk(){let t="invalid";throw new Error(t)}function Uk(t,e,n,i,r){let s=i===null?null:{"":-1},o=r(t,n);if(o!==null){let a,c=null,u=null,d=p5(o);d===null?a=o:[a,c,u]=d,v5(t,e,n,a,s,c,u)}s!==null&&i!==null&&f5(n,i,s)}function f5(t,e,n){let i=t.localNames=[];for(let r=0;r<e.length;r+=2){let s=n[e[r+1]];if(s==null)throw new z(-301,!1);i.push(e[r],s)}}function p5(t){let e=null,n=!1;for(let o=0;o<t.length;o++){let a=t[o];if(o===0&&Oi(a)&&(e=a),a.findHostDirectiveDefs!==null){n=!0;break}}if(!n)return null;let i=null,r=null,s=null;for(let o of t)o.findHostDirectiveDefs!==null&&(i??=[],r??=new Map,s??=new Map,m5(o,i,s,r)),o===e&&(i??=[],i.push(o));return i!==null?(i.push(...e===null?t:t.slice(1)),[i,r,s]):null}function m5(t,e,n,i){let r=e.length;t.findHostDirectiveDefs(t,e,i),n.set(t,[r,e.length-1])}function g5(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function v5(t,e,n,i,r,s,o){let a=i.length,c=!1;for(let m=0;m<a;m++){let g=i[m];!c&&Oi(g)&&(c=!0,g5(t,n,m)),By(Cp(n,e),t,g.type)}C5(n,t.data.length,a);for(let m=0;m<a;m++){let g=i[m];g.providersResolver&&g.providersResolver(g)}let u=!1,d=!1,f=pk(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let m=0;m<a;m++){let g=i[m];if(n.mergedAttrs=Mu(n.mergedAttrs,g.hostAttrs),y5(t,n,e,f,g),b5(f,g,r),o!==null&&o.has(g)){let[E,D]=o.get(g);n.directiveToIndex.set(g.type,[f,E+n.directiveStart,D+n.directiveStart])}else(s===null||!s.has(g))&&n.directiveToIndex.set(g.type,f);g.contentQueries!==null&&(n.flags|=4),(g.hostBindings!==null||g.hostAttrs!==null||g.hostVars!==0)&&(n.flags|=64);let w=g.type.prototype;!u&&(w.ngOnChanges||w.ngOnInit||w.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),u=!0),!d&&(w.ngOnChanges||w.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),d=!0),f++}_5(t,n,s)}function _5(t,e,n){for(let i=e.directiveStart;i<e.directiveEnd;i++){let r=t.data[i];if(n===null||!n.has(r))aA(0,e,r,i),aA(1,e,r,i),lA(e,i,!1);else{let s=n.get(r);cA(0,e,s,i),cA(1,e,s,i),lA(e,i,!0)}}}function aA(t,e,n,i){let r=t===0?n.inputs:n.outputs;for(let s in r)if(r.hasOwnProperty(s)){let o;t===0?o=e.inputs??={}:o=e.outputs??={},o[s]??=[],o[s].push(i),Vk(e,s)}}function cA(t,e,n,i){let r=t===0?n.inputs:n.outputs;for(let s in r)if(r.hasOwnProperty(s)){let o=r[s],a;t===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[o]??=[],a[o].push(i,s),Vk(e,o)}}function Vk(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function lA(t,e,n){let{attrs:i,inputs:r,hostDirectiveInputs:s}=t;if(i===null||!n&&r===null||n&&s===null||lx(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let o=null,a=0;for(;a<i.length;){let c=i[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!n&&r.hasOwnProperty(c)){let u=r[c];for(let d of u)if(d===e){o??=[],o.push(c,i[a+1]);break}}else if(n&&s.hasOwnProperty(c)){let u=s[c];for(let d=0;d<u.length;d+=2)if(u[d]===e){o??=[],o.push(u[d+1],i[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(o)}function y5(t,e,n,i,r){t.data[i]=r;let s=r.factory||(r.factory=yo(r.type,!0)),o=new Io(s,Oi(r),V);t.blueprint[i]=o,n[i]=o,w5(t,e,i,pk(t,n,r.hostVars,En),r)}function w5(t,e,n,i,r){let s=r.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;x5(o)!=a&&o.push(a),o.push(n,i,s)}}function x5(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function b5(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;Oi(e)&&(n[""]=t)}}function C5(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Bk(t,e,n,i,r,s,o,a){let c=e.consts,u=cc(c,o),d=Zp(e,t,2,i,u);return s&&Uk(e,n,d,cc(c,a),r),d.mergedAttrs=Mu(d.mergedAttrs,d.attrs),d.attrs!==null&&oA(d,d.attrs,!1),d.mergedAttrs!==null&&oA(d,d.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,d),d}function jk(t,e){vF(t,e),YA(e)&&t.queries.elementEnd(e)}var Ap=class extends xc{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=ms(e);return new Do(n,this.ngModule)}};function T5(t){return Object.keys(t).map(e=>{let[n,i,r]=t[e],s={propName:n,templateName:e,isSignal:(i&Kp.SignalBased)!==0};return r&&(s.transform=r),s})}function E5(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function I5(t,e,n){let i=e instanceof Mt?e:e?.injector;return i&&t.getStandaloneInjector!==null&&(i=t.getStandaloneInjector(i)||i),i?new rw(n,i):n}function S5(t){let e=t.get(dc,null);if(e===null)throw new z(407,!1);let n=t.get(h5,null),i=t.get(So,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:i}}function D5(t,e){let n=(t.selectors[0][0]||"div").toLowerCase();return uk(e,n,n==="svg"?JA:n==="math"?mj:null)}var Do=class extends Nk{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=T5(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=E5(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=o$(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,i,r){je(22);let s=me(null);try{let o=this.componentDef,a=i?["ng-version","19.2.14"]:a$(this.componentDef.selectors[0]),c=ux(0,null,null,1,0,null,null,null,null,[a],null),u=I5(o,r||this.ngModule,e),d=S5(u),f=d.rendererFactory.createRenderer(null,o),m=i?g$(f,i,o.encapsulation,u):D5(o,f),g=dx(null,c,null,512|fk(o),null,null,d,f,u,null,YF(m,u,!0));g[Rt]=m,qw(g);let w=null;try{let E=Bk(Rt,c,g,"#host",()=>[this.componentDef],!0,0);m&&(hk(f,m,E),$u(m,g)),fx(c,g,E),XF(c,E,g),jk(c,E),n!==void 0&&A5(E,this.ngContentSelectors,n),w=Li(E.index,g),g[It]=w[It],gx(c,g,null)}catch(E){throw w!==null&&qy(w),qy(g),E}finally{je(23),Yw()}return new sw(this.componentType,g)}finally{me(s)}}},sw=class extends u5{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n){super(),this._rootLView=n,this._tNode=Bw(n[pe],Rt),this.location=_c(this._tNode,n),this.instance=Li(this._tNode.index,n)[It],this.hostView=this.changeDetectorRef=new Nu(n,void 0,!1),this.componentType=e}setInput(e,n){let i=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let r=this._rootLView,s=mx(i,r[pe],r,e,n);this.previousInputValues.set(e,n);let o=Li(i.index,r);bx(o,1)}get injector(){return new vo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function A5(t,e,n){let i=t.projection=[];for(let r=0;r<e.length;r++){let s=n[r];i.push(s!=null&&s.length?Array.from(s):null)}}var Qn=(()=>{class t{static __NG_ELEMENT_ID__=F5}return t})();function F5(){let t=dn();return Hk(t,oe())}var k5=Qn,$k=class extends k5{_lContainer;_hostTNode;_hostLView;constructor(e,n,i){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=i}get element(){return _c(this._hostTNode,this._hostLView)}get injector(){return new vo(this._hostTNode,this._hostLView)}get parentInjector(){let e=Qw(this._hostTNode,this._hostLView);if(wF(e)){let n=xp(e,this._hostLView),i=wp(e),r=n[pe].data[i+8];return new vo(r,n)}else return new vo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=uA(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Xt}createEmbeddedView(e,n,i){let r,s;typeof i=="number"?r=i:i!=null&&(r=i.index,s=i.injector);let o=uc(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,r,lc(this._hostTNode,o)),a}createComponent(e,n,i,r,s){let o=e&&!dj(e),a;if(o)a=n;else{let w=n||{};a=w.index,i=w.injector,r=w.projectableNodes,s=w.environmentInjector||w.ngModuleRef}let c=o?e:new Do(ms(e)),u=i||this.parentInjector;if(!s&&c.ngModule==null){let E=(o?u:this.parentInjector).get(Mt,null);E&&(s=E)}let d=ms(c.componentType??{}),f=uc(this._lContainer,d?.id??null),m=f?.firstChild??null,g=c.create(u,r,m,s);return this.insertImpl(g.hostView,a,lc(this._hostTNode,f)),g}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,i){let r=e._lView;if(_j(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=r[Qt],u=new $k(c,c[Tn],c[Qt]);u.detach(u.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return zu(o,r,s,i),e.attachToViewContainerRef(),LA(wy(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=uA(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),i=Ou(this._lContainer,n);i&&(pp(wy(this._lContainer),n),Xp(i[pe],i))}detach(e){let n=this._adjustIndex(e,-1),i=Ou(this._lContainer,n);return i&&pp(wy(this._lContainer),n)!=null?new Nu(i):null}_adjustIndex(e,n=0){return e??this.length+n}};function uA(t){return t[vp]}function wy(t){return t[vp]||(t[vp]=[])}function Hk(t,e){let n,i=e[t.index];return Ir(i)?n=i:(n=Mk(i,e,null,t),e[t.index]=n,hx(e,n)),R5(n,e,t,i),new $k(n,t,e)}function M5(t,e){let n=t[lt],i=n.createComment(""),r=Bi(e,t),s=n.parentNode(r);return Sp(n,s,i,n.nextSibling(r),!1),i}var R5=N5,P5=()=>!1;function O5(t,e,n){return P5(t,e,n)}function N5(t,e,n,i){if(t[Co])return;let r;n.type&8?r=Ni(i):r=M5(e,n),t[Co]=r}var ow=class t{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},aw=class t{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let i=e.contentQueries!==null?e.contentQueries[0]:n.length,r=[];for(let s=0;s<i;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];r.push(a.clone())}return new t(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)Tx(e,n).matches!==null&&this.queries[n].setDirty()}},Fp=class{flags;read;predicate;constructor(e,n,i=null){this.flags=n,this.read=i,typeof e=="string"?this.predicate=G5(e):this.predicate=e}},cw=class t{queries;constructor(e=[]){this.queries=e}elementStart(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let i=0;i<this.length;i++){let r=n!==null?n.length:0,s=this.getByIndex(i).embeddedTView(e,r);s&&(s.indexInDeclarationView=i,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},lw=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,n=-1){this.metadata=e,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==n;)i=i.parent;return n===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let s=i[r];this.matchTNodeWithReadOption(e,n,L5(n,s)),this.matchTNodeWithReadOption(e,n,cp(n,e,s,!1,!1))}else i===gs?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,cp(n,e,i,!1,!1))}matchTNodeWithReadOption(e,n,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===et||r===Qn||r===gs&&n.type&4)this.addMatch(n.index,-2);else{let s=cp(n,e,r,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,i)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function L5(t,e){let n=t.localNames;if(n!==null){for(let i=0;i<n.length;i+=2)if(n[i]===e)return n[i+1]}return null}function U5(t,e){return t.type&11?_c(t,e):t.type&4?Cx(t,e):null}function V5(t,e,n,i){return n===-1?U5(e,t):n===-2?B5(t,e,i):Ru(t,t[pe],n,e)}function B5(t,e,n){if(n===et)return _c(e,t);if(n===gs)return Cx(e,t);if(n===Qn)return Hk(e,t)}function Gk(t,e,n,i){let r=e[Cr].queries[i];if(r.matches===null){let s=t.data,o=n.matches,a=[];for(let c=0;o!==null&&c<o.length;c+=2){let u=o[c];if(u<0)a.push(null);else{let d=s[u];a.push(V5(e,d,o[c+1],n.metadata.read))}}r.matches=a}return r.matches}function uw(t,e,n,i){let r=t.queries.getByIndex(n),s=r.matches;if(s!==null){let o=Gk(t,e,r,n);for(let a=0;a<s.length;a+=2){let c=s[a];if(c>0)i.push(o[a/2]);else{let u=s[a+1],d=e[-c];for(let f=Xt;f<d.length;f++){let m=d[f];m[xo]===m[Qt]&&uw(m[pe],m,u,i)}if(d[ac]!==null){let f=d[ac];for(let m=0;m<f.length;m++){let g=f[m];uw(g[pe],g,u,i)}}}}}return i}function j5(t,e){return t[Cr].queries[e].queryList}function zk(t,e,n){let i=new Wy((n&4)===4);return xj(t,e,i,i.destroy),(e[Cr]??=new aw).queries.push(new ow(i))-1}function $5(t,e,n){let i=ft();return i.firstCreatePass&&(Wk(i,new Fp(t,e,n),-1),(e&2)===2&&(i.staticViewQueries=!0)),zk(i,oe(),e)}function H5(t,e,n,i){let r=ft();if(r.firstCreatePass){let s=dn();Wk(r,new Fp(e,n,i),s.index),z5(r,t),(n&2)===2&&(r.staticContentQueries=!0)}return zk(r,oe(),n)}function G5(t){return t.split(",").map(e=>e.trim())}function Wk(t,e,n){t.queries===null&&(t.queries=new cw),t.queries.track(new lw(e,n))}function z5(t,e){let n=t.contentQueries||(t.contentQueries=[]),i=n.length?n[n.length-1]:-1;e!==i&&n.push(t.queries.length-1,e)}function Tx(t,e){return t.queries.getByIndex(e)}function W5(t,e){let n=t[pe],i=Tx(n,e);return i.crossesNgTemplate?uw(n,t,e,[]):Gk(n,t,i,e)}var vs=class{},Ex=class{};var dw=class extends vs{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Ap(this);constructor(e,n,i,r=!0){super(),this.ngModuleType=e,this._parent=n;let s=BA(e);this._bootstrapComponents=ak(s.bootstrap),this._r3Injector=AF(e,n,[{provide:vs,useValue:this},{provide:xc,useValue:this.componentFactoryResolver},...i],xn(e),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},hw=class extends Ex{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new dw(this.moduleType,e,[])}};var kp=class extends vs{injector;componentFactoryResolver=new Ap(this);instance=null;constructor(e){super();let n=new Fu([...e.providers,{provide:vs,useValue:this},{provide:xc,useValue:this.componentFactoryResolver}],e.parent||$p(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Wu(t,e,n=null){return new kp({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var q5=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let i=jA(!1,n.type),r=i.length>0?Wu([i],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,r)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=G({token:t,providedIn:"environment",factory:()=>new t(K(Mt))})}return t})();function Me(t){return Vu(()=>{let e=qk(t),n=se(U({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===VF.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?r=>r.get(q5).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ui.Emulated,styles:t.styles||wn,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&Ro("NgStandalone"),Yk(n);let i=t.dependencies;return n.directiveDefs=dA(i,!1),n.pipeDefs=dA(i,!0),n.id=Z5(n),n})}function Y5(t){return ms(t)||J4(t)}function K5(t){return t!==null}function He(t){return Vu(()=>({type:t.type,bootstrap:t.bootstrap||wn,declarations:t.declarations||wn,imports:t.imports||wn,exports:t.exports||wn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function X5(t,e){if(t==null)return wo;let n={};for(let i in t)if(t.hasOwnProperty(i)){let r=t[i],s,o,a,c;Array.isArray(r)?(a=r[0],s=r[1],o=r[2]??s,c=r[3]||null):(s=r,o=r,a=Kp.None,c=null),n[s]=[i,a,c],e[s]=o}return n}function Q5(t){if(t==null)return wo;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function Ne(t){return Vu(()=>{let e=qk(t);return Yk(e),e})}function Jp(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function qk(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||wo,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||wn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:X5(t.inputs,e),outputs:Q5(t.outputs),debugInfo:null}}function Yk(t){t.features?.forEach(e=>e(t))}function dA(t,e){if(!t)return null;let n=e?ej:Y5;return()=>(typeof t=="function"?t():t).map(i=>n(i)).filter(K5)}function Z5(t){let e=0,n=typeof t.consts=="function"?"":t.consts,i=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let s of i.join("|"))e=Math.imul(31,e)+s.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function J5(t){return Object.getPrototypeOf(t.prototype).constructor}function Jt(t){let e=J5(t.type),n=!0,i=[t];for(;e;){let r;if(Oi(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new z(903,!1);r=e.\u0275dir}if(r){if(n){i.push(r);let o=t;o.inputs=xy(t.inputs),o.declaredInputs=xy(t.declaredInputs),o.outputs=xy(t.outputs);let a=r.hostBindings;a&&rH(t,a);let c=r.viewQuery,u=r.contentQueries;if(c&&nH(t,c),u&&iH(t,u),eH(t,r),k4(t.outputs,r.outputs),Oi(r)&&r.data.animation){let d=t.data;d.animation=(d.animation||[]).concat(r.data.animation)}}let s=r.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===Jt&&(n=!1)}}e=Object.getPrototypeOf(e)}tH(i)}function eH(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let i=e.inputs[n];i!==void 0&&(t.inputs[n]=i,t.declaredInputs[n]=e.declaredInputs[n])}}function tH(t){let e=0,n=null;for(let i=t.length-1;i>=0;i--){let r=t[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Mu(r.hostAttrs,n=Mu(n,r.hostAttrs))}}function xy(t){return t===wo?{}:t===wn?[]:t}function nH(t,e){let n=t.viewQuery;n?t.viewQuery=(i,r)=>{e(i,r),n(i,r)}:t.viewQuery=e}function iH(t,e){let n=t.contentQueries;n?t.contentQueries=(i,r,s)=>{e(i,r,s),n(i,r,s)}:t.contentQueries=e}function rH(t,e){let n=t.hostBindings;n?t.hostBindings=(i,r)=>{e(i,r),n(i,r)}:t.hostBindings=e}function Kk(t){return Ix(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function sH(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),i;for(;!(i=n.next()).done;)e(i.value)}}function Ix(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function qu(t,e,n){return t[e]=n}function oH(t,e){return t[e]}function qn(t,e,n){let i=t[e];return Object.is(i,n)?!1:(t[e]=n,!0)}function Lu(t,e,n,i){let r=qn(t,e,n);return qn(t,e+1,i)||r}function aH(t,e,n,i,r){let s=Lu(t,e,n,i);return qn(t,e+2,r)||s}function cH(t,e,n,i,r,s){let o=Lu(t,e,n,i);return Lu(t,e+2,r,s)||o}function lH(t,e,n,i,r,s,o,a,c){let u=e.consts,d=Zp(e,t,4,o||null,a||null);rF()&&Uk(e,n,d,cc(u,c),_k),d.mergedAttrs=Mu(d.mergedAttrs,d.attrs),vF(e,d);let f=d.tView=ux(2,d,i,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,d),f.queries=e.queries.embeddedTView(d)),d}function Mp(t,e,n,i,r,s,o,a,c,u){let d=n+Rt,f=e.firstCreatePass?lH(d,e,t,i,r,s,o,a,c):e.data[d];ju(f,!1);let m=uH(e,t,f,n);Kw()&&wx(e,t,m,f),$u(m,t);let g=Mk(m,t,m,f);return t[d]=g,hx(t,g),O5(g,f,t),Vw(f)&&fx(e,t,f),c!=null&&vk(t,f,u),f}function Se(t,e,n,i,r,s,o,a){let c=oe(),u=ft(),d=cc(u.consts,s);return Mp(c,u,t,e,n,i,r,d,o,a),Se}var uH=dH;function dH(t,e,n,i){return Xw(!0),e[lt].createComment("")}var Xk=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var Qk=new W("");var Zk=(()=>{class t{static \u0275prov=G({token:t,providedIn:"root",factory:()=>new fw})}return t})(),fw=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let n=e.zone,i=this.queues.get(n);i.has(e)&&(i.delete(e),this.queuedEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let i=this.queues.get(n);i.has(e)||(this.queuedEffectCount++,i.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}};function ys(t){return!!t&&typeof t.then=="function"}function Sx(t){return!!t&&typeof t.subscribe=="function"}var Jk=new W("");function Dx(t){return pi([{provide:Jk,multi:!0,useValue:t}])}var eM=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,i)=>{this.resolve=n,this.reject=i});appInits=R(Jk,{optional:!0})??[];injector=R(Ke);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let r of this.appInits){let s=Cn(this.injector,r);if(ys(s))n.push(s);else if(Sx(s)){let o=new Promise((a,c)=>{s.subscribe({complete:a,error:c})});n.push(o)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{i()}).catch(r=>{this.reject(r)}),n.length===0&&i(),this.initialized=!0}static \u0275fac=function(i){return new(i||t)};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),em=new W("");function hH(){q_(()=>{throw new z(600,!1)})}function fH(t){return t.isBoundToModule}var pH=10;var Tr=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=R(a6);afterRenderManager=R(qF);zonelessEnabled=R(kF);rootEffectScheduler=R(Zk);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new nt;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=R(_s).hasPendingTasks.pipe(de(n=>!n));constructor(){R(yc,{optional:!0})}whenStable(){let n;return new Promise(i=>{n=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{n.unsubscribe()})}_injector=R(Mt);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,i){return this.bootstrapImpl(n,i)}bootstrapImpl(n,i,r=Ke.NULL){je(10);let s=n instanceof Nk;if(!this._injector.get(eM).done){let g="";throw new z(405,g)}let a;s?a=n:a=this._injector.get(xc).resolveComponentFactory(n),this.componentTypes.push(a.componentType);let c=fH(a)?void 0:this._injector.get(vs),u=i||a.selector,d=a.create(r,[],u,c),f=d.location.nativeElement,m=d.injector.get(Qk,null);return m?.registerApplication(f),d.onDestroy(()=>{this.detachView(d.hostView),lp(this.components,d),m?.unregisterApplication(f)}),this._loadComponent(d),je(11,d),d}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){je(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(rx.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new z(101,!1);let n=me(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,me(n),this.afterTick.next(),je(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(dc,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<pH;)je(14),this.synchronizeOnce(),je(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i,notifyErrorHandler:r}of this.allViews)mH(i,r,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>zp(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){let i=n;lp(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(em,[]).forEach(r=>r(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>lp(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new z(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(i){return new(i||t)};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function lp(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function mH(t,e,n,i){if(!n&&!zp(t))return;Dk(t,e,n&&!i?0:1)}function Pn(t,e,n,i){let r=oe(),s=vc();if(qn(r,s,e)){let o=ft(),a=Wp();T$(a,r,t,e,n,i)}return Pn}function Ax(t,e,n,i){return qn(t,vc(),n)?e+_o(n)+i:En}function gH(t,e,n,i,r,s){let o=Aj(),a=Lu(t,o,n,r);return zw(2),a?e+_o(n)+i+_o(r)+s:En}function rp(t,e){return t<<17|e<<2}function Ao(t){return t>>17&32767}function vH(t){return(t&2)==2}function _H(t,e){return t&131071|e<<17}function pw(t){return t|2}function hc(t){return(t&131068)>>2}function by(t,e){return t&-131069|e<<2}function yH(t){return(t&1)===1}function mw(t){return t|1}function wH(t,e,n,i,r,s){let o=s?e.classBindings:e.styleBindings,a=Ao(o),c=hc(o);t[i]=n;let u=!1,d;if(Array.isArray(n)){let f=n;d=f[1],(d===null||Bu(f,d)>0)&&(u=!0)}else d=n;if(r)if(c!==0){let m=Ao(t[a+1]);t[i+1]=rp(m,a),m!==0&&(t[m+1]=by(t[m+1],i)),t[a+1]=_H(t[a+1],i)}else t[i+1]=rp(a,0),a!==0&&(t[a+1]=by(t[a+1],i)),a=i;else t[i+1]=rp(c,0),a===0?a=i:t[c+1]=by(t[c+1],i),c=i;u&&(t[i+1]=pw(t[i+1])),hA(t,d,i,!0),hA(t,d,i,!1),xH(e,d,t,i,s),o=rp(a,c),s?e.classBindings=o:e.styleBindings=o}function xH(t,e,n,i,r){let s=r?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&Bu(s,e)>=0&&(n[i+1]=mw(n[i+1]))}function hA(t,e,n,i){let r=t[n+1],s=e===null,o=i?Ao(r):hc(r),a=!1;for(;o!==0&&(a===!1||s);){let c=t[o],u=t[o+1];bH(c,e)&&(a=!0,t[o+1]=i?mw(u):pw(u)),o=i?Ao(u):hc(u)}a&&(t[n+1]=i?pw(r):mw(r))}function bH(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Bu(t,e)>=0:!1}var di={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function CH(t){return t.substring(di.key,di.keyEnd)}function TH(t){return EH(t),tM(t,nM(t,0,di.textEnd))}function tM(t,e){let n=di.textEnd;return n===e?-1:(e=di.keyEnd=IH(t,di.key=e,n),nM(t,e,n))}function EH(t){di.key=0,di.keyEnd=0,di.value=0,di.valueEnd=0,di.textEnd=t.length}function nM(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function IH(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function Y(t,e,n){let i=oe(),r=vc();if(qn(i,r,e)){let s=ft(),o=Wp();px(s,o,i,t,e,i[lt],n,!1)}return Y}function gw(t,e,n,i,r){mx(e,t,n,r?"class":"style",i)}function Zn(t,e,n){return sM(t,e,n,!1),Zn}function mi(t,e){return sM(t,e,null,!0),mi}function iM(t){oM(MH,rM,t,!0)}function rM(t,e){for(let n=TH(e);n>=0;n=tM(e,n))Bp(t,CH(e),!0)}function sM(t,e,n,i){let r=oe(),s=ft(),o=zw(2);if(s.firstUpdatePass&&cM(s,t,o,i),e!==En&&qn(r,o,e)){let a=s.data[Sr()];lM(s,a,r,r[lt],t,r[o+1]=PH(e,n),i,o)}}function oM(t,e,n,i){let r=ft(),s=zw(2);r.firstUpdatePass&&cM(r,null,s,i);let o=oe();if(n!==En&&qn(o,s,n)){let a=r.data[Sr()];if(uM(a,i)&&!aM(r,s)){let c=i?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(n=Dy(c,n||"")),gw(r,a,o,n,i)}else RH(r,a,o,o[lt],o[s+1],o[s+1]=kH(t,e,n),i,s)}}function aM(t,e){return e>=t.expandoStartIndex}function cM(t,e,n,i){let r=t.data;if(r[n+1]===null){let s=r[Sr()],o=aM(t,n);uM(s,i)&&e===null&&!o&&(e=!1),e=SH(r,s,e,i),wH(r,s,e,n,o,i)}}function SH(t,e,n,i){let r=Pj(t),s=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(n=Cy(null,t,e,n,i),n=Uu(n,e.attrs,i),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==r)if(n=Cy(r,t,e,n,i),s===null){let c=DH(t,e,i);c!==void 0&&Array.isArray(c)&&(c=Cy(null,t,e,c[1],i),c=Uu(c,e.attrs,i),AH(t,e,i,c))}else s=FH(t,e,i)}return s!==void 0&&(i?e.residualClasses=s:e.residualStyles=s),n}function DH(t,e,n){let i=n?e.classBindings:e.styleBindings;if(hc(i)!==0)return t[Ao(i)]}function AH(t,e,n,i){let r=n?e.classBindings:e.styleBindings;t[Ao(r)]=i}function FH(t,e,n){let i,r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++){let o=t[s].hostAttrs;i=Uu(i,o,n)}return Uu(i,e.attrs,n)}function Cy(t,e,n,i,r){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],i=Uu(i,s.hostAttrs,r),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),i}function Uu(t,e,n){let i=n?1:2,r=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?r=o:r===i&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Bp(t,o,n?!0:e[++s]))}return t===void 0?null:t}function kH(t,e,n){if(n==null||n==="")return wn;let i=[],r=wc(n);if(Array.isArray(r))for(let s=0;s<r.length;s++)t(i,r[s],!0);else if(typeof r=="object")for(let s in r)r.hasOwnProperty(s)&&t(i,s,r[s]);else typeof r=="string"&&e(i,r);return i}function MH(t,e,n){let i=String(e);i!==""&&!i.includes(" ")&&Bp(t,i,n)}function RH(t,e,n,i,r,s,o,a){r===En&&(r=wn);let c=0,u=0,d=0<r.length?r[0]:null,f=0<s.length?s[0]:null;for(;d!==null||f!==null;){let m=c<r.length?r[c+1]:void 0,g=u<s.length?s[u+1]:void 0,w=null,E;d===f?(c+=2,u+=2,m!==g&&(w=f,E=g)):f===null||d!==null&&d<f?(c+=2,w=d):(u+=2,w=f,E=g),w!==null&&lM(t,e,n,i,w,E,o,a),d=c<r.length?r[c]:null,f=u<s.length?s[u]:null}}function lM(t,e,n,i,r,s,o,a){if(!(e.type&3))return;let c=t.data,u=c[a+1],d=yH(u)?fA(c,e,n,r,hc(u),o):void 0;if(!Rp(d)){Rp(s)||vH(u)&&(s=fA(c,null,n,r,a,o));let f=eF(Sr(),n);$$(i,o,f,r,s)}}function fA(t,e,n,i,r,s){let o=e===null,a;for(;r>0;){let c=t[r],u=Array.isArray(c),d=u?c[1]:c,f=d===null,m=n[r+1];m===En&&(m=f?wn:void 0);let g=f?fy(m,i):d===i?m:void 0;if(u&&!Rp(g)&&(g=fy(c,i)),Rp(g)&&(a=g,o))return a;let w=t[r+1];r=o?Ao(w):hc(w)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=fy(c,i))}return a}function Rp(t){return t!==void 0}function PH(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=xn(wc(t)))),t}function uM(t,e){return(t.flags&(e?8:16))!==0}function dM(t,e,n){let i=oe(),r=Ax(i,t,e,n);oM(Bp,rM,r,!0)}var vw=class{destroy(e){}updateValue(e,n){}swap(e,n){let i=Math.min(e,n),r=Math.max(e,n),s=this.detach(r);if(r-i>1){let o=this.detach(i);this.attach(i,s),this.attach(r,o)}else this.attach(i,s)}move(e,n){this.attach(n,this.detach(e))}};function Ty(t,e,n,i,r){return t===n&&Object.is(e,i)?1:Object.is(r(t,e),r(n,i))?-1:0}function OH(t,e,n){let i,r,s=0,o=t.length-1,a=void 0;if(Array.isArray(e)){let c=e.length-1;for(;s<=o&&s<=c;){let u=t.at(s),d=e[s],f=Ty(s,u,s,d,n);if(f!==0){f<0&&t.updateValue(s,d),s++;continue}let m=t.at(o),g=e[c],w=Ty(o,m,c,g,n);if(w!==0){w<0&&t.updateValue(o,g),o--,c--;continue}let E=n(s,u),D=n(o,m),P=n(s,d);if(Object.is(P,D)){let H=n(c,g);Object.is(H,E)?(t.swap(s,o),t.updateValue(o,g),c--,o--):t.move(o,s),t.updateValue(s,d),s++;continue}if(i??=new Pp,r??=mA(t,s,o,n),_w(t,i,s,P))t.updateValue(s,d),s++,o++;else if(r.has(P))i.set(E,t.detach(s)),o--;else{let H=t.create(s,e[s]);t.attach(s,H),s++,o++}}for(;s<=c;)pA(t,i,n,s,e[s]),s++}else if(e!=null){let c=e[Symbol.iterator](),u=c.next();for(;!u.done&&s<=o;){let d=t.at(s),f=u.value,m=Ty(s,d,s,f,n);if(m!==0)m<0&&t.updateValue(s,f),s++,u=c.next();else{i??=new Pp,r??=mA(t,s,o,n);let g=n(s,f);if(_w(t,i,s,g))t.updateValue(s,f),s++,o++,u=c.next();else if(!r.has(g))t.attach(s,t.create(s,f)),s++,o++,u=c.next();else{let w=n(s,d);i.set(w,t.detach(s)),o--}}}for(;!u.done;)pA(t,i,n,t.length,u.value),u=c.next()}for(;s<=o;)t.destroy(t.detach(o--));i?.forEach(c=>{t.destroy(c)})}function _w(t,e,n,i){return e!==void 0&&e.has(i)?(t.attach(n,e.get(i)),e.delete(i),!0):!1}function pA(t,e,n,i,r){if(_w(t,e,i,n(i,r)))t.updateValue(i,r);else{let s=t.create(i,r);t.attach(i,s)}}function mA(t,e,n,i){let r=new Set;for(let s=e;s<=n;s++)r.add(i(s,t.at(s)));return r}var Pp=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let i=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(i);)i=r.get(i);r.set(i,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,i]of this.kvMap)if(e(i,n),this._vMap!==void 0){let r=this._vMap;for(;r.has(i);)i=r.get(i),e(i,n)}}};function On(t,e){Ro("NgControlFlow");let n=oe(),i=vc(),r=n[i]!==En?n[i]:-1,s=r!==-1?Op(n,Rt+r):void 0,o=0;if(qn(n,i,t)){let a=me(null);try{if(s!==void 0&&Pk(s,o),t!==-1){let c=Rt+t,u=Op(n,c),d=bw(n[pe],c),f=uc(u,d.tView.ssrId),m=Gu(n,d,e,{dehydratedView:f});zu(u,m,o,lc(d,f))}}finally{me(a)}}else if(s!==void 0){let a=Rk(s,o);a!==void 0&&(a[It]=e)}}var yw=class{lContainer;$implicit;$index;constructor(e,n,i){this.lContainer=e,this.$implicit=n,this.$index=i}get $count(){return this.lContainer.length-Xt}};function hM(t){return t}function fM(t,e){return e}var ww=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,n,i){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=i}};function Ar(t,e,n,i,r,s,o,a,c,u,d,f,m){Ro("NgControlFlow");let g=oe(),w=ft(),E=c!==void 0,D=oe(),P=a?o.bind(D[Rn][It]):o,H=new ww(E,P);D[Rt+t]=H,Mp(g,w,t+1,e,n,i,r,cc(w.consts,s)),E&&Mp(g,w,t+2,c,u,d,f,cc(w.consts,m))}var xw=class extends vw{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,n,i){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=i}get length(){return this.lContainer.length-Xt}at(e){return this.getLView(e)[It].$implicit}attach(e,n){let i=n[sc];this.needsIndexUpdate||=e!==this.length,zu(this.lContainer,n,e,lc(this.templateTNode,i))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,NH(this.lContainer,e)}create(e,n){let i=uc(this.lContainer,this.templateTNode.tView.ssrId),r=Gu(this.hostLView,this.templateTNode,new yw(this.lContainer,n,e),{dehydratedView:i});return this.operationsCounter?.recordCreate(),r}destroy(e){Xp(e[pe],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[It].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[It].$index=e}getLView(e){return LH(this.lContainer,e)}};function Fr(t){let e=me(null),n=Sr();try{let i=oe(),r=i[pe],s=i[n],o=n+1,a=Op(i,o);if(s.liveCollection===void 0){let u=bw(r,o);s.liveCollection=new xw(a,i,u)}else s.liveCollection.reset();let c=s.liveCollection;if(OH(c,t,s.trackByFn),c.updateIndexes(),s.hasEmptyBlock){let u=vc(),d=c.length===0;if(qn(i,u,d)){let f=n+2,m=Op(i,f);if(d){let g=bw(r,f),w=uc(m,g.tView.ssrId),E=Gu(i,g,void 0,{dehydratedView:w});zu(m,E,0,lc(g,w))}else Pk(m,0)}}}finally{me(e)}}function Op(t,e){return t[e]}function NH(t,e){return Ou(t,e)}function LH(t,e){return Rk(t,e)}function bw(t,e){return Bw(t,e)}function F(t,e,n,i){let r=oe(),s=ft(),o=Rt+t,a=r[lt],c=s.firstCreatePass?Bk(o,s,r,e,_k,rF(),n,i):s.data[o],u=UH(s,r,c,a,e,t);r[o]=u;let d=Vw(c);return ju(c,!0),hk(a,u,c),!_x(c)&&Kw()&&wx(s,r,u,c),(bj()===0||d)&&$u(u,r),Cj(),d&&(fx(s,r,c),XF(s,c,r)),i!==null&&vk(r,c),F}function k(){let t=dn();aF()?cF():(t=t.parent,ju(t,!1));let e=t;Ej(e)&&Ij(),Tj();let n=ft();return n.firstCreatePass&&jk(n,e),e.classesWithoutHost!=null&&Bj(e)&&gw(n,e,oe(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&jj(e)&&gw(n,e,oe(),e.stylesWithoutHost,!1),k}function Te(t,e,n,i){return F(t,e,n,i),k(),Te}var UH=(t,e,n,i,r,s)=>(Xw(!0),uk(i,r,Lj()));function hn(){return oe()}var mo=void 0;function VH(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return e===1&&n===0?1:5}var BH=["en",[["a","p"],["AM","PM"],mo],[["AM","PM"],mo,mo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],mo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],mo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",mo,"{1} 'at' {0}",mo],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",VH],Ey={};function Jn(t){let e=jH(t),n=gA(e);if(n)return n;let i=e.split("-")[0];if(n=gA(i),n)return n;if(i==="en")return BH;throw new z(701,!1)}function gA(t){return t in Ey||(Ey[t]=xr.ng&&xr.ng.common&&xr.ng.common.locales&&xr.ng.common.locales[t]),Ey[t]}var pt=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(pt||{});function jH(t){return t.toLowerCase().replace(/_/g,"-")}var Np="en-US";var $H=Np;function HH(t){typeof t=="string"&&($H=t.toLowerCase().replace(/_/g,"-"))}function vA(t,e,n){return function i(r){if(r===Function)return n;let s=pc(t)?Li(t.index,e):e;bx(s,5);let o=e[It],a=_A(e,o,n,r),c=i.__ngNextListenerFn__;for(;c;)a=_A(e,o,c,r)&&a,c=c.__ngNextListenerFn__;return a}}function _A(t,e,n,i){let r=me(null);try{return je(6,e,n),n(i)!==!1}catch(s){return GH(t,s),!1}finally{je(7,e,n),me(r)}}function GH(t,e){let n=t[oc],i=n?n.get(fi,null):null;i&&i.handleError(e)}function yA(t,e,n,i,r,s){let o=e[n],a=e[pe],u=a.data[n].outputs[i],d=o[u],f=a.firstCreatePass?Gw(a):null,m=Hw(e),g=d.subscribe(s),w=m.length;m.push(s,g),f&&f.push(r,t.index,w,-(w+1))}function ae(t,e,n,i){let r=oe(),s=ft(),o=dn();return pM(s,r,r[lt],o,t,e,i),ae}function zH(t,e,n,i){let r=t.cleanup;if(r!=null)for(let s=0;s<r.length-1;s+=2){let o=r[s];if(o===n&&r[s+1]===i){let a=e[gp],c=r[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function pM(t,e,n,i,r,s,o){let a=Vw(i),u=t.firstCreatePass?Gw(t):null,d=Hw(e),f=!0;if(i.type&3||o){let m=Bi(i,e),g=o?o(m):m,w=d.length,E=o?P=>o(Ni(P[i.index])):i.index,D=null;if(!o&&a&&(D=zH(t,e,r,i.index)),D!==null){let P=D.__ngLastListenerFn__||D;P.__ngNextListenerFn__=s,D.__ngLastListenerFn__=s,f=!1}else{s=vA(i,e,s),S6(e,g,r,s);let P=n.listen(g,r,s);d.push(s,P),u&&u.push(r,E,w,w+1)}}else s=vA(i,e,s);if(f){let m=i.outputs?.[r],g=i.hostDirectiveOutputs?.[r];if(g&&g.length)for(let w=0;w<g.length;w+=2){let E=g[w],D=g[w+1];yA(i,e,E,D,r,s)}if(m&&m.length)for(let w of m)yA(i,e,w,r,r,s)}}function ee(t=1){return Nj(t)}function WH(t,e){let n=null,i=t$(t);for(let r=0;r<e.length;r++){let s=e[r];if(s==="*"){n=r;continue}if(i===null?lk(t,s,!0):r$(i,s))return r}return n}function mM(t){let e=oe()[Rn][Tn];if(!e.projection){let n=t?t.length:1,i=e.projection=X4(n,null),r=i.slice(),s=e.child;for(;s!==null;){if(s.type!==128){let o=t?WH(s,t):0;o!==null&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s)}s=s.next}}}function gM(t,e=0,n,i,r,s){let o=oe(),a=ft(),c=i?t+1:null;c!==null&&Mp(o,a,c,i,r,s,null,n);let u=Zp(a,Rt+t,16,null,n||null);u.projection===null&&(u.projection=e),cF();let f=!o[sc]||sF();o[Rn][Tn].projection[u.projection]===null&&c!==null?qH(o,a,c):f&&!_x(u)&&B$(a,o,u)}function qH(t,e,n){let i=Rt+n,r=e.data[i],s=t[i],o=uc(s,r.tView.ssrId),a=Gu(t,r,void 0,{dehydratedView:o});zu(s,a,0,lc(r,o))}function tm(t,e,n){return Po(t,"",e,"",n),tm}function Po(t,e,n,i,r){let s=oe(),o=Ax(s,e,n,i);if(o!==En){let a=ft(),c=Wp();px(a,c,s,t,o,s[lt],r,!1)}return Po}function nm(t,e,n,i){H5(t,e,n,i)}function vM(t,e,n){$5(t,e,n)}function Yu(t){let e=oe(),n=ft(),i=uF();Ww(i+1);let r=Tx(n,i);if(t.dirty&&vj(e)===((r.metadata.flags&2)===2)){if(r.matches===null)t.reset([]);else{let s=W5(e,i);t.reset(s,u6),t.notifyOnChanges()}return!0}return!1}function Ku(){return j5(oe(),uF())}function Fx(t){let e=Dj();return jw(e,Rt+t)}function L(t,e=""){let n=oe(),i=ft(),r=t+Rt,s=i.firstCreatePass?Zp(i,r,1,e,null):i.data[r],o=YH(i,n,s,e,t);n[r]=o,Kw()&&wx(i,n,o,s),ju(s,!1)}var YH=(t,e,n,i,r)=>(Xw(!0),c$(e[lt],i));function ke(t){return Nn("",t,""),ke}function Nn(t,e,n){let i=oe(),r=Ax(i,t,e,n);return r!==En&&_M(i,Sr(),r),Nn}function Xu(t,e,n,i,r){let s=oe(),o=gH(s,t,e,n,i,r);return o!==En&&_M(s,Sr(),o),Xu}function _M(t,e,n){let i=eF(e,t);l$(t[lt],i,n)}function zi(t,e,n){LF(e)&&(e=e());let i=oe(),r=vc();if(qn(i,r,e)){let s=ft(),o=Wp();px(s,o,i,t,e,i[lt],n,!1)}return zi}function kr(t,e){let n=LF(t);return n&&t.set(e),n}function Wi(t,e){let n=oe(),i=ft(),r=dn();return pM(i,n,n[lt],r,t,e),Wi}function KH(t,e,n){let i=ft();if(i.firstCreatePass){let r=Oi(t);Cw(n,i.data,i.blueprint,r,!0),Cw(e,i.data,i.blueprint,r,!1)}}function Cw(t,e,n,i,r){if(t=un(t),Array.isArray(t))for(let s=0;s<t.length;s++)Cw(t[s],e,n,i,r);else{let s=ft(),o=oe(),a=dn(),c=rc(t)?t:un(t.provide),u=GA(t),d=a.providerIndexes&1048575,f=a.directiveStart,m=a.providerIndexes>>20;if(rc(t)||!t.multi){let g=new Io(u,r,V),w=Sy(c,e,r?d:d+m,f);w===-1?(By(Cp(a,o),s,c),Iy(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(g),o.push(g)):(n[w]=g,o[w]=g)}else{let g=Sy(c,e,d+m,f),w=Sy(c,e,d,d+m),E=g>=0&&n[g],D=w>=0&&n[w];if(r&&!D||!r&&!E){By(Cp(a,o),s,c);let P=ZH(r?QH:XH,n.length,r,i,u);!r&&D&&(n[w].providerFactory=P),Iy(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(P),o.push(P)}else{let P=yM(n[r?w:g],u,!r&&i);Iy(s,t,g>-1?g:w,P)}!r&&i&&D&&n[w].componentProviders++}}}function Iy(t,e,n,i){let r=rc(e),s=sj(e);if(r||s){let c=(s?un(e.useClass):e).prototype.ngOnDestroy;if(c){let u=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){let d=u.indexOf(n);d===-1?u.push(n,[i,c]):u[d+1].push(i,c)}else u.push(n,c)}}}function yM(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Sy(t,e,n,i){for(let r=n;r<i;r++)if(e[r]===t)return r;return-1}function XH(t,e,n,i,r){return Tw(this.multi,[])}function QH(t,e,n,i,r){let s=this.multi,o;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=Ru(i,i[pe],this.providerFactory.index,r);o=c.slice(0,a),Tw(s,o);for(let u=a;u<c.length;u++)o.push(c[u])}else o=[],Tw(s,o);return o}function Tw(t,e){for(let n=0;n<t.length;n++){let i=t[n];e.push(i())}return e}function ZH(t,e,n,i,r){let s=new Io(t,n,V);return s.multi=[],s.index=e,s.componentProviders=0,yM(s,r,i&&!n),s}function ei(t,e=[]){return n=>{n.providersResolver=(i,r)=>KH(i,r?r(t):t,e)}}function Mr(t,e,n){let i=ko()+t,r=oe();return r[i]===En?qu(r,i,n?e.call(n):e()):oH(r,i)}function wM(t,e,n,i){return bM(oe(),ko(),t,e,n,i)}function xM(t,e,n,i,r){return CM(oe(),ko(),t,e,n,i,r)}function kx(t,e,n,i,r,s){return JH(oe(),ko(),t,e,n,i,r,s)}function im(t,e,n,i,r,s,o){return eG(oe(),ko(),t,e,n,i,r,s,o)}function rm(t,e){let n=t[e];return n===En?void 0:n}function bM(t,e,n,i,r,s){let o=e+n;return qn(t,o,r)?qu(t,o+1,s?i.call(s,r):i(r)):rm(t,o+1)}function CM(t,e,n,i,r,s,o){let a=e+n;return Lu(t,a,r,s)?qu(t,a+2,o?i.call(o,r,s):i(r,s)):rm(t,a+2)}function JH(t,e,n,i,r,s,o,a){let c=e+n;return aH(t,c,r,s,o)?qu(t,c+3,a?i.call(a,r,s,o):i(r,s,o)):rm(t,c+3)}function eG(t,e,n,i,r,s,o,a,c){let u=e+n;return cH(t,u,r,s,o,a)?qu(t,u+4,c?i.call(c,r,s,o,a):i(r,s,o,a)):rm(t,u+4)}function Rr(t,e){let n=ft(),i,r=t+Rt;n.firstCreatePass?(i=tG(e,n.pipeRegistry),n.data[r]=i,i.onDestroy&&(n.destroyHooks??=[]).push(r,i.onDestroy)):i=n.data[r];let s=i.factory||(i.factory=yo(i.type,!0)),o,a=yn(V);try{let c=bp(!1),u=s();return bp(c),gj(n,oe(),r,u),u}finally{yn(a)}}function tG(t,e){if(e)for(let n=e.length-1;n>=0;n--){let i=e[n];if(t===i.name)return i}}function ws(t,e,n){let i=t+Rt,r=oe(),s=jw(r,i);return EM(r,i)?bM(r,ko(),e,s.transform,n,s):s.transform(n)}function TM(t,e,n,i){let r=t+Rt,s=oe(),o=jw(s,r);return EM(s,r)?CM(s,ko(),e,o.transform,n,i,o):o.transform(n,i)}function EM(t,e){return t[pe].data[e].pure}var Fo=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},IM=new Fo("19.2.14"),Ew=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},SM=(()=>{class t{compileModuleSync(n){return new hw(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let i=this.compileModuleSync(n),r=BA(n),s=ak(r.declarations).reduce((o,a)=>{let c=ms(a);return c&&o.push(new Do(c)),o},[]);return new Ew(i,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(i){return new(i||t)};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var nG=(()=>{class t{zone=R(Oe);changeDetectionScheduler=R(So);applicationRef=R(Tr);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(i){return new(i||t)};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function iG({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new Oe(se(U({},rG()),{scheduleInRootZone:n})),[{provide:Oe,useFactory:t},{provide:Au,multi:!0,useFactory:()=>{let i=R(nG,{optional:!0});return()=>i.initialize()}},{provide:Au,multi:!0,useFactory:()=>{let i=R(sG);return()=>{i.initialize()}}},e===!0?{provide:MF,useValue:!0}:[],{provide:RF,useValue:n??FF}]}function rG(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var sG=(()=>{class t{subscription=new at;initialized=!1;zone=R(Oe);pendingTasks=R(_s);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Oe.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Oe.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(i){return new(i||t)};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var oG=(()=>{class t{appRef=R(Tr);taskService=R(_s);ngZone=R(Oe);zonelessEnabled=R(kF);tracing=R(yc,{optional:!0});disableScheduling=R(MF,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new at;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Ep):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(R(RF,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Gy||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let i=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,i=!0;break}case 12:{this.appRef.dirtyFlags|=16,i=!0;break}case 13:{this.appRef.dirtyFlags|=2,i=!0;break}case 11:{i=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(i))return;let r=this.useMicrotaskScheduler?zD:PF;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Ep+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(n),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,zD(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(i){return new(i||t)};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function aG(){return typeof $localize<"u"&&$localize.locale||Np}var sm=new W("",{providedIn:"root",factory:()=>R(sm,_e.Optional|_e.SkipSelf)||aG()});var Iw=new W(""),cG=new W("");function Eu(t){return!t.moduleRef}function lG(t){let e=Eu(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Oe);return n.run(()=>{Eu(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let i=e.get(fi,null),r;if(n.runOutsideAngular(()=>{r=n.onError.subscribe({next:s=>{i.handleError(s)}})}),Eu(t)){let s=()=>e.destroy(),o=t.platformInjector.get(Iw);o.add(s),e.onDestroy(()=>{r.unsubscribe(),o.delete(s)})}else{let s=()=>t.moduleRef.destroy(),o=t.platformInjector.get(Iw);o.add(s),t.moduleRef.onDestroy(()=>{lp(t.allPlatformModules,t.moduleRef),r.unsubscribe(),o.delete(s)})}return dG(i,n,()=>{let s=e.get(eM);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(sm,Np);if(HH(o||Np),!e.get(cG,!0))return Eu(t)?e.get(Tr):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(Eu(t)){let c=e.get(Tr);return t.rootComponent!==void 0&&c.bootstrap(t.rootComponent),c}else return uG(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function uG(t,e){let n=t.injector.get(Tr);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>n.bootstrap(i));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new z(-403,!1);e.push(t)}function dG(t,e,n){try{let i=n();return ys(i)?i.catch(r=>{throw e.runOutsideAngular(()=>t.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}var up=null;function hG(t=[],e){return Ke.create({name:e,providers:[{provide:jp,useValue:"platform"},{provide:Iw,useValue:new Set([()=>up=null])},...t]})}function fG(t=[]){if(up)return up;let e=hG(t);return up=e,hH(),pG(e),e}function pG(t){let e=t.get(nx,null);Cn(t,()=>{e?.forEach(n=>n())})}var ti=(()=>{class t{static __NG_ELEMENT_ID__=mG}return t})();function mG(t){return gG(dn(),oe(),(t&16)===16)}function gG(t,e,n){if(pc(t)&&!n){let i=Li(t.index,e);return new Nu(i,i)}else if(t.type&175){let i=e[Rn];return new Nu(i,e)}return null}var Sw=class{constructor(){}supports(e){return Kk(e)}create(e){return new Dw(e)}},vG=(t,e)=>e,Dw=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||vG}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,i=this._removalsHead,r=0,s=null;for(;n||i;){let o=!i||n&&n.currentIndex<wA(i,r,s)?n:i,a=wA(o,r,s),c=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(n=n._next,o.previousIndex==null)r++;else{s||(s=[]);let u=a-r,d=c-r;if(u!=d){for(let m=0;m<u;m++){let g=m<s.length?s[m]:s[m]=0,w=g+m;d<=w&&w<u&&(s[m]=g+1)}let f=o.previousIndex;s[f]=d-u}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!Kk(e))throw new z(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,i=!1,r,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),i=!0):(i&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else r=0,sH(e,a=>{o=this._trackByFn(r,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,r),i=!0):(i&&(n=this._verifyReinsertion(n,a,o,r)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,r++}),this.length=r;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,i,r){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(i,r),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,r)):e=this._addAfter(new Aw(n,i),s,r)),e}_verifyReinsertion(e,n,i,r){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return s!==null?e=this._reinsertAfter(s,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,s=e._nextRemoved;return r===null?this._removalsHead=s:r._nextRemoved=s,s===null?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(e,n,i),this._addToMoves(e,i),e}_moveAfter(e,n,i){return this._unlink(e),this._insertAfter(e,n,i),this._addToMoves(e,i),e}_addAfter(e,n,i){return this._insertAfter(e,n,i),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,i){let r=n===null?this._itHead:n._next;return e._next=r,e._prev=n,r===null?this._itTail=e:r._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Lp),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,i=e._next;return n===null?this._itHead=i:n._next=i,i===null?this._itTail=n:i._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Lp),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Aw=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,n){this.item=e,this.trackById=n}},Fw=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let i;for(i=this._head;i!==null;i=i._nextDup)if((n===null||n<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let n=e._prevDup,i=e._nextDup;return n===null?this._head=i:n._nextDup=i,i===null?this._tail=n:i._prevDup=n,this._head===null}},Lp=class{map=new Map;put(e){let n=e.trackById,i=this.map.get(n);i||(i=new Fw,this.map.set(n,i)),i.add(e)}get(e,n){let i=e,r=this.map.get(i);return r?r.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function wA(t,e,n){let i=t.previousIndex;if(i===null)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+e+r}var kw=class{constructor(){}supports(e){return e instanceof Map||Ix(e)}create(){return new Mw}},Mw=class{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let n;for(n=this._mapHead;n!==null;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||Ix(e)))throw new z(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(n&&n.key===r)this._maybeAddToChanges(n,i),this._appendAfter=n,n=n._next;else{let s=this._getOrCreateRecordForKey(r,i);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let i=n;i!==null;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){let i=e._prev;return n._next=e,n._prev=i,e._prev=n,i&&(i._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){let r=this._records.get(e);this._maybeAddToChanges(r,n);let s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}let i=new Rw(e);return this._records.set(e,i),i.currentValue=n,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(i=>n(e[i],i))}},Rw=class{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(e){this.key=e}};function xA(){return new Mx([new Sw])}var Mx=(()=>{class t{factories;static \u0275prov=G({token:t,providedIn:"root",factory:xA});constructor(n){this.factories=n}static create(n,i){if(i!=null){let r=i.factories.slice();n=n.concat(r)}return new t(n)}static extend(n){return{provide:t,useFactory:i=>t.create(n,i||xA()),deps:[[t,new NA,new bn]]}}find(n){let i=this.factories.find(r=>r.supports(n));if(i!=null)return i;throw new z(901,!1)}}return t})();function bA(){return new Rx([new kw])}var Rx=(()=>{class t{static \u0275prov=G({token:t,providedIn:"root",factory:bA});factories;constructor(n){this.factories=n}static create(n,i){if(i){let r=i.factories.slice();n=n.concat(r)}return new t(n)}static extend(n){return{provide:t,useFactory:i=>t.create(n,i||bA()),deps:[[t,new NA,new bn]]}}find(n){let i=this.factories.find(r=>r.supports(n));if(i)return i;throw new z(901,!1)}}return t})();function DM(t){je(8);try{let{rootComponent:e,appProviders:n,platformProviders:i}=t,r=fG(i),s=[iG({}),{provide:So,useExisting:oG},...n||[]],o=new kp({providers:s,parent:r,debugName:"",runEnvironmentInitializers:!1});return lG({r3Injector:o.injector,platformInjector:r,rootComponent:e})}catch(e){return Promise.reject(e)}finally{je(9)}}function xs(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function fn(t){return X_(t)}function gi(t,e){return W_(t,e?.equal)}var Pw=class{[zn];constructor(e){this[zn]=e}destroy(){this[zn].destroy()}};function Px(t,e){!e?.injector&&Hp(Px);let n=e?.injector??R(Ke),i=e?.manualCleanup!==!0?n.get(Hi):null,r,s=n.get(sx,null,{optional:!0}),o=n.get(So);return s!==null&&!e?.forceRoot?(r=wG(s.view,o,t),i instanceof Tp&&i._lView===s.view&&(i=null)):r=xG(t,n.get(Zk),o),r.injector=n,i!==null&&(r.onDestroyFn=i.onDestroy(()=>r.destroy())),new Pw(r)}var AM=se(U({},La),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,cleanupFns:void 0,zone:null,kind:"effect",onDestroyFn:Pu,run(){if(this.dirty=!1,this.hasRun&&!Ef(this))return;this.hasRun=!0;let t=i=>(this.cleanupFns??=[]).push(i),e=pu(this),n=yp(!1);try{this.maybeCleanup(),this.fn(t)}finally{yp(n),Tf(this,e)}},maybeCleanup(){if(this.cleanupFns?.length)try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[]}}}),_G=se(U({},AM),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){mu(this),this.onDestroyFn(),this.maybeCleanup(),this.scheduler.remove(this)}}),yG=se(U({},AM),{consumerMarkedDirty(){this.view[he]|=8192,gc(this.view),this.notifier.notify(13)},destroy(){mu(this),this.onDestroyFn(),this.maybeCleanup(),this.view[bo]?.delete(this)}});function wG(t,e,n){let i=Object.create(yG);return i.view=t,i.zone=typeof Zone<"u"?Zone.current:null,i.notifier=e,i.fn=n,t[bo]??=new Set,t[bo].add(i),i.consumerMarkedDirty(i),i}function xG(t,e,n){let i=Object.create(_G);return i.fn=t,i.scheduler=e,i.notifier=n,i.zone=typeof Zone<"u"?Zone.current:null,i.scheduler.schedule(i),i.notifier.notify(12),i}function FM(t,e){let n=ms(t),i=e.elementInjector||$p();return new Do(n).create(i,e.projectableNodes,e.hostElement,e.environmentInjector)}function kM(t){let e=ms(t);if(!e)return null;let n=new Do(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var gt=new W("");var PM=null;function ni(){return PM}function Ox(t){PM??=t}var Qu=class{},Zu=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(i){return new(i||t)};static \u0275prov=G({token:t,factory:()=>R(OM),providedIn:"platform"})}return t})(),Nx=new W(""),OM=(()=>{class t extends Zu{_location;_history;_doc=R(gt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ni().getBaseHref(this._doc)}onPopState(n){let i=ni().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",n,!1),()=>i.removeEventListener("popstate",n)}onHashChange(n){let i=ni().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",n,!1),()=>i.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,i,r){this._history.pushState(n,i,r)}replaceState(n,i,r){this._history.replaceState(n,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(i){return new(i||t)};static \u0275prov=G({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function om(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function MM(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function vi(t){return t&&t[0]!=="?"?`?${t}`:t}var _i=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(i){return new(i||t)};static \u0275prov=G({token:t,factory:()=>R(cm),providedIn:"root"})}return t})(),am=new W(""),cm=(()=>{class t extends _i{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,i){super(),this._platformLocation=n,this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??R(gt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return om(this._baseHref,n)}path(n=!1){let i=this._platformLocation.pathname+vi(this._platformLocation.search),r=this._platformLocation.hash;return r&&n?`${i}${r}`:i}pushState(n,i,r,s){let o=this.prepareExternalUrl(r+vi(s));this._platformLocation.pushState(n,i,o)}replaceState(n,i,r,s){let o=this.prepareExternalUrl(r+vi(s));this._platformLocation.replaceState(n,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(i){return new(i||t)(K(Zu),K(am,8))};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),bs=(()=>{class t{_subject=new nt;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let i=this._locationStrategy.getBaseHref();this._basePath=TG(MM(RM(i))),this._locationStrategy.onPopState(r=>{this._subject.next({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,i=""){return this.path()==this.normalize(n+vi(i))}normalize(n){return t.stripTrailingSlash(CG(this._basePath,RM(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,i="",r=null){this._locationStrategy.pushState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+vi(i)),r)}replaceState(n,i="",r=null){this._locationStrategy.replaceState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+vi(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",i){this._urlChangeListeners.forEach(r=>r(n,i))}subscribe(n,i,r){return this._subject.subscribe({next:n,error:i??void 0,complete:r??void 0})}static normalizeQueryParams=vi;static joinWithSlash=om;static stripTrailingSlash=MM;static \u0275fac=function(i){return new(i||t)(K(_i))};static \u0275prov=G({token:t,factory:()=>bG(),providedIn:"root"})}return t})();function bG(){return new bs(K(_i))}function CG(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function RM(t){return t.replace(/\/index.html$/,"")}function TG(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var Hx=(()=>{class t extends _i{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,i){super(),this._platformLocation=n,i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(n){let i=om(this._baseHref,n);return i.length>0?"#"+i:i}pushState(n,i,r,s){let o=this.prepareExternalUrl(r+vi(s))||this._platformLocation.pathname;this._platformLocation.pushState(n,i,o)}replaceState(n,i,r,s){let o=this.prepareExternalUrl(r+vi(s))||this._platformLocation.pathname;this._platformLocation.replaceState(n,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(i){return new(i||t)(K(Zu),K(am,8))};static \u0275prov=G({token:t,factory:t.\u0275fac})}return t})();var en=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(en||{}),Ge=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(Ge||{}),In=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(In||{}),Or={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function BM(t){return Jn(t)[pt.LocaleId]}function jM(t,e,n){let i=Jn(t),r=[i[pt.DayPeriodsFormat],i[pt.DayPeriodsStandalone]],s=ii(r,e);return ii(s,n)}function $M(t,e,n){let i=Jn(t),r=[i[pt.DaysFormat],i[pt.DaysStandalone]],s=ii(r,e);return ii(s,n)}function HM(t,e,n){let i=Jn(t),r=[i[pt.MonthsFormat],i[pt.MonthsStandalone]],s=ii(r,e);return ii(s,n)}function GM(t,e){let i=Jn(t)[pt.Eras];return ii(i,e)}function Ju(t,e){let n=Jn(t);return ii(n[pt.DateFormat],e)}function ed(t,e){let n=Jn(t);return ii(n[pt.TimeFormat],e)}function td(t,e){let i=Jn(t)[pt.DateTimeFormat];return ii(i,e)}function nd(t,e){let n=Jn(t),i=n[pt.NumberSymbols][e];if(typeof i>"u"){if(e===Or.CurrencyDecimal)return n[pt.NumberSymbols][Or.Decimal];if(e===Or.CurrencyGroup)return n[pt.NumberSymbols][Or.Group]}return i}function zM(t){if(!t[pt.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[pt.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function WM(t){let e=Jn(t);return zM(e),(e[pt.ExtraData][2]||[]).map(i=>typeof i=="string"?Lx(i):[Lx(i[0]),Lx(i[1])])}function qM(t,e,n){let i=Jn(t);zM(i);let r=[i[pt.ExtraData][0],i[pt.ExtraData][1]],s=ii(r,e)||[];return ii(s,n)||[]}function ii(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function Lx(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var EG=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,lm={},IG=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function YM(t,e,n,i){let r=OG(t);e=Pr(n,e)||e;let o=[],a;for(;e;)if(a=IG.exec(e),a){o=o.concat(a.slice(1));let d=o.pop();if(!d)break;e=d}else{o.push(e);break}let c=r.getTimezoneOffset();i&&(c=XM(i,c),r=PG(r,i));let u="";return o.forEach(d=>{let f=MG(d);u+=f?f(r,n,c):d==="''"?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function pm(t,e,n){let i=new Date(0);return i.setFullYear(t,e,n),i.setHours(0,0,0),i}function Pr(t,e){let n=BM(t);if(lm[n]??={},lm[n][e])return lm[n][e];let i="";switch(e){case"shortDate":i=Ju(t,In.Short);break;case"mediumDate":i=Ju(t,In.Medium);break;case"longDate":i=Ju(t,In.Long);break;case"fullDate":i=Ju(t,In.Full);break;case"shortTime":i=ed(t,In.Short);break;case"mediumTime":i=ed(t,In.Medium);break;case"longTime":i=ed(t,In.Long);break;case"fullTime":i=ed(t,In.Full);break;case"short":let r=Pr(t,"shortTime"),s=Pr(t,"shortDate");i=um(td(t,In.Short),[r,s]);break;case"medium":let o=Pr(t,"mediumTime"),a=Pr(t,"mediumDate");i=um(td(t,In.Medium),[o,a]);break;case"long":let c=Pr(t,"longTime"),u=Pr(t,"longDate");i=um(td(t,In.Long),[c,u]);break;case"full":let d=Pr(t,"fullTime"),f=Pr(t,"fullDate");i=um(td(t,In.Full),[d,f]);break}return i&&(lm[n][e]=i),i}function um(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,i){return e!=null&&i in e?e[i]:n})),t}function yi(t,e,n="-",i,r){let s="";(t<0||r&&t<=0)&&(r?t=-t+1:(t=-t,s=n));let o=String(t);for(;o.length<e;)o="0"+o;return i&&(o=o.slice(o.length-e)),s+o}function SG(t,e){return yi(t,3).substring(0,e)}function vt(t,e,n=0,i=!1,r=!1){return function(s,o){let a=DG(t,s);if((n>0||a>-n)&&(a+=n),t===3)a===0&&n===-12&&(a=12);else if(t===6)return SG(a,e);let c=nd(o,Or.MinusSign);return yi(a,e,c,i,r)}}function DG(t,e){switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function Xe(t,e,n=en.Format,i=!1){return function(r,s){return AG(r,s,t,e,n,i)}}function AG(t,e,n,i,r,s){switch(n){case 2:return HM(e,r,i)[t.getMonth()];case 1:return $M(e,r,i)[t.getDay()];case 0:let o=t.getHours(),a=t.getMinutes();if(s){let u=WM(e),d=qM(e,r,i),f=u.findIndex(m=>{if(Array.isArray(m)){let[g,w]=m,E=o>=g.hours&&a>=g.minutes,D=o<w.hours||o===w.hours&&a<w.minutes;if(g.hours<w.hours){if(E&&D)return!0}else if(E||D)return!0}else if(m.hours===o&&m.minutes===a)return!0;return!1});if(f!==-1)return d[f]}return jM(e,r,i)[o<12?0:1];case 3:return GM(e,i)[t.getFullYear()<=0?0:1];default:let c=n;throw new Error(`unexpected translation type ${c}`)}}function dm(t){return function(e,n,i){let r=-1*i,s=nd(n,Or.MinusSign),o=r>0?Math.floor(r/60):Math.ceil(r/60);switch(t){case 0:return(r>=0?"+":"")+yi(o,2,s)+yi(Math.abs(r%60),2,s);case 1:return"GMT"+(r>=0?"+":"")+yi(o,1,s);case 2:return"GMT"+(r>=0?"+":"")+yi(o,2,s)+":"+yi(Math.abs(r%60),2,s);case 3:return i===0?"Z":(r>=0?"+":"")+yi(o,2,s)+":"+yi(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}var FG=0,fm=4;function kG(t){let e=pm(t,FG,1).getDay();return pm(t,0,1+(e<=fm?fm:fm+7)-e)}function KM(t){let e=t.getDay(),n=e===0?-3:fm-e;return pm(t.getFullYear(),t.getMonth(),t.getDate()+n)}function Ux(t,e=!1){return function(n,i){let r;if(e){let s=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,o=n.getDate();r=1+Math.floor((o+s)/7)}else{let s=KM(n),o=kG(s.getFullYear()),a=s.getTime()-o.getTime();r=1+Math.round(a/6048e5)}return yi(r,t,nd(i,Or.MinusSign))}}function hm(t,e=!1){return function(n,i){let s=KM(n).getFullYear();return yi(s,t,nd(i,Or.MinusSign),e)}}var Vx={};function MG(t){if(Vx[t])return Vx[t];let e;switch(t){case"G":case"GG":case"GGG":e=Xe(3,Ge.Abbreviated);break;case"GGGG":e=Xe(3,Ge.Wide);break;case"GGGGG":e=Xe(3,Ge.Narrow);break;case"y":e=vt(0,1,0,!1,!0);break;case"yy":e=vt(0,2,0,!0,!0);break;case"yyy":e=vt(0,3,0,!1,!0);break;case"yyyy":e=vt(0,4,0,!1,!0);break;case"Y":e=hm(1);break;case"YY":e=hm(2,!0);break;case"YYY":e=hm(3);break;case"YYYY":e=hm(4);break;case"M":case"L":e=vt(1,1,1);break;case"MM":case"LL":e=vt(1,2,1);break;case"MMM":e=Xe(2,Ge.Abbreviated);break;case"MMMM":e=Xe(2,Ge.Wide);break;case"MMMMM":e=Xe(2,Ge.Narrow);break;case"LLL":e=Xe(2,Ge.Abbreviated,en.Standalone);break;case"LLLL":e=Xe(2,Ge.Wide,en.Standalone);break;case"LLLLL":e=Xe(2,Ge.Narrow,en.Standalone);break;case"w":e=Ux(1);break;case"ww":e=Ux(2);break;case"W":e=Ux(1,!0);break;case"d":e=vt(2,1);break;case"dd":e=vt(2,2);break;case"c":case"cc":e=vt(7,1);break;case"ccc":e=Xe(1,Ge.Abbreviated,en.Standalone);break;case"cccc":e=Xe(1,Ge.Wide,en.Standalone);break;case"ccccc":e=Xe(1,Ge.Narrow,en.Standalone);break;case"cccccc":e=Xe(1,Ge.Short,en.Standalone);break;case"E":case"EE":case"EEE":e=Xe(1,Ge.Abbreviated);break;case"EEEE":e=Xe(1,Ge.Wide);break;case"EEEEE":e=Xe(1,Ge.Narrow);break;case"EEEEEE":e=Xe(1,Ge.Short);break;case"a":case"aa":case"aaa":e=Xe(0,Ge.Abbreviated);break;case"aaaa":e=Xe(0,Ge.Wide);break;case"aaaaa":e=Xe(0,Ge.Narrow);break;case"b":case"bb":case"bbb":e=Xe(0,Ge.Abbreviated,en.Standalone,!0);break;case"bbbb":e=Xe(0,Ge.Wide,en.Standalone,!0);break;case"bbbbb":e=Xe(0,Ge.Narrow,en.Standalone,!0);break;case"B":case"BB":case"BBB":e=Xe(0,Ge.Abbreviated,en.Format,!0);break;case"BBBB":e=Xe(0,Ge.Wide,en.Format,!0);break;case"BBBBB":e=Xe(0,Ge.Narrow,en.Format,!0);break;case"h":e=vt(3,1,-12);break;case"hh":e=vt(3,2,-12);break;case"H":e=vt(3,1);break;case"HH":e=vt(3,2);break;case"m":e=vt(4,1);break;case"mm":e=vt(4,2);break;case"s":e=vt(5,1);break;case"ss":e=vt(5,2);break;case"S":e=vt(6,1);break;case"SS":e=vt(6,2);break;case"SSS":e=vt(6,3);break;case"Z":case"ZZ":case"ZZZ":e=dm(0);break;case"ZZZZZ":e=dm(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=dm(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=dm(2);break;default:return null}return Vx[t]=e,e}function XM(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function RG(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function PG(t,e,n){let r=t.getTimezoneOffset(),s=XM(e,r);return RG(t,-1*(s-r))}function OG(t){if(NM(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[r,s=1,o=1]=t.split("-").map(a=>+a);return pm(r,s-1,o)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let i;if(i=t.match(EG))return NG(i)}let e=new Date(t);if(!NM(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function NG(t){let e=new Date(0),n=0,i=0,r=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),i=Number(t[9]+t[11])),r.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let o=Number(t[4]||0)-n,a=Number(t[5]||0)-i,c=Number(t[6]||0),u=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return s.call(e,o,a,c,u),e}function NM(t){return t instanceof Date&&!isNaN(t.valueOf())}var Bx=/\s+/,LM=[],Nr=(()=>{class t{_ngEl;_renderer;initialClasses=LM;rawClass;stateMap=new Map;constructor(n,i){this._ngEl=n,this._renderer=i}set klass(n){this.initialClasses=n!=null?n.trim().split(Bx):LM}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(Bx):n}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let i of n)this._updateState(i,!0);else if(n!=null)for(let i of Object.keys(n))this._updateState(i,!!n[i]);this._applyStateDiff()}_updateState(n,i){let r=this.stateMap.get(n);r!==void 0?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(n,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let i=n[0],r=n[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(n,i){n=n.trim(),n.length>0&&n.split(Bx).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static \u0275fac=function(i){return new(i||t)(V(et),V(Zt))};static \u0275dir=Ne({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})();var mm=class{$implicit;ngForOf;index;count;constructor(e,n,i,r){this.$implicit=e,this.ngForOf=n,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Cs=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,i,r){this._viewContainer=n,this._template=i,this._differs=r}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let i=this._viewContainer;n.forEachOperation((r,s,o)=>{if(r.previousIndex==null)i.createEmbeddedView(this._template,new mm(r.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)i.remove(s===null?void 0:s);else if(s!==null){let a=i.get(s);i.move(a,o),UM(a,r)}});for(let r=0,s=i.length;r<s;r++){let a=i.get(r).context;a.index=r,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(r=>{let s=i.get(r.currentIndex);UM(s,r)})}static ngTemplateContextGuard(n,i){return!0}static \u0275fac=function(i){return new(i||t)(V(Qn),V(gs),V(Mx))};static \u0275dir=Ne({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function UM(t,e){t.context.$implicit=e.item}var Ln=(()=>{class t{_viewContainer;_context=new gm;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,i){this._viewContainer=n,this._thenTemplateRef=i}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){VM(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){VM(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,i){return!0}static \u0275fac=function(i){return new(i||t)(V(Qn),V(gs))};static \u0275dir=Ne({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),gm=class{$implicit=null;ngIf=null};function VM(t,e){if(t&&!t.createEmbeddedView)throw new z(2020,!1)}var Oo=(()=>{class t{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(n,i,r){this._ngEl=n,this._differs=i,this._renderer=r}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){let n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,i){let[r,s]=n.split("."),o=r.indexOf("-")===-1?void 0:Vi.DashCase;i!=null?this._renderer.setStyle(this._ngEl.nativeElement,r,s?`${i}${s}`:i,o):this._renderer.removeStyle(this._ngEl.nativeElement,r,o)}_applyChanges(n){n.forEachRemovedItem(i=>this._setStyle(i.key,null)),n.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),n.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}static \u0275fac=function(i){return new(i||t)(V(et),V(Rx),V(Zt))};static \u0275dir=Ne({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return t})(),Gx=(()=>{class t{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(n){this._viewContainerRef=n}ngOnChanges(n){if(this._shouldRecreateView(n)){let i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let r=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,r,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(n){return!!n.ngTemplateOutlet||!!n.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(n,i,r)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,i,r):!1,get:(n,i,r)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,r)}})}static \u0275fac=function(i){return new(i||t)(V(Qn))};static \u0275dir=Ne({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[ut]})}return t})();function zx(t,e){return new z(2100,!1)}var jx=class{createSubscription(e,n){return fn(()=>e.subscribe({next:n,error:i=>{throw i}}))}dispose(e){fn(()=>e.unsubscribe())}},$x=class{createSubscription(e,n){return e.then(i=>n?.(i),i=>{throw i}),{unsubscribe:()=>{n=null}}}dispose(e){e.unsubscribe()}},LG=new $x,UG=new jx,Wx=(()=>{class t{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(n){this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,i=>this._updateLatestValue(n,i))}_selectStrategy(n){if(ys(n))return LG;if(Sx(n))return UG;throw zx(t,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,i){n===this._obj&&(this._latestValue=i,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(i){return new(i||t)(V(ti,16))};static \u0275pipe=Jp({name:"async",type:t,pure:!1})}return t})();var VG=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,No=(()=>{class t{transform(n){if(n==null)return null;if(typeof n!="string")throw zx(t,n);return n.replace(VG,i=>i[0].toUpperCase()+i.slice(1).toLowerCase())}static \u0275fac=function(i){return new(i||t)};static \u0275pipe=Jp({name:"titlecase",type:t,pure:!0})}return t})();var BG="mediumDate",QM=new W(""),ZM=new W(""),id=(()=>{class t{locale;defaultTimezone;defaultOptions;constructor(n,i,r){this.locale=n,this.defaultTimezone=i,this.defaultOptions=r}transform(n,i,r,s){if(n==null||n===""||n!==n)return null;try{let o=i??this.defaultOptions?.dateFormat??BG,a=r??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return YM(n,o,s||this.locale,a)}catch(o){throw zx(t,o.message)}}static \u0275fac=function(i){return new(i||t)(V(sm,16),V(QM,24),V(ZM,24))};static \u0275pipe=Jp({name:"date",type:t,pure:!0})}return t})();var rt=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=He({type:t});static \u0275inj=$e({})}return t})();function rd(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let i=n.indexOf("="),[r,s]=i==-1?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}var vm="browser",JM="server";function sd(t){return t===vm}function Uo(t){return t===JM}var Lo=class{};var eR=(()=>{class t{static \u0275prov=G({token:t,providedIn:"root",factory:()=>new qx(R(gt),window)})}return t})(),qx=class{document;window;offset=()=>[0,0];constructor(e,n){this.document=e,this.window=n}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=jG(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),i=n.left+this.window.pageXOffset,r=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}};function jG(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let i=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let s=r.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}r=i.nextNode()}}return null}var wm=new W(""),Qx=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,i){this._zone=i,n.forEach(r=>{r.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,i,r,s){return this._findPluginFor(i).addEventListener(n,i,r,s)}getZone(){return this._zone}_findPluginFor(n){let i=this._eventNameToPlugin.get(n);if(i)return i;if(i=this._plugins.find(s=>s.supports(n)),!i)throw new z(5101,!1);return this._eventNameToPlugin.set(n,i),i}static \u0275fac=function(i){return new(i||t)(K(wm),K(Oe))};static \u0275prov=G({token:t,factory:t.\u0275fac})}return t})(),od=class{_doc;constructor(e){this._doc=e}manager},_m="ng-app-id";function tR(t){for(let e of t)e.remove()}function nR(t,e){let n=e.createElement("style");return n.textContent=t,n}function $G(t,e,n,i){let r=t.head?.querySelectorAll(`style[${_m}="${e}"],link[${_m}="${e}"]`);if(r)for(let s of r)s.removeAttribute(_m),s instanceof HTMLLinkElement?i.set(s.href.slice(s.href.lastIndexOf("/")+1),{usage:0,elements:[s]}):s.textContent&&n.set(s.textContent,{usage:0,elements:[s]})}function Kx(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var Zx=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,i,r,s={}){this.doc=n,this.appId=i,this.nonce=r,this.isServer=Uo(s),$G(n,i,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,i){for(let r of n)this.addUsage(r,this.inline,nR);i?.forEach(r=>this.addUsage(r,this.external,Kx))}removeStyles(n,i){for(let r of n)this.removeUsage(r,this.inline);i?.forEach(r=>this.removeUsage(r,this.external))}addUsage(n,i,r){let s=i.get(n);s?s.usage++:i.set(n,{usage:1,elements:[...this.hosts].map(o=>this.addElement(o,r(n,this.doc)))})}removeUsage(n,i){let r=i.get(n);r&&(r.usage--,r.usage<=0&&(tR(r.elements),i.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])tR(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[i,{elements:r}]of this.inline)r.push(this.addElement(n,nR(i,this.doc)));for(let[i,{elements:r}]of this.external)r.push(this.addElement(n,Kx(i,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,i){return this.nonce&&i.setAttribute("nonce",this.nonce),this.isServer&&i.setAttribute(_m,this.appId),n.appendChild(i)}static \u0275fac=function(i){return new(i||t)(K(gt),K(tx),K(ix,8),K(Xn))};static \u0275prov=G({token:t,factory:t.\u0275fac})}return t})(),Yx={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Jx=/%COMP%/g;var rR="%COMP%",HG=`_nghost-${rR}`,GG=`_ngcontent-${rR}`,zG=!0,WG=new W("",{providedIn:"root",factory:()=>zG});function qG(t){return GG.replace(Jx,t)}function YG(t){return HG.replace(Jx,t)}function sR(t,e){return e.map(n=>n.replace(Jx,t))}var eb=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,i,r,s,o,a,c,u=null,d=null){this.eventManager=n,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=c,this.nonce=u,this.tracingService=d,this.platformIsServer=Uo(a),this.defaultRenderer=new ad(n,o,c,this.platformIsServer,this.tracingService)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Ui.ShadowDom&&(i=se(U({},i),{encapsulation:Ui.Emulated}));let r=this.getOrCreateRenderer(n,i);return r instanceof ym?r.applyToHost(n):r instanceof cd&&r.applyStyles(),r}getOrCreateRenderer(n,i){let r=this.rendererByCompId,s=r.get(i.id);if(!s){let o=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer,m=this.tracingService;switch(i.encapsulation){case Ui.Emulated:s=new ym(c,u,i,this.appId,d,o,a,f,m);break;case Ui.ShadowDom:return new Xx(c,u,n,i,o,a,this.nonce,f,m);default:s=new cd(c,u,i,d,o,a,f,m);break}r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(i){return new(i||t)(K(Qx),K(Zx),K(tx),K(WG),K(gt),K(Xn),K(Oe),K(ix),K(yc,8))};static \u0275prov=G({token:t,factory:t.\u0275fac})}return t})(),ad=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,i,r,s){this.eventManager=e,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.tracingService=s}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(Yx[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(iR(e)?e.content:e).appendChild(n)}insertBefore(e,n,i){e&&(iR(e)?e.content:e).insertBefore(n,i)}removeChild(e,n){n.remove()}selectRootElement(e,n){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new z(-5104,!1);return n||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,i,r){if(r){n=r+":"+n;let s=Yx[r];s?e.setAttributeNS(s,n,i):e.setAttribute(n,i)}else e.setAttribute(n,i)}removeAttribute(e,n,i){if(i){let r=Yx[i];r?e.removeAttributeNS(r,n):e.removeAttribute(`${i}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,i,r){r&(Vi.DashCase|Vi.Important)?e.style.setProperty(n,i,r&Vi.Important?"important":""):e.style[n]=i}removeStyle(e,n,i){i&Vi.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,i){e!=null&&(e[n]=i)}setValue(e,n){e.nodeValue=n}listen(e,n,i,r){if(typeof e=="string"&&(e=ni().getGlobalEventTarget(this.doc,e),!e))throw new z(5102,!1);let s=this.decoratePreventDefault(i);return this.tracingService?.wrapEventListener&&(s=this.tracingService.wrapEventListener(e,n,s)),this.eventManager.addEventListener(e,n,s,r)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function iR(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Xx=class extends ad{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,i,r,s,o,a,c,u){super(e,s,o,c,u),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=r.styles;d=sR(r.id,d);for(let m of d){let g=document.createElement("style");a&&g.setAttribute("nonce",a),g.textContent=m,this.shadowRoot.appendChild(g)}let f=r.getExternalStyles?.();if(f)for(let m of f){let g=Kx(m,s);a&&g.setAttribute("nonce",a),this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,i){return super.insertBefore(this.nodeOrShadowRoot(e),n,i)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},cd=class extends ad{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,i,r,s,o,a,c,u){super(e,s,o,a,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r;let d=i.styles;this.styles=u?sR(u,d):d,this.styleUrls=i.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},ym=class extends cd{contentAttr;hostAttr;constructor(e,n,i,r,s,o,a,c,u){let d=r+"-"+i.id;super(e,n,i,s,o,a,c,u,d),this.contentAttr=qG(d),this.hostAttr=YG(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let i=super.createElement(e,n);return super.setAttribute(i,this.contentAttr,""),i}};var xm=class t extends Qu{supportsDOMEvents=!0;static makeCurrent(){Ox(new t)}onAndCancel(e,n,i,r){return e.addEventListener(n,i,r),()=>{e.removeEventListener(n,i,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=KG();return n==null?null:XG(n)}resetBaseElement(){ld=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return rd(document.cookie,e)}},ld=null;function KG(){return ld=ld||document.head.querySelector("base"),ld?ld.getAttribute("href"):null}function XG(t){return new URL(t,document.baseURI).pathname}var QG=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||t)};static \u0275prov=G({token:t,factory:t.\u0275fac})}return t})(),aR=(()=>{class t extends od{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,r,s){return n.addEventListener(i,r,s),()=>this.removeEventListener(n,i,r,s)}removeEventListener(n,i,r,s){return n.removeEventListener(i,r,s)}static \u0275fac=function(i){return new(i||t)(K(gt))};static \u0275prov=G({token:t,factory:t.\u0275fac})}return t})(),oR=["alt","control","meta","shift"],ZG={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},JG={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},cR=(()=>{class t extends od{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,i,r,s){let o=t.parseEventName(i),a=t.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ni().onAndCancel(n,o.domEventName,a,s))}static parseEventName(n){let i=n.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let s=t._normalizeKey(i.pop()),o="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),o="code."),oR.forEach(u=>{let d=i.indexOf(u);d>-1&&(i.splice(d,1),o+=u+".")}),o+=s,i.length!=0||s.length===0)return null;let c={};return c.domEventName=r,c.fullKey=o,c}static matchEventFullKeyCode(n,i){let r=ZG[n.key]||n.key,s="";return i.indexOf("code.")>-1&&(r=n.code,s="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),oR.forEach(o=>{if(o!==r){let a=JG[o];a(n)&&(s+=o+".")}}),s+=r,s===i)}static eventCallback(n,i,r){return s=>{t.matchEventFullKeyCode(s,n)&&r.runGuarded(()=>i(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(i){return new(i||t)(K(gt))};static \u0275prov=G({token:t,factory:t.\u0275fac})}return t})();function tb(t,e){return DM(U({rootComponent:t},e8(e)))}function e8(t){return{appProviders:[...s8,...t?.providers??[]],platformProviders:r8}}function t8(){xm.makeCurrent()}function n8(){return new fi}function i8(){return GF(document),document}var r8=[{provide:Xn,useValue:vm},{provide:nx,useValue:t8,multi:!0},{provide:gt,useFactory:i8}];var s8=[{provide:jp,useValue:"root"},{provide:fi,useFactory:n8},{provide:wm,useClass:aR,multi:!0,deps:[gt]},{provide:wm,useClass:cR,multi:!0,deps:[gt]},eb,Zx,Qx,{provide:dc,useExisting:eb},{provide:Lo,useClass:QG},[]];var Cc=class{},ud=class{},Es=class t{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let i=n.indexOf(":");if(i>0){let r=n.slice(0,i),s=n.slice(i+1).trim();this.addHeaderEntry(r,s)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,i)=>{this.addHeaderEntry(i,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,i])=>{this.setHeaderEntries(n,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(e.name,n);let r=(e.op==="a"?this.headers.get(n):void 0)||[];r.push(...i),this.headers.set(n,r);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}addHeaderEntry(e,n){let i=e.toLowerCase();this.maybeSetNormalizedName(e,i),this.headers.has(i)?this.headers.get(i).push(n):this.headers.set(i,[n])}setHeaderEntries(e,n){let i=(Array.isArray(n)?n:[n]).map(s=>s.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Cm=class{encodeKey(e){return lR(e)}encodeValue(e){return lR(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function o8(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{let s=r.indexOf("="),[o,a]=s==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],c=n.get(o)||[];c.push(a),n.set(o,c)}),n}var a8=/%(\d[a-f0-9])/gi,c8={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function lR(t){return encodeURIComponent(t).replace(a8,(e,n)=>c8[n]??e)}function bm(t){return`${t}`}var Lr=class t{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new Cm,e.fromString){if(e.fromObject)throw new z(2805,!1);this.map=o8(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let i=e.fromObject[n],r=Array.isArray(i)?i.map(bm):[bm(i)];this.map.set(n,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(i=>{let r=e[i];Array.isArray(r)?r.forEach(s=>{n.push({param:i,value:s,op:"a"})}):n.push({param:i,value:r,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(i=>n+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(bm(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let i=this.map.get(e.param)||[],r=i.indexOf(bm(e.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Tm=class{map=new Map;set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function l8(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function uR(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function dR(t){return typeof Blob<"u"&&t instanceof Blob}function hR(t){return typeof FormData<"u"&&t instanceof FormData}function u8(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var fR="Content-Type",pR="Accept",mR="X-Request-URL",gR="text/plain",vR="application/json",d8=`${vR}, ${gR}, */*`,bc=class t{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(e,n,i,r){this.url=n,this.method=e.toUpperCase();let s;if(l8(this.method)||r?(this.body=i!==void 0?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new Es,this.context??=new Tm,!this.params)this.params=new Lr,this.urlWithParams=n;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||uR(this.body)||dR(this.body)||hR(this.body)||u8(this.body)?this.body:this.body instanceof Lr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||hR(this.body)?null:dR(this.body)?this.body.type||null:uR(this.body)?null:typeof this.body=="string"?gR:this.body instanceof Lr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?vR:null}clone(e={}){let n=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,u=e.headers||this.headers,d=e.params||this.params,f=e.context??this.context;return e.setHeaders!==void 0&&(u=Object.keys(e.setHeaders).reduce((m,g)=>m.set(g,e.setHeaders[g]),u)),e.setParams&&(d=Object.keys(e.setParams).reduce((m,g)=>m.set(g,e.setParams[g]),d)),new t(n,i,o,{params:d,headers:u,context:f,reportProgress:c,responseType:r,withCredentials:a,transferCache:s})}},Vo=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Vo||{}),Tc=class{headers;status;statusText;url;ok;type;constructor(e,n=200,i="OK"){this.headers=e.headers||new Es,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Em=class t extends Tc{constructor(e={}){super(e)}type=Vo.ResponseHeader;clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},dd=class t extends Tc{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=Vo.Response;clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},hd=class extends Tc{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},h8=200,f8=204;function nb(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var Ec=(()=>{class t{handler;constructor(n){this.handler=n}request(n,i,r={}){let s;if(n instanceof bc)s=n;else{let c;r.headers instanceof Es?c=r.headers:c=new Es(r.headers);let u;r.params&&(r.params instanceof Lr?u=r.params:u=new Lr({fromObject:r.params})),s=new bc(n,i,r.body!==void 0?r.body:null,{headers:c,context:r.context,params:u,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let o=Z(s).pipe(Ri(c=>this.handler.handle(c)));if(n instanceof bc||r.observe==="events")return o;let a=o.pipe(kt(c=>c instanceof dd));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(de(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new z(2806,!1);return c.body}));case"blob":return a.pipe(de(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new z(2807,!1);return c.body}));case"text":return a.pipe(de(c=>{if(c.body!==null&&typeof c.body!="string")throw new z(2808,!1);return c.body}));case"json":default:return a.pipe(de(c=>c.body))}case"response":return a;default:throw new z(2809,!1)}}delete(n,i={}){return this.request("DELETE",n,i)}get(n,i={}){return this.request("GET",n,i)}head(n,i={}){return this.request("HEAD",n,i)}jsonp(n,i){return this.request("JSONP",n,{params:new Lr().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,i={}){return this.request("OPTIONS",n,i)}patch(n,i,r={}){return this.request("PATCH",n,nb(r,i))}post(n,i,r={}){return this.request("POST",n,nb(r,i))}put(n,i,r={}){return this.request("PUT",n,nb(r,i))}static \u0275fac=function(i){return new(i||t)(K(Cc))};static \u0275prov=G({token:t,factory:t.\u0275fac})}return t})();var p8=new W("");function m8(t,e){return e(t)}function g8(t,e,n){return(i,r)=>Cn(n,()=>e(i,s=>t(s,r)))}var _R=new W(""),yR=new W(""),wR=new W("",{providedIn:"root",factory:()=>!0});var Im=(()=>{class t extends Cc{backend;injector;chain=null;pendingTasks=R(_s);contributeToStability=R(wR);constructor(n,i){super(),this.backend=n,this.injector=i}handle(n){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(_R),...this.injector.get(yR,[])]));this.chain=i.reduceRight((r,s)=>g8(r,s,this.injector),m8)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(n,r=>this.backend.handle(r)).pipe(po(()=>this.pendingTasks.remove(i)))}else return this.chain(n,i=>this.backend.handle(i))}static \u0275fac=function(i){return new(i||t)(K(ud),K(Mt))};static \u0275prov=G({token:t,factory:t.\u0275fac})}return t})();var v8=/^\)\]\}',?\n/,_8=RegExp(`^${mR}:`,"m");function y8(t){return"responseURL"in t&&t.responseURL?t.responseURL:_8.test(t.getAllResponseHeaders())?t.getResponseHeader(mR):null}var ib=(()=>{class t{xhrFactory;constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new z(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?Ie(i.\u0275loadImpl()):Z(null)).pipe(Et(()=>new we(s=>{let o=i.build();if(o.open(n.method,n.urlWithParams),n.withCredentials&&(o.withCredentials=!0),n.headers.forEach((E,D)=>o.setRequestHeader(E,D.join(","))),n.headers.has(pR)||o.setRequestHeader(pR,d8),!n.headers.has(fR)){let E=n.detectContentTypeHeader();E!==null&&o.setRequestHeader(fR,E)}if(n.responseType){let E=n.responseType.toLowerCase();o.responseType=E!=="json"?E:"text"}let a=n.serializeBody(),c=null,u=()=>{if(c!==null)return c;let E=o.statusText||"OK",D=new Es(o.getAllResponseHeaders()),P=y8(o)||n.url;return c=new Em({headers:D,status:o.status,statusText:E,url:P}),c},d=()=>{let{headers:E,status:D,statusText:P,url:H}=u(),B=null;D!==f8&&(B=typeof o.response>"u"?o.responseText:o.response),D===0&&(D=B?h8:0);let Q=D>=200&&D<300;if(n.responseType==="json"&&typeof B=="string"){let J=B;B=B.replace(v8,"");try{B=B!==""?JSON.parse(B):null}catch(te){B=J,Q&&(Q=!1,B={error:te,text:B})}}Q?(s.next(new dd({body:B,headers:E,status:D,statusText:P,url:H||void 0})),s.complete()):s.error(new hd({error:B,headers:E,status:D,statusText:P,url:H||void 0}))},f=E=>{let{url:D}=u(),P=new hd({error:E,status:o.status||0,statusText:o.statusText||"Unknown Error",url:D||void 0});s.error(P)},m=!1,g=E=>{m||(s.next(u()),m=!0);let D={type:Vo.DownloadProgress,loaded:E.loaded};E.lengthComputable&&(D.total=E.total),n.responseType==="text"&&o.responseText&&(D.partialText=o.responseText),s.next(D)},w=E=>{let D={type:Vo.UploadProgress,loaded:E.loaded};E.lengthComputable&&(D.total=E.total),s.next(D)};return o.addEventListener("load",d),o.addEventListener("error",f),o.addEventListener("timeout",f),o.addEventListener("abort",f),n.reportProgress&&(o.addEventListener("progress",g),a!==null&&o.upload&&o.upload.addEventListener("progress",w)),o.send(a),s.next({type:Vo.Sent}),()=>{o.removeEventListener("error",f),o.removeEventListener("abort",f),o.removeEventListener("load",d),o.removeEventListener("timeout",f),n.reportProgress&&(o.removeEventListener("progress",g),a!==null&&o.upload&&o.upload.removeEventListener("progress",w)),o.readyState!==o.DONE&&o.abort()}})))}static \u0275fac=function(i){return new(i||t)(K(Lo))};static \u0275prov=G({token:t,factory:t.\u0275fac})}return t})(),xR=new W(""),w8="XSRF-TOKEN",x8=new W("",{providedIn:"root",factory:()=>w8}),b8="X-XSRF-TOKEN",C8=new W("",{providedIn:"root",factory:()=>b8}),fd=class{},T8=(()=>{class t{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(n,i){this.doc=n,this.cookieName=i}getToken(){let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=rd(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(i){return new(i||t)(K(gt),K(x8))};static \u0275prov=G({token:t,factory:t.\u0275fac})}return t})();function E8(t,e){let n=t.url.toLowerCase();if(!R(xR)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let i=R(fd).getToken(),r=R(C8);return i!=null&&!t.headers.has(r)&&(t=t.clone({headers:t.headers.set(r,i)})),e(t)}function rb(...t){let e=[Ec,ib,Im,{provide:Cc,useExisting:Im},{provide:ud,useFactory:()=>R(p8,{optional:!0})??R(ib)},{provide:_R,useValue:E8,multi:!0},{provide:xR,useValue:!0},{provide:fd,useClass:T8}];for(let n of t)e.push(...n.\u0275providers);return pi(e)}var bR=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(i){return new(i||t)(K(gt))};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var ge="primary",Id=Symbol("RouteTitle"),lb=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function $o(t){return new lb(t)}function FR(t,e,n){let i=n.path.split("/");if(i.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||i.length<t.length))return null;let r={};for(let s=0;s<i.length;s++){let o=i[s],a=t[s];if(o[0]===":")r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function S8(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!qi(t[n],e[n]))return!1;return!0}function qi(t,e){let n=t?ub(t):void 0,i=e?ub(e):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let s=0;s<n.length;s++)if(r=n[s],!kR(t[r],e[r]))return!1;return!0}function ub(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function kR(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),i=[...e].sort();return n.every((r,s)=>i[s]===r)}else return t===e}function MR(t){return t.length>0?t[t.length-1]:null}function Fs(t){return ay(t)?t:ys(t)?Ie(Promise.resolve(t)):Z(t)}var D8={exact:PR,subset:OR},RR={exact:A8,subset:F8,ignored:()=>!0};function CR(t,e,n){return D8[n.paths](t.root,e.root,n.matrixParams)&&RR[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function A8(t,e){return qi(t,e)}function PR(t,e,n){if(!Bo(t.segments,e.segments)||!Am(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!t.children[i]||!PR(t.children[i],e.children[i],n))return!1;return!0}function F8(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>kR(t[n],e[n]))}function OR(t,e,n){return NR(t,e,e.segments,n)}function NR(t,e,n,i){if(t.segments.length>n.length){let r=t.segments.slice(0,n.length);return!(!Bo(r,n)||e.hasChildren()||!Am(r,n,i))}else if(t.segments.length===n.length){if(!Bo(t.segments,n)||!Am(t.segments,n,i))return!1;for(let r in e.children)if(!t.children[r]||!OR(t.children[r],e.children[r],i))return!1;return!0}else{let r=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Bo(t.segments,r)||!Am(t.segments,r,i)||!t.children[ge]?!1:NR(t.children[ge],e,s,i)}}function Am(t,e,n){return e.every((i,r)=>RR[n](t[r].parameters,i.parameters))}var Ki=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Ue([],{}),n={},i=null){this.root=e,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap??=$o(this.queryParams),this._queryParamMap}toString(){return R8.serialize(this)}},Ue=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Fm(this)}},Is=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=$o(this.parameters),this._parameterMap}toString(){return UR(this)}};function k8(t,e){return Bo(t,e)&&t.every((n,i)=>qi(n.parameters,e[i].parameters))}function Bo(t,e){return t.length!==e.length?!1:t.every((n,i)=>n.path===e[i].path)}function M8(t,e){let n=[];return Object.entries(t.children).forEach(([i,r])=>{i===ge&&(n=n.concat(e(r,i)))}),Object.entries(t.children).forEach(([i,r])=>{i!==ge&&(n=n.concat(e(r,i)))}),n}var Ho=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275prov=G({token:t,factory:()=>new Ss,providedIn:"root"})}return t})(),Ss=class{parse(e){let n=new hb(e);return new Ki(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${pd(e.root,!0)}`,i=N8(e.queryParams),r=typeof e.fragment=="string"?`#${P8(e.fragment)}`:"";return`${n}${i}${r}`}},R8=new Ss;function Fm(t){return t.segments.map(e=>UR(e)).join("/")}function pd(t,e){if(!t.hasChildren())return Fm(t);if(e){let n=t.children[ge]?pd(t.children[ge],!1):"",i=[];return Object.entries(t.children).forEach(([r,s])=>{r!==ge&&i.push(`${r}:${pd(s,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}else{let n=M8(t,(i,r)=>r===ge?[pd(t.children[ge],!1)]:[`${r}:${pd(i,!1)}`]);return Object.keys(t.children).length===1&&t.children[ge]!=null?`${Fm(t)}/${n[0]}`:`${Fm(t)}/(${n.join("//")})`}}function LR(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Sm(t){return LR(t).replace(/%3B/gi,";")}function P8(t){return encodeURI(t)}function db(t){return LR(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function km(t){return decodeURIComponent(t)}function TR(t){return km(t.replace(/\+/g,"%20"))}function UR(t){return`${db(t.path)}${O8(t.parameters)}`}function O8(t){return Object.entries(t).map(([e,n])=>`;${db(e)}=${db(n)}`).join("")}function N8(t){let e=Object.entries(t).map(([n,i])=>Array.isArray(i)?i.map(r=>`${Sm(n)}=${Sm(r)}`).join("&"):`${Sm(n)}=${Sm(i)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var L8=/^[^\/()?;#]+/;function sb(t){let e=t.match(L8);return e?e[0]:""}var U8=/^[^\/()?;=#]+/;function V8(t){let e=t.match(U8);return e?e[0]:""}var B8=/^[^=?&#]+/;function j8(t){let e=t.match(B8);return e?e[0]:""}var $8=/^[^&#]+/;function H8(t){let e=t.match($8);return e?e[0]:""}var hb=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ue([],{}):new Ue([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(i[ge]=new Ue(e,n)),i}parseSegment(){let e=sb(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new z(4009,!1);return this.capture(e),new Is(km(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=V8(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let r=sb(this.remaining);r&&(i=r,this.capture(i))}e[km(n)]=km(i)}parseQueryParam(e){let n=j8(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let o=H8(this.remaining);o&&(i=o,this.capture(i))}let r=TR(n),s=TR(i);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=sb(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new z(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ge);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[ge]:new Ue([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new z(4011,!1)}};function VR(t){return t.segments.length>0?new Ue([],{[ge]:t}):t}function BR(t){let e={};for(let[i,r]of Object.entries(t.children)){let s=BR(r);if(i===ge&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[i]=s)}let n=new Ue(t.segments,e);return G8(n)}function G8(t){if(t.numberOfChildren===1&&t.children[ge]){let e=t.children[ge];return new Ue(t.segments.concat(e.segments),e.children)}return t}function Ds(t){return t instanceof Ki}function jR(t,e,n=null,i=null){let r=$R(t);return HR(r,e,n,i)}function $R(t){let e;function n(s){let o={};for(let c of s.children){let u=n(c);o[c.outlet]=u}let a=new Ue(s.url,o);return s===t&&(e=a),a}let i=n(t.root),r=VR(i);return e??r}function HR(t,e,n,i){let r=t;for(;r.parent;)r=r.parent;if(e.length===0)return ob(r,r,r,n,i);let s=z8(e);if(s.toRoot())return ob(r,r,new Ue([],{}),n,i);let o=W8(s,r,t),a=o.processChildren?gd(o.segmentGroup,o.index,s.commands):zR(o.segmentGroup,o.index,s.commands);return ob(r,o.segmentGroup,a,n,i)}function Rm(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function _d(t){return typeof t=="object"&&t!=null&&t.outlets}function ob(t,e,n,i,r){let s={};i&&Object.entries(i).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(d=>`${d}`):`${u}`});let o;t===e?o=n:o=GR(t,e,n);let a=VR(BR(o));return new Ki(a,s,r)}function GR(t,e,n){let i={};return Object.entries(t.children).forEach(([r,s])=>{s===e?i[r]=n:i[r]=GR(s,e,n)}),new Ue(t.segments,i)}var Pm=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,i){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=i,e&&i.length>0&&Rm(i[0]))throw new z(4003,!1);let r=i.find(_d);if(r&&r!==MR(i))throw new z(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function z8(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Pm(!0,0,t);let e=0,n=!1,i=t.reduce((r,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return typeof s!="string"?[...r,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,s]},[]);return new Pm(n,e,i)}var Dc=class{segmentGroup;processChildren;index;constructor(e,n,i){this.segmentGroup=e,this.processChildren=n,this.index=i}};function W8(t,e,n){if(t.isAbsolute)return new Dc(e,!0,0);if(!n)return new Dc(e,!1,NaN);if(n.parent===null)return new Dc(n,!0,0);let i=Rm(t.commands[0])?0:1,r=n.segments.length-1+i;return q8(n,r,t.numberOfDoubleDots)}function q8(t,e,n){let i=t,r=e,s=n;for(;s>r;){if(s-=r,i=i.parent,!i)throw new z(4005,!1);r=i.segments.length}return new Dc(i,!1,r-s)}function Y8(t){return _d(t[0])?t[0].outlets:{[ge]:t}}function zR(t,e,n){if(t??=new Ue([],{}),t.segments.length===0&&t.hasChildren())return gd(t,e,n);let i=K8(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){let s=new Ue(t.segments.slice(0,i.pathIndex),{});return s.children[ge]=new Ue(t.segments.slice(i.pathIndex),t.children),gd(s,0,r)}else return i.match&&r.length===0?new Ue(t.segments,{}):i.match&&!t.hasChildren()?fb(t,e,n):i.match?gd(t,0,r):fb(t,e,n)}function gd(t,e,n){if(n.length===0)return new Ue(t.segments,{});{let i=Y8(n),r={};if(Object.keys(i).some(s=>s!==ge)&&t.children[ge]&&t.numberOfChildren===1&&t.children[ge].segments.length===0){let s=gd(t.children[ge],e,n);return new Ue(t.segments,s.children)}return Object.entries(i).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(r[s]=zR(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{i[s]===void 0&&(r[s]=o)}),new Ue(t.segments,r)}}function K8(t,e,n){let i=0,r=e,s={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return s;let o=t.segments[r],a=n[i];if(_d(a))break;let c=`${a}`,u=i<n.length-1?n[i+1]:null;if(r>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!IR(c,u,o))return s;i+=2}else{if(!IR(c,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function fb(t,e,n){let i=t.segments.slice(0,e),r=0;for(;r<n.length;){let s=n[r];if(_d(s)){let c=X8(s.outlets);return new Ue(i,c)}if(r===0&&Rm(n[0])){let c=t.segments[e];i.push(new Is(c.path,ER(n[0]))),r++;continue}let o=_d(s)?s.outlets[ge]:`${s}`,a=r<n.length-1?n[r+1]:null;o&&a&&Rm(a)?(i.push(new Is(o,ER(a))),r+=2):(i.push(new Is(o,{})),r++)}return new Ue(i,{})}function X8(t){let e={};return Object.entries(t).forEach(([n,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[n]=fb(new Ue([],{}),0,i))}),e}function ER(t){let e={};return Object.entries(t).forEach(([n,i])=>e[n]=`${i}`),e}function IR(t,e,n){return t==n.path&&qi(e,n.parameters)}var Mm="imperative",St=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(St||{}),Vn=class{id;url;constructor(e,n){this.id=e,this.url=n}},As=class extends Vn{type=St.NavigationStart;navigationTrigger;restoredState;constructor(e,n,i="imperative",r=null){super(e,n),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Bn=class extends Vn{urlAfterRedirects;type=St.NavigationEnd;constructor(e,n,i){super(e,n),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Sn=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Sn||{}),Fc=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Fc||{}),Yi=class extends Vn{reason;code;type=St.NavigationCancel;constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Xi=class extends Vn{reason;code;type=St.NavigationSkipped;constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r}},kc=class extends Vn{error;target;type=St.NavigationError;constructor(e,n,i,r){super(e,n),this.error=i,this.target=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},yd=class extends Vn{urlAfterRedirects;state;type=St.RoutesRecognized;constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Om=class extends Vn{urlAfterRedirects;state;type=St.GuardsCheckStart;constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Nm=class extends Vn{urlAfterRedirects;state;shouldActivate;type=St.GuardsCheckEnd;constructor(e,n,i,r,s){super(e,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Lm=class extends Vn{urlAfterRedirects;state;type=St.ResolveStart;constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Um=class extends Vn{urlAfterRedirects;state;type=St.ResolveEnd;constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Vm=class{route;type=St.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Bm=class{route;type=St.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},jm=class{snapshot;type=St.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},$m=class{snapshot;type=St.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Hm=class{snapshot;type=St.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Gm=class{snapshot;type=St.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Mc=class{routerEvent;position;anchor;type=St.Scroll;constructor(e,n,i){this.routerEvent=e,this.position=n,this.anchor=i}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},wd=class{},Rc=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function Q8(t,e){return t.providers&&!t._injector&&(t._injector=Wu(t.providers,e,`Route: ${t.path}`)),t._injector??e}function wi(t){return t.outlet||ge}function Z8(t,e){let n=t.filter(i=>wi(i)===e);return n.push(...t.filter(i=>wi(i)!==e)),n}function Sd(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var zm=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Sd(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Go(this.rootInjector)}},Go=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,i){let r=this.getOrCreateContext(n);r.outlet=i,this.contexts.set(n,r)}onChildOutletDestroyed(n){let i=this.getContext(n);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let i=this.getContext(n);return i||(i=new zm(this.rootInjector),this.contexts.set(n,i)),i}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(i){return new(i||t)(K(Mt))};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Wm=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=pb(e,this._root);return n?n.children.map(i=>i.value):[]}firstChild(e){let n=pb(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=mb(e,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return mb(e,this._root).map(n=>n.value)}};function pb(t,e){if(t===e.value)return e;for(let n of e.children){let i=pb(t,n);if(i)return i}return null}function mb(t,e){if(t===e.value)return[e];for(let n of e.children){let i=mb(t,n);if(i.length)return i.unshift(e),i}return[]}var Un=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Sc(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var xd=class extends Wm{snapshot;constructor(e,n){super(e),this.snapshot=n,Cb(this,e)}toString(){return this.snapshot.toString()}};function WR(t){let e=J8(t),n=new Tt([new Is("",{})]),i=new Tt({}),r=new Tt({}),s=new Tt({}),o=new Tt(""),a=new Dn(n,i,s,o,r,ge,t,e.root);return a.snapshot=e.root,new xd(new Un(a,[]),e)}function J8(t){let e={},n={},i={},r="",s=new jo([],e,i,r,n,ge,t,null,{});return new bd("",new Un(s,[]))}var Dn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,i,r,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(de(u=>u[Id]))??Z(void 0),this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(de(e=>$o(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(de(e=>$o(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function qm(t,e,n="emptyOnly"){let i,{routeConfig:r}=t;return e!==null&&(n==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:U(U({},e.params),t.params),data:U(U({},e.data),t.data),resolve:U(U(U(U({},t.data),e.data),r?.data),t._resolvedData)}:i={params:U({},t.params),data:U({},t.data),resolve:U(U({},t.data),t._resolvedData??{})},r&&YR(r)&&(i.resolve[Id]=r.title),i}var jo=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Id]}constructor(e,n,i,r,s,o,a,c,u){this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=$o(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=$o(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},bd=class extends Wm{url;constructor(e,n){super(n),this.url=e,Cb(this,n)}toString(){return qR(this._root)}};function Cb(t,e){e.value._routerState=t,e.children.forEach(n=>Cb(t,n))}function qR(t){let e=t.children.length>0?` { ${t.children.map(qR).join(", ")} } `:"";return`${t.value}${e}`}function ab(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,qi(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),qi(e.params,n.params)||t.paramsSubject.next(n.params),S8(e.url,n.url)||t.urlSubject.next(n.url),qi(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function gb(t,e){let n=qi(t.params,e.params)&&k8(t.url,e.url),i=!t.parent!=!e.parent;return n&&!i&&(!t.parent||gb(t.parent,e.parent))}function YR(t){return typeof t.title=="string"||t.title===null}var KR=new W(""),zo=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ge;activateEvents=new re;deactivateEvents=new re;attachEvents=new re;detachEvents=new re;routerOutletData=Mo(void 0);parentContexts=R(Go);location=R(Qn);changeDetector=R(ti);inputBinder=R(Dd,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:i,previousValue:r}=n.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new z(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new z(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new z(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,i){this.activated=n,this._activatedRoute=i,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,i){if(this.isActivated)throw new z(4013,!1);this._activatedRoute=n;let r=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new vb(n,a,r.injector,this.routerOutletData);this.activated=r.createComponent(o,{index:r.length,injector:c,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(i){return new(i||t)};static \u0275dir=Ne({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[ut]})}return t})(),vb=class{route;childContexts;parent;outletData;constructor(e,n,i,r){this.route=e,this.childContexts=n,this.parent=i,this.outletData=r}get(e,n){return e===Dn?this.route:e===Go?this.childContexts:e===KR?this.outletData:this.parent.get(e,n)}},Dd=new W(""),Tb=(()=>{class t{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:i}=n,r=bu([i.queryParams,i.params,i.data]).pipe(Et(([s,o,a],c)=>(a=U(U(U({},s),o),a),c===0?Z(a):Promise.resolve(a)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(n);return}let o=kM(i.component);if(!o){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of o.inputs)n.activatedComponentRef.setInput(a,s[a])});this.outletDataSubscriptions.set(n,r)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=G({token:t,factory:t.\u0275fac})}return t})(),Eb=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275cmp=Me({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(i,r){i&1&&Te(0,"router-outlet")},dependencies:[zo],encapsulation:2})}return t})();function Ib(t){let e=t.children&&t.children.map(Ib),n=e?se(U({},t),{children:e}):U({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ge&&(n.component=Eb),n}function ez(t,e,n){let i=Cd(t,e._root,n?n._root:void 0);return new xd(i,e)}function Cd(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let i=n.value;i._futureSnapshot=e.value;let r=tz(t,e,n);return new Un(i,r)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Cd(t,a)),o}}let i=nz(e.value),r=e.children.map(s=>Cd(t,s));return new Un(i,r)}}function tz(t,e,n){return e.children.map(i=>{for(let r of n.children)if(t.shouldReuseRoute(i.value,r.value.snapshot))return Cd(t,i,r);return Cd(t,i)})}function nz(t){return new Dn(new Tt(t.url),new Tt(t.params),new Tt(t.queryParams),new Tt(t.fragment),new Tt(t.data),t.outlet,t.component,t)}var Pc=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},XR="ngNavigationCancelingError";function Ym(t,e){let{redirectTo:n,navigationBehaviorOptions:i}=Ds(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=QR(!1,Sn.Redirect);return r.url=n,r.navigationBehaviorOptions=i,r}function QR(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[XR]=!0,n.cancellationCode=e,n}function iz(t){return ZR(t)&&Ds(t.url)}function ZR(t){return!!t&&t[XR]}var rz=(t,e,n,i)=>de(r=>(new _b(e,r.targetRouterState,r.currentRouterState,n,i).activate(t),r)),_b=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,i,r,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,e),ab(this.futureState.root),this.activateChildRoutes(n,i,e)}deactivateChildRoutes(e,n,i){let r=Sc(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,n,i){let r=e.value,s=n?n.value:null;if(r===s)if(r.component){let o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,i);else s&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,s=Sc(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);if(i&&i.outlet){let o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,s=Sc(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,n,i){let r=Sc(n);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new Gm(s.value.snapshot))}),e.children.length&&this.forwardEvent(new $m(e.value.snapshot))}activateRoutes(e,n,i){let r=e.value,s=n?n.value:null;if(ab(r),r===s)if(r.component){let o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,i);else if(r.component){let o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),ab(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=r,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,i)}},Km=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ac=class{component;route;constructor(e,n){this.component=e,this.route=n}};function sz(t,e,n){let i=t._root,r=e?e._root:null;return md(i,r,n,[i.value])}function oz(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Nc(t,e){let n=Symbol(),i=e.get(t,n);return i===n?typeof t=="function"&&!DA(t)?t:e.get(t):i}function md(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=Sc(e);return t.children.forEach(o=>{az(o,s[o.value.outlet],n,i.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>vd(a,n.getContext(o),r)),r}function az(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=cz(o,s,s.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new Km(i)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?md(t,e,a?a.children:null,i,r):md(t,e,n,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Ac(a.outlet.component,o))}else o&&vd(e,a,r),r.canActivateChecks.push(new Km(i)),s.component?md(t,null,a?a.children:null,i,r):md(t,null,n,i,r);return r}function cz(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Bo(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Bo(t.url,e.url)||!qi(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!gb(t,e)||!qi(t.queryParams,e.queryParams);case"paramsChange":default:return!gb(t,e)}}function vd(t,e,n){let i=Sc(t),r=t.value;Object.entries(i).forEach(([s,o])=>{r.component?e?vd(o,e.children.getContext(s),n):vd(o,null,n):vd(o,e,n)}),r.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Ac(e.outlet.component,r)):n.canDeactivateChecks.push(new Ac(null,r)):n.canDeactivateChecks.push(new Ac(null,r))}function Ad(t){return typeof t=="function"}function lz(t){return typeof t=="boolean"}function uz(t){return t&&Ad(t.canLoad)}function dz(t){return t&&Ad(t.canActivate)}function hz(t){return t&&Ad(t.canActivateChild)}function fz(t){return t&&Ad(t.canDeactivate)}function pz(t){return t&&Ad(t.canMatch)}function JR(t){return t instanceof vr||t?.name==="EmptyError"}var Dm=Symbol("INITIAL_VALUE");function Oc(){return Et(t=>bu(t.map(e=>e.pipe(yr(1),dy(Dm)))).pipe(de(e=>{for(let n of e)if(n!==!0){if(n===Dm)return Dm;if(n===!1||mz(n))return n}return!0}),kt(e=>e!==Dm),yr(1)))}function mz(t){return Ds(t)||t instanceof Pc}function gz(t,e){return it(n=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?Z(se(U({},n),{guardsResult:!0})):vz(o,i,r,t).pipe(it(a=>a&&lz(a)?_z(i,s,t,e):Z(a)),de(a=>se(U({},n),{guardsResult:a})))})}function vz(t,e,n,i){return Ie(t).pipe(it(r=>Cz(r.component,r.route,n,e,i)),wr(r=>r!==!0,!0))}function _z(t,e,n,i){return Ie(e).pipe(Ri(r=>Xa(wz(r.route.parent,i),yz(r.route,i),bz(t,r.path,n),xz(t,r.route,n))),wr(r=>r!==!0,!0))}function yz(t,e){return t!==null&&e&&e(new Hm(t)),Z(!0)}function wz(t,e){return t!==null&&e&&e(new jm(t)),Z(!0)}function xz(t,e,n){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return Z(!0);let r=i.map(s=>Zf(()=>{let o=Sd(e)??n,a=Nc(s,o),c=dz(a)?a.canActivate(e,t):Cn(o,()=>a(e,t));return Fs(c).pipe(wr())}));return Z(r).pipe(Oc())}function bz(t,e,n){let i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>oz(o)).filter(o=>o!==null).map(o=>Zf(()=>{let a=o.guards.map(c=>{let u=Sd(o.node)??n,d=Nc(c,u),f=hz(d)?d.canActivateChild(i,t):Cn(u,()=>d(i,t));return Fs(f).pipe(wr())});return Z(a).pipe(Oc())}));return Z(s).pipe(Oc())}function Cz(t,e,n,i,r){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return Z(!0);let o=s.map(a=>{let c=Sd(e)??r,u=Nc(a,c),d=fz(u)?u.canDeactivate(t,e,n,i):Cn(c,()=>u(t,e,n,i));return Fs(d).pipe(wr())});return Z(o).pipe(Oc())}function Tz(t,e,n,i){let r=e.canLoad;if(r===void 0||r.length===0)return Z(!0);let s=r.map(o=>{let a=Nc(o,t),c=uz(a)?a.canLoad(e,n):Cn(t,()=>a(e,n));return Fs(c)});return Z(s).pipe(Oc(),e2(i))}function e2(t){return iy(Vt(e=>{if(typeof e!="boolean")throw Ym(t,e)}),de(e=>e===!0))}function Ez(t,e,n,i){let r=e.canMatch;if(!r||r.length===0)return Z(!0);let s=r.map(o=>{let a=Nc(o,t),c=pz(a)?a.canMatch(e,n):Cn(t,()=>a(e,n));return Fs(c)});return Z(s).pipe(Oc(),e2(i))}var Td=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Ed=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Ic(t){return Ya(new Td(t))}function Iz(t){return Ya(new z(4e3,!1))}function Sz(t){return Ya(QR(!1,Sn.GuardRejected))}var yb=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return Z(i);if(r.numberOfChildren>1||!r.children[ge])return Iz(`${e.redirectTo}`);r=r.children[ge]}}applyRedirectCommands(e,n,i,r,s){if(typeof n!="string"){let a=n,{queryParams:c,fragment:u,routeConfig:d,url:f,outlet:m,params:g,data:w,title:E}=r,D=Cn(s,()=>a({params:g,data:w,queryParams:c,fragment:u,routeConfig:d,url:f,outlet:m,title:E}));if(D instanceof Ki)throw new Ed(D);n=D}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,i);if(n[0]==="/")throw new Ed(o);return o}applyRedirectCreateUrlTree(e,n,i,r){let s=this.createSegmentGroup(e,n.root,i,r);return new Ki(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let i={};return Object.entries(e).forEach(([r,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);i[r]=n[a]}else i[r]=s}),i}createSegmentGroup(e,n,i,r){let s=this.createSegments(e,n.segments,i,r),o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,i,r)}),new Ue(s,o)}createSegments(e,n,i,r){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,n,i){let r=i[n.path.substring(1)];if(!r)throw new z(4001,!1);return r}findOrReturn(e,n){let i=0;for(let r of n){if(r.path===e.path)return n.splice(i),r;i++}return e}},wb={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Dz(t,e,n,i,r){let s=t2(t,e,n);return s.matched?(i=Q8(e,i),Ez(i,e,n,r).pipe(de(o=>o===!0?s:U({},wb)))):Z(s)}function t2(t,e,n){if(e.path==="**")return Az(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?U({},wb):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let r=(e.matcher||FR)(n,t,e);if(!r)return U({},wb);let s={};Object.entries(r.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=r.consumed.length>0?U(U({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function Az(t){return{matched:!0,parameters:t.length>0?MR(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function SR(t,e,n,i){return n.length>0&&Mz(t,n,i)?{segmentGroup:new Ue(e,kz(i,new Ue(n,t.children))),slicedSegments:[]}:n.length===0&&Rz(t,n,i)?{segmentGroup:new Ue(t.segments,Fz(t,n,i,t.children)),slicedSegments:n}:{segmentGroup:new Ue(t.segments,t.children),slicedSegments:n}}function Fz(t,e,n,i){let r={};for(let s of n)if(Qm(t,e,s)&&!i[wi(s)]){let o=new Ue([],{});r[wi(s)]=o}return U(U({},i),r)}function kz(t,e){let n={};n[ge]=e;for(let i of t)if(i.path===""&&wi(i)!==ge){let r=new Ue([],{});n[wi(i)]=r}return n}function Mz(t,e,n){return n.some(i=>Qm(t,e,i)&&wi(i)!==ge)}function Rz(t,e,n){return n.some(i=>Qm(t,e,i))}function Qm(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function Pz(t,e,n){return e.length===0&&!t.children[n]}var xb=class{};function Oz(t,e,n,i,r,s,o="emptyOnly"){return new bb(t,e,n,i,r,o,s).recognize()}var Nz=31,bb=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,i,r,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new yb(this.urlSerializer,this.urlTree)}noMatchError(e){return new z(4002,`'${e.segmentGroup}'`)}recognize(){let e=SR(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(de(({children:n,rootSnapshot:i})=>{let r=new Un(i,n),s=new bd("",r),o=jR(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new jo([],Object.freeze({}),Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ge,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ge,n).pipe(de(i=>({children:i,rootSnapshot:n})),_r(i=>{if(i instanceof Ed)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Td?this.noMatchError(i):i}))}processSegmentGroup(e,n,i,r,s){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,n,i,s):this.processSegment(e,n,i,i.segments,r,!0,s).pipe(de(o=>o instanceof Un?[o]:[]))}processChildren(e,n,i,r){let s=[];for(let o of Object.keys(i.children))o==="primary"?s.unshift(o):s.push(o);return Ie(s).pipe(Ri(o=>{let a=i.children[o],c=Z8(n,o);return this.processSegmentGroup(e,c,a,o,r)}),uy((o,a)=>(o.push(...a),o)),hs(null),ly(),it(o=>{if(o===null)return Ic(i);let a=n2(o);return Lz(a),Z(a)}))}processSegment(e,n,i,r,s,o,a){return Ie(n).pipe(Ri(c=>this.processSegmentAgainstRoute(c._injector??e,n,c,i,r,s,o,a).pipe(_r(u=>{if(u instanceof Td)return Z(null);throw u}))),wr(c=>!!c),_r(c=>{if(JR(c))return Pz(i,r,s)?Z(new xb):Ic(i);throw c}))}processSegmentAgainstRoute(e,n,i,r,s,o,a,c){return wi(i)!==o&&(o===ge||!Qm(r,s,i))?Ic(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,s,o,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,n,i,s,o,c):Ic(r)}expandSegmentAgainstRouteUsingRedirect(e,n,i,r,s,o,a){let{matched:c,parameters:u,consumedSegments:d,positionalParamSegments:f,remainingSegments:m}=t2(n,r,s);if(!c)return Ic(n);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Nz&&(this.allowRedirects=!1));let g=new jo(s,u,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,DR(r),wi(r),r.component??r._loadedComponent??null,r,AR(r)),w=qm(g,a,this.paramsInheritanceStrategy);g.params=Object.freeze(w.params),g.data=Object.freeze(w.data);let E=this.applyRedirects.applyRedirectCommands(d,r.redirectTo,f,g,e);return this.applyRedirects.lineralizeSegments(r,E).pipe(it(D=>this.processSegment(e,i,n,D.concat(m),o,!1,a)))}matchSegmentAgainstRoute(e,n,i,r,s,o){let a=Dz(n,i,r,e,this.urlSerializer);return i.path==="**"&&(n.children={}),a.pipe(Et(c=>c.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(Et(({routes:u})=>{let d=i._loadedInjector??e,{parameters:f,consumedSegments:m,remainingSegments:g}=c,w=new jo(m,f,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,DR(i),wi(i),i.component??i._loadedComponent??null,i,AR(i)),E=qm(w,o,this.paramsInheritanceStrategy);w.params=Object.freeze(E.params),w.data=Object.freeze(E.data);let{segmentGroup:D,slicedSegments:P}=SR(n,m,g,u);if(P.length===0&&D.hasChildren())return this.processChildren(d,u,D,w).pipe(de(B=>new Un(w,B)));if(u.length===0&&P.length===0)return Z(new Un(w,[]));let H=wi(i)===s;return this.processSegment(d,u,D,P,H?ge:s,!0,w).pipe(de(B=>new Un(w,B instanceof Un?[B]:[])))}))):Ic(n)))}getChildConfig(e,n,i){return n.children?Z({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?Z({routes:n._loadedRoutes,injector:n._loadedInjector}):Tz(e,n,i,this.urlSerializer).pipe(it(r=>r?this.configLoader.loadChildren(e,n).pipe(Vt(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):Sz(n))):Z({routes:[],injector:e})}};function Lz(t){t.sort((e,n)=>e.value.outlet===ge?-1:n.value.outlet===ge?1:e.value.outlet.localeCompare(n.value.outlet))}function Uz(t){let e=t.value.routeConfig;return e&&e.path===""}function n2(t){let e=[],n=new Set;for(let i of t){if(!Uz(i)){e.push(i);continue}let r=e.find(s=>i.value.routeConfig===s.value.routeConfig);r!==void 0?(r.children.push(...i.children),n.add(r)):e.push(i)}for(let i of n){let r=n2(i.children);e.push(new Un(i.value,r))}return e.filter(i=>!n.has(i))}function DR(t){return t.data||{}}function AR(t){return t.resolve||{}}function Vz(t,e,n,i,r,s){return it(o=>Oz(t,e,n,i,o.extractedUrl,r,s).pipe(de(({state:a,tree:c})=>se(U({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function Bz(t,e){return it(n=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return Z(n);let s=new Set(r.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let u of i2(c))o.add(u);let a=0;return Ie(o).pipe(Ri(c=>s.has(c)?jz(c,i,t,e):(c.data=qm(c,c.parent,t).resolve,Z(void 0))),Vt(()=>a++),Qa(1),it(c=>a===o.size?Z(n):vn))})}function i2(t){let e=t.children.map(n=>i2(n)).flat();return[t,...e]}function jz(t,e,n,i){let r=t.routeConfig,s=t._resolve;return r?.title!==void 0&&!YR(r)&&(s[Id]=r.title),$z(s,t,e,i).pipe(de(o=>(t._resolvedData=o,t.data=qm(t,t.parent,n).resolve,null)))}function $z(t,e,n,i){let r=ub(t);if(r.length===0)return Z({});let s={};return Ie(r).pipe(it(o=>Hz(t[o],e,n,i).pipe(wr(),Vt(a=>{if(a instanceof Pc)throw Ym(new Ss,a);s[o]=a}))),Qa(1),de(()=>s),_r(o=>JR(o)?vn:Ya(o)))}function Hz(t,e,n,i){let r=Sd(e)??i,s=Nc(t,r),o=s.resolve?s.resolve(e,n):Cn(r,()=>s(e,n));return Fs(o)}function cb(t){return Et(e=>{let n=t(e);return n?Ie(n).pipe(de(()=>e)):Z(e)})}var Sb=(()=>{class t{buildTitle(n){let i,r=n.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===ge);return i}getResolvedTitleForRoute(n){return n.data[Id]}static \u0275fac=function(i){return new(i||t)};static \u0275prov=G({token:t,factory:()=>R(r2),providedIn:"root"})}return t})(),r2=(()=>{class t extends Sb{title;constructor(n){super(),this.title=n}updateTitle(n){let i=this.buildTitle(n);i!==void 0&&this.title.setTitle(i)}static \u0275fac=function(i){return new(i||t)(K(bR))};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Wo=new W("",{providedIn:"root",factory:()=>({})}),qo=new W(""),Zm=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=R(SM);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Z(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let i=Fs(n.loadComponent()).pipe(de(o2),Vt(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),po(()=>{this.componentLoaders.delete(n)})),r=new Ga(i,()=>new nt).pipe(Ha());return this.componentLoaders.set(n,r),r}loadChildren(n,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Z({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=s2(i,this.compiler,n,this.onLoadEndListener).pipe(po(()=>{this.childrenLoaders.delete(i)})),o=new Ga(s,()=>new nt).pipe(Ha());return this.childrenLoaders.set(i,o),o}static \u0275fac=function(i){return new(i||t)};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function s2(t,e,n,i){return Fs(t.loadChildren()).pipe(de(o2),it(r=>r instanceof Ex||Array.isArray(r)?Z(r):Ie(e.compileModuleAsync(r))),de(r=>{i&&i(t);let s,o,a=!1;return Array.isArray(r)?(o=r,a=!0):(s=r.create(n).injector,o=s.get(qo,[],{optional:!0,self:!0}).flat()),{routes:o.map(Ib),injector:s}}))}function Gz(t){return t&&typeof t=="object"&&"default"in t}function o2(t){return Gz(t)?t.default:t}var Jm=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275prov=G({token:t,factory:()=>R(zz),providedIn:"root"})}return t})(),zz=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,i){return n}static \u0275fac=function(i){return new(i||t)};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Db=new W(""),Ab=new W("");function a2(t,e,n){let i=t.get(Ab),r=t.get(gt);return t.get(Oe).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(u=>setTimeout(u));let s,o=new Promise(u=>{s=u}),a=r.startViewTransition(()=>(s(),Wz(t))),{onViewTransitionCreated:c}=i;return c&&Cn(t,()=>c({transition:a,from:e,to:n})),o})}function Wz(t){return new Promise(e=>{ox({read:()=>setTimeout(e)},{injector:t})})}var Fb=new W(""),eg=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new nt;transitionAbortSubject=new nt;configLoader=R(Zm);environmentInjector=R(Mt);destroyRef=R(Hi);urlSerializer=R(Ho);rootContexts=R(Go);location=R(bs);inputBindingEnabled=R(Dd,{optional:!0})!==null;titleStrategy=R(Sb);options=R(Wo,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=R(Jm);createViewTransition=R(Db,{optional:!0});navigationErrorHandler=R(Fb,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Z(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=r=>this.events.next(new Vm(r)),i=r=>this.events.next(new Bm(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let i=++this.navigationId;this.transitions?.next(se(U({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:i}))}setupNavigations(n){return this.transitions=new Tt(null),this.transitions.pipe(kt(i=>i!==null),Et(i=>{let r=!1,s=!1;return Z(i).pipe(Et(o=>{if(this.navigationId>i.id)return this.cancelNavigationTransition(i,"",Sn.SupersededByNewNavigation),vn;this.currentTransition=i,this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?se(U({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),c=o.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!a&&c!=="reload"){let u="";return this.events.next(new Xi(o.id,this.urlSerializer.serialize(o.rawUrl),u,Fc.IgnoredSameUrlNavigation)),o.resolve(!1),vn}if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return Z(o).pipe(Et(u=>(this.events.next(new As(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?vn:Promise.resolve(u))),Vz(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Vt(u=>{i.targetSnapshot=u.targetSnapshot,i.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation=se(U({},this.currentNavigation),{finalUrl:u.urlAfterRedirects});let d=new yd(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:u,extractedUrl:d,source:f,restoredState:m,extras:g}=o,w=new As(u,this.urlSerializer.serialize(d),f,m);this.events.next(w);let E=WR(this.rootComponentType).snapshot;return this.currentTransition=i=se(U({},o),{targetSnapshot:E,urlAfterRedirects:d,extras:se(U({},g),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=d,Z(i)}else{let u="";return this.events.next(new Xi(o.id,this.urlSerializer.serialize(o.extractedUrl),u,Fc.IgnoredByUrlHandlingStrategy)),o.resolve(!1),vn}}),Vt(o=>{let a=new Om(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),de(o=>(this.currentTransition=i=se(U({},o),{guards:sz(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),i)),gz(this.environmentInjector,o=>this.events.next(o)),Vt(o=>{if(i.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw Ym(this.urlSerializer,o.guardsResult);let a=new Nm(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),kt(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",Sn.GuardRejected),!1)),cb(o=>{if(o.guards.canActivateChecks.length!==0)return Z(o).pipe(Vt(a=>{let c=new Lm(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),Et(a=>{let c=!1;return Z(a).pipe(Bz(this.paramsInheritanceStrategy,this.environmentInjector),Vt({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(a,"",Sn.NoDataFromResolver)}}))}),Vt(a=>{let c=new Um(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),cb(o=>{let a=c=>{let u=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(c.routeConfig).pipe(Vt(d=>{c.component=d}),de(()=>{})));for(let d of c.children)u.push(...a(d));return u};return bu(a(o.targetSnapshot.root)).pipe(hs(null),yr(1))}),cb(()=>this.afterPreactivation()),Et(()=>{let{currentSnapshot:o,targetSnapshot:a}=i,c=this.createViewTransition?.(this.environmentInjector,o.root,a.root);return c?Ie(c).pipe(de(()=>i)):Z(i)}),de(o=>{let a=ez(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=i=se(U({},o),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,i}),Vt(()=>{this.events.next(new wd)}),rz(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),yr(1),Vt({next:o=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Bn(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{r=!0}}),hy(this.transitionAbortSubject.pipe(Vt(o=>{throw o}))),po(()=>{!r&&!s&&this.cancelNavigationTransition(i,"",Sn.SupersededByNewNavigation),this.currentTransition?.id===i.id&&(this.currentNavigation=null,this.currentTransition=null)}),_r(o=>{if(this.destroyed)return i.resolve(!1),vn;if(s=!0,ZR(o))this.events.next(new Yi(i.id,this.urlSerializer.serialize(i.extractedUrl),o.message,o.cancellationCode)),iz(o)?this.events.next(new Rc(o.url,o.navigationBehaviorOptions)):i.resolve(!1);else{let a=new kc(i.id,this.urlSerializer.serialize(i.extractedUrl),o,i.targetSnapshot??void 0);try{let c=Cn(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(c instanceof Pc){let{message:u,cancellationCode:d}=Ym(this.urlSerializer,c);this.events.next(new Yi(i.id,this.urlSerializer.serialize(i.extractedUrl),u,d)),this.events.next(new Rc(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(a),o}catch(c){this.options.resolveNavigationPromiseOnError?i.resolve(!1):i.reject(c)}}return vn}))}))}cancelNavigationTransition(n,i,r){let s=new Yi(n.id,this.urlSerializer.serialize(n.extractedUrl),i,r);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(i){return new(i||t)};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function qz(t){return t!==Mm}var c2=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275prov=G({token:t,factory:()=>R(Yz),providedIn:"root"})}return t})(),Xm=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},Yz=(()=>{class t extends Xm{static \u0275fac=(()=>{let n;return function(r){return(n||(n=$i(t)))(r||t)}})();static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),l2=(()=>{class t{urlSerializer=R(Ho);options=R(Wo,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=R(bs);urlHandlingStrategy=R(Jm);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Ki;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:i,targetBrowserUrl:r}){let s=n!==void 0?this.urlHandlingStrategy.merge(n,i):i,o=r??s;return o instanceof Ki?this.urlSerializer.serialize(o):o}commitTransition({targetRouterState:n,finalUrl:i,initialUrl:r}){i&&n?(this.currentUrlTree=i,this.rawUrlTree=this.urlHandlingStrategy.merge(i,r),this.routerState=n):this.rawUrlTree=r}routerState=WR(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=G({token:t,factory:()=>R(Kz),providedIn:"root"})}return t})(),Kz=(()=>{class t extends l2{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(i=>{i.type==="popstate"&&setTimeout(()=>{n(i.url,i.state,"popstate")})})}handleRouterEvent(n,i){n instanceof As?this.updateStateMemento():n instanceof Xi?this.commitTransition(i):n instanceof yd?this.urlUpdateStrategy==="eager"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(i),i)):n instanceof wd?(this.commitTransition(i),this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(i),i)):n instanceof Yi&&(n.code===Sn.GuardRejected||n.code===Sn.NoDataFromResolver)?this.restoreHistory(i):n instanceof kc?this.restoreHistory(i,!0):n instanceof Bn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:i,id:r}){let{replaceUrl:s,state:o}=i;if(this.location.isCurrentPathEqualTo(n)||s){let a=this.browserPageId,c=U(U({},o),this.generateNgRouterState(r,a));this.location.replaceState(n,"",c)}else{let a=U(U({},o),this.generateNgRouterState(r,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,s=this.currentPageId-r;s!==0?this.location.historyGo(s):this.getCurrentUrlTree()===n.finalUrl&&s===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,i){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:i}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(r){return(n||(n=$i(t)))(r||t)}})();static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function tg(t,e){t.events.pipe(kt(n=>n instanceof Bn||n instanceof Yi||n instanceof kc||n instanceof Xi),de(n=>n instanceof Bn||n instanceof Xi?0:(n instanceof Yi?n.code===Sn.Redirect||n.code===Sn.SupersededByNewNavigation:!1)?2:1),kt(n=>n!==2),yr(1)).subscribe(()=>{e()})}var Xz={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Qz={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},qe=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=R(Xk);stateManager=R(l2);options=R(Wo,{optional:!0})||{};pendingTasks=R(_s);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=R(eg);urlSerializer=R(Ho);location=R(bs);urlHandlingStrategy=R(Jm);_events=new nt;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=R(c2);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=R(qo,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!R(Dd,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new at;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(r!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof Yi&&i.code!==Sn.Redirect&&i.code!==Sn.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Bn)this.navigated=!0;else if(i instanceof Rc){let o=i.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),c=U({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||qz(r.source)},o);this.scheduleNavigation(a,Mm,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}Jz(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Mm,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,i,r)=>{this.navigateToSyncWithBrowser(n,r,i)})}navigateToSyncWithBrowser(n,i,r){let s={replaceUrl:!0},o=r?.navigationId?r:null;if(r){let c=U({},r);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(s.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,i,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Ib),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,i={}){let{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:c}=i,u=c?this.currentUrlTree.fragment:o,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d=U(U({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let f;try{let m=r?r.snapshot:this.routerState.snapshot.root;f=$R(m)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),f=this.currentUrlTree.root}return HR(f,n,d,u??null)}navigateByUrl(n,i={skipLocationChange:!1}){let r=Ds(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,Mm,null,i)}navigate(n,i={skipLocationChange:!1}){return Zz(n),this.navigateByUrl(this.createUrlTree(n,i),i)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,i){let r;if(i===!0?r=U({},Xz):i===!1?r=U({},Qz):r=i,Ds(n))return CR(this.currentUrlTree,n,r);let s=this.parseUrl(n);return CR(this.currentUrlTree,s,r)}removeEmptyProps(n){return Object.entries(n).reduce((i,[r,s])=>(s!=null&&(i[r]=s),i),{})}scheduleNavigation(n,i,r,s,o){if(this.disposed)return Promise.resolve(!1);let a,c,u;o?(a=o.resolve,c=o.reject,u=o.promise):u=new Promise((f,m)=>{a=f,c=m});let d=this.pendingTasks.add();return tg(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(f=>Promise.reject(f))}static \u0275fac=function(i){return new(i||t)};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Zz(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new z(4008,!1)}function Jz(t){return!(t instanceof wd)&&!(t instanceof Rc)}var ri=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new nt;constructor(n,i,r,s,o,a){this.router=n,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=o,this.locationStrategy=a;let c=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=n.events.subscribe(u=>{u instanceof Bn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Ds(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,i,r,s,o){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||i||r||s||o||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let i=this.href===null?null:sk(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(n,i){let r=this.renderer,s=this.el.nativeElement;i!==null?r.setAttribute(s,n,i):r.removeAttribute(s,n)}get urlTree(){return this.routerLinkInput===null?null:Ds(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(i){return new(i||t)(V(qe),V(Dn),Zw("tabindex"),V(Zt),V(et),V(_i))};static \u0275dir=Ne({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){i&1&&ae("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),i&2&&Pn("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",xs],skipLocationChange:[2,"skipLocationChange","skipLocationChange",xs],replaceUrl:[2,"replaceUrl","replaceUrl",xs],routerLink:"routerLink"},features:[ut]})}return t})(),Mb=(()=>{class t{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new re;constructor(n,i,r,s,o){this.router=n,this.element=i,this.renderer=r,this.cdr=s,this.link=o,this.routerEventsSubscription=n.events.subscribe(a=>{a instanceof Bn&&this.update()})}ngAfterContentInit(){Z(this.links.changes,Z(null)).pipe(ds()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let n=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=Ie(n).pipe(ds()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(n){let i=Array.isArray(n)?n:n.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let n=this.hasActiveLinks();this.classes.forEach(i=>{n?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),n&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.isActiveChange.emit(n))})}isLinkActive(n){let i=e9(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>{let s=r.urlTree;return s?n.isActive(s,i):!1}}hasActiveLinks(){let n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}static \u0275fac=function(i){return new(i||t)(V(qe),V(et),V(Zt),V(ti),V(ri,8))};static \u0275dir=Ne({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(i,r,s){if(i&1&&nm(s,ri,5),i&2){let o;Yu(o=Ku())&&(r.links=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[ut]})}return t})();function e9(t){return!!t.paths}var Fd=class{};var u2=(()=>{class t{router;injector;preloadingStrategy;loader;subscription;constructor(n,i,r,s){this.router=n,this.injector=i,this.preloadingStrategy=r,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(kt(n=>n instanceof Bn),Ri(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,i){let r=[];for(let s of i){s.providers&&!s._injector&&(s._injector=Wu(s.providers,n,`Route: ${s.path}`));let o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Ie(r).pipe(ds())}preloadConfig(n,i){return this.preloadingStrategy.preload(i,()=>{let r;i.loadChildren&&i.canLoad===void 0?r=this.loader.loadChildren(n,i):r=Z(null);let s=r.pipe(it(o=>o===null?Z(void 0):(i._loadedRoutes=o.routes,i._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));if(i.loadComponent&&!i._loadedComponent){let o=this.loader.loadComponent(i);return Ie([s,o]).pipe(ds())}else return s})}static \u0275fac=function(i){return new(i||t)(K(qe),K(Mt),K(Fd),K(Zm))};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),d2=new W(""),t9=(()=>{class t{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(n,i,r,s,o={}){this.urlSerializer=n,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=o,o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof As?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Bn?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Xi&&n.code===Fc.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Mc&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Mc(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(i){Lk()};static \u0275prov=G({token:t,factory:t.\u0275fac})}return t})();function Rb(t,...e){return pi([{provide:qo,multi:!0,useValue:t},[],{provide:Dn,useFactory:h2,deps:[qe]},{provide:em,multi:!0,useFactory:f2},e.map(n=>n.\u0275providers)])}function h2(t){return t.routerState.root}function kd(t,e){return{\u0275kind:t,\u0275providers:e}}function f2(){let t=R(Ke);return e=>{let n=t.get(Tr);if(e!==n.components[0])return;let i=t.get(qe),r=t.get(p2);t.get(Pb)===1&&i.initialNavigation(),t.get(v2,null,_e.Optional)?.setUpPreloading(),t.get(d2,null,_e.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var p2=new W("",{factory:()=>new nt}),Pb=new W("",{providedIn:"root",factory:()=>1});function m2(){let t=[{provide:Pb,useValue:0},Dx(()=>{let e=R(Ke);return e.get(Nx,Promise.resolve()).then(()=>new Promise(i=>{let r=e.get(qe),s=e.get(p2);tg(r,()=>{i(!0)}),e.get(eg).afterPreactivation=()=>(i(!0),s.closed?Z(void 0):s),r.initialNavigation()}))})];return kd(2,t)}function g2(){let t=[Dx(()=>{R(qe).setUpLocationChangeListener()}),{provide:Pb,useValue:2}];return kd(3,t)}var v2=new W("");function _2(t){return kd(0,[{provide:v2,useExisting:u2},{provide:Fd,useExisting:t}])}function y2(){return kd(8,[Tb,{provide:Dd,useExisting:Tb}])}function w2(t){Ro("NgRouterViewTransitions");let e=[{provide:Db,useValue:a2},{provide:Ab,useValue:U({skipNextTransition:!!t?.skipInitialTransition},t)}];return kd(9,e)}var x2=[bs,{provide:Ho,useClass:Ss},qe,Go,{provide:Dn,useFactory:h2,deps:[qe]},Zm,[]],Ur=(()=>{class t{constructor(){}static forRoot(n,i){return{ngModule:t,providers:[x2,[],{provide:qo,multi:!0,useValue:n},[],i?.errorHandler?{provide:Fb,useValue:i.errorHandler}:[],{provide:Wo,useValue:i||{}},i?.useHash?i9():r9(),n9(),i?.preloadingStrategy?_2(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?s9(i):[],i?.bindToComponentInputs?y2().\u0275providers:[],i?.enableViewTransitions?w2().\u0275providers:[],o9()]}}static forChild(n){return{ngModule:t,providers:[{provide:qo,multi:!0,useValue:n}]}}static \u0275fac=function(i){return new(i||t)};static \u0275mod=He({type:t});static \u0275inj=$e({})}return t})();function n9(){return{provide:d2,useFactory:()=>{let t=R(eR),e=R(Oe),n=R(Wo),i=R(eg),r=R(Ho);return n.scrollOffset&&t.setOffset(n.scrollOffset),new t9(r,i,t,e,n)}}}function i9(){return{provide:_i,useClass:Hx}}function r9(){return{provide:_i,useClass:cm}}function s9(t){return[t.initialNavigation==="disabled"?g2().\u0275providers:[],t.initialNavigation==="enabledBlocking"?m2().\u0275providers:[]]}var kb=new W("");function o9(){return[{provide:kb,useFactory:f2},{provide:em,multi:!0,useExisting:kb}]}var C2=function(t){let e=[],n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},a9=function(t){let e=[],n=0,i=0;for(;n<t.length;){let r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){let s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){let s=t[n++],o=t[n++],a=t[n++],c=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(c>>10)),e[i++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},T2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){let s=t[r],o=r+1<t.length,a=o?t[r+1]:0,c=r+2<t.length,u=c?t[r+2]:0,d=s>>2,f=(s&3)<<4|a>>4,m=(a&15)<<2|u>>6,g=u&63;c||(g=64,o||(m=64)),i.push(n[d],n[f],n[m],n[g])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(C2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):a9(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){let s=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;let u=r<t.length?n[t.charAt(r)]:64;++r;let f=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||a==null||u==null||f==null)throw new Nb;let m=s<<2|a>>4;if(i.push(m),u!==64){let g=a<<4&240|u>>2;if(i.push(g),f!==64){let w=u<<6&192|f;i.push(w)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Nb=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},c9=function(t){let e=C2(t);return T2.encodeByteArray(e,!0)},Md=function(t){return c9(t).replace(/\./g,"")},Ub=function(t){try{return T2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function l9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var u9=()=>l9().__FIREBASE_DEFAULTS__,d9=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},h9=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Ub(t[1]);return e&&JSON.parse(e)},ig=()=>{try{return u9()||d9()||h9()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Vb=t=>{var e,n;return(n=(e=ig())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},E2=t=>{let e=Vb(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},Bb=()=>{var t;return(t=ig())===null||t===void 0?void 0:t.config},jb=t=>{var e;return(e=ig())===null||e===void 0?void 0:e[`_${t}`]};var ng=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}};function I2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Md(JSON.stringify(n)),Md(JSON.stringify(o)),""].join(".")}function Pt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function S2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pt())}function f9(){var t;let e=(t=ig())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function D2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function A2(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function F2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function k2(){let t=Pt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function M2(){return!f9()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $b(){try{return typeof indexedDB=="object"}catch{return!1}}function R2(){return new Promise((t,e)=>{try{let n=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var p9="FirebaseError",jn=class t extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=p9,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vr.prototype.create)}},Vr=class{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){let i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?m9(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new jn(r,a,i)}};function m9(t,e){return t.replace(g9,(n,i)=>{let r=e[i];return r!=null?String(r):`<${i}?>`})}var g9=/\{\$([^}]+)}/g;function P2(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Yo(t,e){if(t===e)return!0;let n=Object.keys(t),i=Object.keys(e);for(let r of n){if(!i.includes(r))return!1;let s=t[r],o=e[r];if(b2(s)&&b2(o)){if(!Yo(s,o))return!1}else if(s!==o)return!1}for(let r of i)if(!n.includes(r))return!1;return!0}function b2(t){return t!==null&&typeof t=="object"}function Rd(t){let e=[];for(let[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Lc(t){let e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){let[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function Uc(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function O2(t,e){let n=new Lb(t,e);return n.subscribe.bind(n)}var Lb=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");v9(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=Ob),r.error===void 0&&(r.error=Ob),r.complete===void 0&&(r.complete=Ob);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function v9(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ob(){}var ofe=4*60*60*1e3;function _t(t){return t&&t._delegate?t._delegate:t}var si=class{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ko="[DEFAULT]";var Hb=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let i=new ng;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let i=this.normalizeInstanceIdentifier(e?.identifier),r=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(y9(e))try{this.getOrInitializeService({instanceIdentifier:Ko})}catch{}for(let[n,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=Ko){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return _(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Ko){return this.instances.has(e)}getOptions(e=Ko){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(e,n){var i;let r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);let o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let i=this.onInitCallbacks.get(n);if(i)for(let r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:_9(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ko){return this.component?this.component.multipleInstances?e:Ko:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function _9(t){return t===Ko?void 0:t}function y9(t){return t.instantiationMode==="EAGER"}var rg=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Hb(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var w9=[],De=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(De||{}),x9={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},b9=De.INFO,C9={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},T9=(t,e,...n)=>{if(e<t.logLevel)return;let i=new Date().toISOString(),r=C9[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Ms=class{constructor(e){this.name=e,this._logLevel=b9,this._logHandler=T9,this._userLogHandler=null,w9.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?x9[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}};var E9=(t,e)=>e.some(n=>t instanceof n),N2,L2;function I9(){return N2||(N2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function S9(){return L2||(L2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var U2=new WeakMap,zb=new WeakMap,V2=new WeakMap,Gb=new WeakMap,qb=new WeakMap;function D9(t){let e=new Promise((n,i)=>{let r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Qi(t.result)),r()},o=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&U2.set(n,t)}).catch(()=>{}),qb.set(e,t),e}function A9(t){if(zb.has(t))return;let e=new Promise((n,i)=>{let r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});zb.set(t,e)}var Wb={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return zb.get(t);if(e==="objectStoreNames")return t.objectStoreNames||V2.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function B2(t){Wb=t(Wb)}function F9(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let i=t.call(sg(this),e,...n);return V2.set(i,e.sort?e.sort():[e]),Qi(i)}:S9().includes(t)?function(...e){return t.apply(sg(this),e),Qi(U2.get(this))}:function(...e){return Qi(t.apply(sg(this),e))}}function k9(t){return typeof t=="function"?F9(t):(t instanceof IDBTransaction&&A9(t),E9(t,I9())?new Proxy(t,Wb):t)}function Qi(t){if(t instanceof IDBRequest)return D9(t);if(Gb.has(t))return Gb.get(t);let e=k9(t);return e!==t&&(Gb.set(t,e),qb.set(e,t)),e}var sg=t=>qb.get(t);function og(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){let o=indexedDB.open(t,e),a=Qi(o);return i&&o.addEventListener("upgradeneeded",c=>{i(Qi(o.result),c.oldVersion,c.newVersion,Qi(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),r&&c.addEventListener("versionchange",u=>r(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var M9=["get","getKey","getAll","getAllKeys","count"],R9=["put","add","delete","clear"],Yb=new Map;function j2(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Yb.get(e))return Yb.get(e);let n=e.replace(/FromIndex$/,""),i=e!==n,r=R9.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||M9.includes(n)))return;let s=function(o,...a){return _(this,null,function*(){let c=this.transaction(o,r?"readwrite":"readonly"),u=c.store;return i&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),r&&c.done]))[0]})};return Yb.set(e,s),s}B2(t=>se(U({},t),{get:(e,n,i)=>j2(e,n)||t.get(e,n,i),has:(e,n)=>!!j2(e,n)||t.has(e,n)}));var Xb=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(P9(n)){let i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}};function P9(t){let e=t.getComponent();return e?.type==="VERSION"}var Qb="@firebase/app",$2="0.10.13";var Br=new Ms("@firebase/app"),O9="@firebase/app-compat",N9="@firebase/analytics-compat",L9="@firebase/analytics",U9="@firebase/app-check-compat",V9="@firebase/app-check",B9="@firebase/auth",j9="@firebase/auth-compat",$9="@firebase/database",H9="@firebase/data-connect",G9="@firebase/database-compat",z9="@firebase/functions",W9="@firebase/functions-compat",q9="@firebase/installations",Y9="@firebase/installations-compat",K9="@firebase/messaging",X9="@firebase/messaging-compat",Q9="@firebase/performance",Z9="@firebase/performance-compat",J9="@firebase/remote-config",e7="@firebase/remote-config-compat",t7="@firebase/storage",n7="@firebase/storage-compat",i7="@firebase/firestore",r7="@firebase/vertexai-preview",s7="@firebase/firestore-compat",o7="firebase",a7="10.14.1";var Zb="[DEFAULT]",c7={[Qb]:"fire-core",[O9]:"fire-core-compat",[L9]:"fire-analytics",[N9]:"fire-analytics-compat",[V9]:"fire-app-check",[U9]:"fire-app-check-compat",[B9]:"fire-auth",[j9]:"fire-auth-compat",[$9]:"fire-rtdb",[H9]:"fire-data-connect",[G9]:"fire-rtdb-compat",[z9]:"fire-fn",[W9]:"fire-fn-compat",[q9]:"fire-iid",[Y9]:"fire-iid-compat",[K9]:"fire-fcm",[X9]:"fire-fcm-compat",[Q9]:"fire-perf",[Z9]:"fire-perf-compat",[J9]:"fire-rc",[e7]:"fire-rc-compat",[t7]:"fire-gcs",[n7]:"fire-gcs-compat",[i7]:"fire-fst",[s7]:"fire-fst-compat",[r7]:"fire-vertex","fire-js":"fire-js",[o7]:"fire-js-all"};var Pd=new Map,l7=new Map,Jb=new Map;function H2(t,e){try{t.container.addComponent(e)}catch(n){Br.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ps(t){let e=t.name;if(Jb.has(e))return Br.debug(`There were multiple attempts to register component ${e}.`),!1;Jb.set(e,t);for(let n of Pd.values())H2(n,t);for(let n of l7.values())H2(n,t);return!0}function Nd(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function xi(t){return t.settings!==void 0}var u7={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Rs=new Vr("app","Firebase",u7);var eC=class{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new si("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Rs.create("app-deleted",{appName:this._name})}};var Os=a7;function iC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let i=Object.assign({name:Zb,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw Rs.create("bad-app-name",{appName:String(r)});if(n||(n=Bb()),!n)throw Rs.create("no-options");let s=Pd.get(r);if(s){if(Yo(n,s.options)&&Yo(i,s.config))return s;throw Rs.create("duplicate-app",{appName:r})}let o=new rg(r);for(let c of Jb.values())o.addComponent(c);let a=new eC(n,i,o);return Pd.set(r,a),a}function Vc(t=Zb){let e=Pd.get(t);if(!e&&t===Zb&&Bb())return iC();if(!e)throw Rs.create("no-app",{appName:t});return e}function ag(){return Array.from(Pd.values())}function Dt(t,e,n){var i;let r=(i=c7[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);let s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Br.warn(a.join(" "));return}Ps(new si(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var d7="firebase-heartbeat-database",h7=1,Od="firebase-heartbeat-store",Kb=null;function q2(){return Kb||(Kb=og(d7,h7,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Od)}catch(n){console.warn(n)}}}}).catch(t=>{throw Rs.create("idb-open",{originalErrorMessage:t.message})})),Kb}function f7(t){return _(this,null,function*(){try{let n=(yield q2()).transaction(Od),i=yield n.objectStore(Od).get(Y2(t));return yield n.done,i}catch(e){if(e instanceof jn)Br.warn(e.message);else{let n=Rs.create("idb-get",{originalErrorMessage:e?.message});Br.warn(n.message)}}})}function G2(t,e){return _(this,null,function*(){try{let i=(yield q2()).transaction(Od,"readwrite");yield i.objectStore(Od).put(e,Y2(t)),yield i.done}catch(n){if(n instanceof jn)Br.warn(n.message);else{let i=Rs.create("idb-set",{originalErrorMessage:n?.message});Br.warn(i.message)}}})}function Y2(t){return`${t.name}!${t.options.appId}`}var p7=1024,m7=30*24*60*60*1e3,tC=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new nC(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return _(this,null,function*(){var e,n;try{let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=z2();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=m7}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Br.warn(i)}})}getHeartbeatsHeader(){return _(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=z2(),{heartbeatsToSend:i,unsentEntries:r}=g7(this._heartbeatsCache.heartbeats),s=Md(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Br.warn(n),""}})}};function z2(){return new Date().toISOString().substring(0,10)}function g7(t,e=p7){let n=[],i=t.slice();for(let r of t){let s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),W2(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),W2(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}var nC=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(this,null,function*(){return $b()?R2().then(()=>!0).catch(()=>!1):!1})}read(){return _(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield f7(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return G2(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return G2(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function W2(t){return Md(JSON.stringify({version:2,heartbeats:t})).length}function v7(t){Ps(new si("platform-logger",e=>new Xb(e),"PRIVATE")),Ps(new si("heartbeat",e=>new tC(e),"PRIVATE")),Dt(Qb,$2,t),Dt(Qb,$2,"esm2017"),Dt("fire-js","")}v7("");var _7="firebase",y7="10.14.1";Dt(_7,y7,"app");function tn(t){return typeof t=="function"}function K2(t){let n=t(i=>{Error.call(i),i.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var cg=K2(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Ld(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Zi=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:i}=this;if(tn(i))try{i()}catch(s){e=s instanceof cg?s.errors:[s]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let s of r)try{X2(s)}catch(o){e=e??[],o instanceof cg?e=[...e,...o.errors]:e.push(o)}}if(e)throw new cg(e)}}add(e){var n;if(e&&e!==this)if(this.closed)X2(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Ld(n,e)}remove(e){let{_finalizers:n}=this;n&&Ld(n,e),e instanceof t&&e._removeParent(this)}};Zi.EMPTY=(()=>{let t=new Zi;return t.closed=!0,t})();var Vfe=Zi.EMPTY;function lg(t){return t instanceof Zi||t&&"closed"in t&&tn(t.remove)&&tn(t.add)&&tn(t.unsubscribe)}function X2(t){tn(t)?t():t.unsubscribe()}var bi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Bc={setTimeout(t,e,...n){let{delegate:i}=Bc;return i?.setTimeout?i.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Bc;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Q2(t){Bc.setTimeout(()=>{let{onUnhandledError:e}=bi;if(e)e(t);else throw t})}function rC(){}var Z2=sC("C",void 0,void 0);function J2(t){return sC("E",void 0,t)}function eP(t){return sC("N",t,void 0)}function sC(t,e,n){return{kind:t,value:e,error:n}}var Xo=null;function tP(t){if(bi.useDeprecatedSynchronousErrorHandling){let e=!Xo;if(e&&(Xo={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:i}=Xo;if(Xo=null,n)throw i}}else t()}function nP(t){bi.useDeprecatedSynchronousErrorHandling&&Xo&&(Xo.errorThrown=!0,Xo.error=t)}var Qo=class extends Zi{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,lg(e)&&e.add(this)):this.destination=b7}static create(e,n,i){return new jc(e,n,i)}next(e){this.isStopped?aC(eP(e),this):this._next(e)}error(e){this.isStopped?aC(J2(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?aC(Z2,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},w7=Function.prototype.bind;function oC(t,e){return w7.call(t,e)}var cC=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(i){ug(i)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(i){ug(i)}else ug(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){ug(n)}}},jc=class extends Qo{constructor(e,n,i){super();let r;if(tn(e)||!e)r={next:e??void 0,error:n??void 0,complete:i??void 0};else{let s;this&&bi.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&oC(e.next,s),error:e.error&&oC(e.error,s),complete:e.complete&&oC(e.complete,s)}):r=e}this.destination=new cC(r)}};function ug(t){bi.useDeprecatedSynchronousErrorHandling?nP(t):Q2(t)}function x7(t){throw t}function aC(t,e){let{onStoppedNotification:n}=bi;n&&Bc.setTimeout(()=>n(t,e))}var b7={closed:!0,next:rC,error:x7,complete:rC};var iP=typeof Symbol=="function"&&Symbol.observable||"@@observable";function dg(t){return t}function rP(t){return t.length===0?dg:t.length===1?t[0]:function(n){return t.reduce((i,r)=>r(i),n)}}var hg=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let i=new t;return i.source=this,i.operator=n,i}subscribe(n,i,r){let s=T7(n)?n:new jc(n,i,r);return tP(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return i=sP(i),new i((r,s)=>{let o=new jc({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(n){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(n)}[iP](){return this}pipe(...n){return rP(n)(this)}toPromise(n){return n=sP(n),new n((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return t.create=e=>new t(e),t})();function sP(t){var e;return(e=t??bi.Promise)!==null&&e!==void 0?e:Promise}function C7(t){return t&&tn(t.next)&&tn(t.error)&&tn(t.complete)}function T7(t){return t&&t instanceof Qo||C7(t)&&lg(t)}function E7(t){return tn(t?.lift)}function $c(t){return e=>{if(E7(e))return e.lift(function(n){try{return t(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function fg(t,e,n,i,r){return new lC(t,e,n,i,r)}var lC=class extends Qo{constructor(e,n,i,r,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};var uC={now(){return(uC.delegate||Date).now()},delegate:void 0};var pg=class extends Zi{constructor(e,n){super()}schedule(e,n=0){return this}};var Ud={setInterval(t,e,...n){let{delegate:i}=Ud;return i?.setInterval?i.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Ud;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Hc=class extends pg{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var i;if(this.closed)return this;this.state=e;let r=this.id,s=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(s,r,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,i=0){return Ud.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,n,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&Ud.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i=!1,r;try{this.work(e)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:i}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Ld(i,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Gc=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,i){return new this.schedulerActionCtor(this,e).schedule(i,n)}};Gc.now=uC.now;var zc=class extends Gc{constructor(e,n=Gc.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,i){for(;e=n.shift();)e.unsubscribe();throw i}}};var dC=new zc(Hc);var mg=class extends Hc{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(e,n,i):(e.flush(this),0)}};var gg=class extends zc{};var hC=new gg(mg);function vg(t,e,n,i=0,r=!1){let s=e.schedule(function(){n(),r?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(s),!r)return s}function _g(t,e=0){return $c((n,i)=>{n.subscribe(fg(i,r=>vg(i,t,()=>i.next(r),e),()=>vg(i,t,()=>i.complete(),e),r=>vg(i,t,()=>i.error(r),e)))})}function yg(t,e=0){return $c((n,i)=>{i.add(t.schedule(()=>n.subscribe(i),e))})}function fC(t,e,n){let i=tn(t)||e||n?{next:t,error:e,complete:n}:t;return i?$c((r,s)=>{var o;(o=i.subscribe)===null||o===void 0||o.call(i);let a=!0;r.subscribe(fg(s,c=>{var u;(u=i.next)===null||u===void 0||u.call(i,c),s.next(c)},()=>{var c;a=!1,(c=i.complete)===null||c===void 0||c.call(i),s.complete()},c=>{var u;a=!1,(u=i.error)===null||u===void 0||u.call(i,c),s.error(c)},()=>{var c,u;a&&((c=i.unsubscribe)===null||c===void 0||c.call(i)),(u=i.finalize)===null||u===void 0||u.call(i)}))}):dg}var Jo=new Fo("ANGULARFIRE2_VERSION");function xg(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Vd=(t,e)=>{let n=e?[e]:ag(),i=[];return n.forEach(r=>{r.container.getProvider(t).instances.forEach(o=>{i.includes(o)||i.push(o)})}),i},qc=class{constructor(){return Vd(I7)}},I7="app-check";function Wc(){}var wg=class{zone;delegate;constructor(e,n=hC){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,i){let r=this.zone,s=function(o){r.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,i)}},pC=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Wc,{},Wc,Wc)),n.pipe(fC({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Yc=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new wg(Zone.current)),this.insideAngular=n.run(()=>new wg(Zone.current,dC)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||t)(K(Oe))};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function bg(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function S7(t){return bg().ngZone.runOutsideAngular(()=>t())}function Zo(t){return bg().ngZone.run(()=>t())}function D7(t){return A7(bg())(t)}function A7(t){return function(n){return n=n.lift(new pC(t.ngZone)),n.pipe(yg(t.outsideAngular),_g(t.insideAngular))}}var F7=(t,e)=>function(){let i=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Zo(()=>t.apply(void 0,i))},yt=(t,e)=>function(){let n,i=arguments;for(let s=0;s<arguments.length;s++)typeof i[s]=="function"&&(e&&(n||=Zo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Wc,{},Wc,Wc))),i[s]=F7(i[s],n));let r=S7(()=>t.apply(this,i));if(!e)if(r instanceof hg){let s=bg();return r.pipe(yg(s.outsideAngular),_g(s.insideAngular))}else return Zo(()=>r);return r instanceof hg?r.pipe(D7):r instanceof Promise?Zo(()=>new Promise((s,o)=>r.then(a=>Zo(()=>s(a)),a=>Zo(()=>o(a))))):typeof r=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),r.apply(this,arguments)}:Zo(()=>r)};var jr=class{constructor(e){return e}},ea=class{constructor(){return ag()}};function k7(t){return t&&t.length===1?t[0]:new jr(Vc())}var mC=new W("angularfire2._apps"),M7={provide:jr,useFactory:k7,deps:[[new bn,mC]]},R7={provide:ea,deps:[[new bn,mC]]};function P7(t){return(e,n)=>{let i=n.get(Xn);Dt("angularfire",Jo.full,"core"),Dt("angularfire",Jo.full,"app"),Dt("angular",IM.full,i.toString());let r=e.runOutsideAngular(()=>t(n));return new jr(r)}}function oP(t,...e){return pi([M7,R7,{provide:mC,useFactory:P7(t),multi:!0,deps:[Oe,Ke,Yc,...e]}])}var aP=yt(iC,!0);var cP=()=>{};var lP=function(t){let e=[],n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},O7=function(t){let e=[],n=0,i=0;for(;n<t.length;){let r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){let s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){let s=t[n++],o=t[n++],a=t[n++],c=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(c>>10)),e[i++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},uP={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){let s=t[r],o=r+1<t.length,a=o?t[r+1]:0,c=r+2<t.length,u=c?t[r+2]:0,d=s>>2,f=(s&3)<<4|a>>4,m=(a&15)<<2|u>>6,g=u&63;c||(g=64,o||(m=64)),i.push(n[d],n[f],n[m],n[g])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(lP(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):O7(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){let s=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;let u=r<t.length?n[t.charAt(r)]:64;++r;let f=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||a==null||u==null||f==null)throw new vC;let m=s<<2|a>>4;if(i.push(m),u!==64){let g=a<<4&240|u>>2;if(i.push(g),f!==64){let w=u<<6&192|f;i.push(w)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},vC=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},N7=function(t){let e=lP(t);return uP.encodeByteArray(e,!0)},yC=function(t){return N7(t).replace(/\./g,"")},Cg=function(t){try{return uP.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function L7(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var U7=()=>L7().__FIREBASE_DEFAULTS__,V7=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},B7=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Cg(t[1]);return e&&JSON.parse(e)},j7=()=>{try{return cP()||U7()||V7()||B7()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}};var dP=t=>{var e;return(e=j7())===null||e===void 0?void 0:e[`_${t}`]};function hP(t){return t.endsWith(".cloudworkstations.dev")}function Ci(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ci())}function pP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mP(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function gP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vP(){try{return typeof indexedDB=="object"}catch{return!1}}function _P(){return new Promise((t,e)=>{try{let n=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var $7="FirebaseError",Ji=class t extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=$7,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$r.prototype.create)}},$r=class{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){let i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?H7(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new Ji(r,a,i)}};function H7(t,e){return t.replace(G7,(n,i)=>{let r=e[i];return r!=null?String(r):`<${i}?>`})}var G7=/\{\$([^}]+)}/g;function wC(t){let e=[];for(let[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function yP(t,e){let n=new _C(t,e);return n.subscribe.bind(n)}var _C=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");z7(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=gC),r.error===void 0&&(r.error=gC),r.complete===void 0&&(r.complete=gC);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function z7(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function gC(){}var kme=4*60*60*1e3;function Kc(t){return t&&t._delegate?t._delegate:t}var Hr=class{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var W7=[],Ye=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Ye||{}),q7={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},Y7=Ye.INFO,K7={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},X7=(t,e,...n)=>{if(e<t.logLevel)return;let i=new Date().toISOString(),r=K7[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Xc=class{constructor(e){this.name=e,this._logLevel=Y7,this._logHandler=X7,this._userLogHandler=null,W7.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?q7[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...e),this._logHandler(this,Ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...e),this._logHandler(this,Ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...e),this._logHandler(this,Ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...e),this._logHandler(this,Ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...e),this._logHandler(this,Ye.ERROR,...e)}};var bC=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Z7(n)){let i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}};function Z7(t){let e=t.getComponent();return e?.type==="VERSION"}var CC="@firebase/app",wP="0.13.0";var Gr=new Xc("@firebase/app"),J7="@firebase/app-compat",eW="@firebase/analytics-compat",tW="@firebase/analytics",nW="@firebase/app-check-compat",iW="@firebase/app-check",rW="@firebase/auth",sW="@firebase/auth-compat",oW="@firebase/database",aW="@firebase/data-connect",cW="@firebase/database-compat",lW="@firebase/functions",uW="@firebase/functions-compat",dW="@firebase/installations",hW="@firebase/installations-compat",fW="@firebase/messaging",pW="@firebase/messaging-compat",mW="@firebase/performance",gW="@firebase/performance-compat",vW="@firebase/remote-config",_W="@firebase/remote-config-compat",yW="@firebase/storage",wW="@firebase/storage-compat",xW="@firebase/firestore",bW="@firebase/ai",CW="@firebase/firestore-compat",TW="firebase",EW="11.8.0";var IW={[CC]:"fire-core",[J7]:"fire-core-compat",[tW]:"fire-analytics",[eW]:"fire-analytics-compat",[iW]:"fire-app-check",[nW]:"fire-app-check-compat",[rW]:"fire-auth",[sW]:"fire-auth-compat",[oW]:"fire-rtdb",[aW]:"fire-data-connect",[cW]:"fire-rtdb-compat",[lW]:"fire-fn",[uW]:"fire-fn-compat",[dW]:"fire-iid",[hW]:"fire-iid-compat",[fW]:"fire-fcm",[pW]:"fire-fcm-compat",[mW]:"fire-perf",[gW]:"fire-perf-compat",[vW]:"fire-rc",[_W]:"fire-rc-compat",[yW]:"fire-gcs",[wW]:"fire-gcs-compat",[xW]:"fire-fst",[CW]:"fire-fst-compat",[bW]:"fire-vertex","fire-js":"fire-js",[TW]:"fire-js-all"};var SW=new Map,DW=new Map,xP=new Map;function bP(t,e){try{t.container.addComponent(e)}catch(n){Gr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Zc(t){let e=t.name;if(xP.has(e))return Gr.debug(`There were multiple attempts to register component ${e}.`),!1;xP.set(e,t);for(let n of SW.values())bP(n,t);for(let n of DW.values())bP(n,t);return!0}function ta(t){return t==null?!1:t.settings!==void 0}var AW={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},IC=new $r("app","Firebase",AW);var Tg=EW;function Qc(t,e,n){var i;let r=(i=IW[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);let s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gr.warn(a.join(" "));return}Zc(new Hr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var FW="firebase-heartbeat-database",kW=1,Bd="firebase-heartbeat-store",xC=null;function IP(){return xC||(xC=og(FW,kW,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Bd)}catch(n){console.warn(n)}}}}).catch(t=>{throw IC.create("idb-open",{originalErrorMessage:t.message})})),xC}function MW(t){return _(this,null,function*(){try{let n=(yield IP()).transaction(Bd),i=yield n.objectStore(Bd).get(SP(t));return yield n.done,i}catch(e){if(e instanceof Ji)Gr.warn(e.message);else{let n=IC.create("idb-get",{originalErrorMessage:e?.message});Gr.warn(n.message)}}})}function CP(t,e){return _(this,null,function*(){try{let i=(yield IP()).transaction(Bd,"readwrite");yield i.objectStore(Bd).put(e,SP(t)),yield i.done}catch(n){if(n instanceof Ji)Gr.warn(n.message);else{let i=IC.create("idb-set",{originalErrorMessage:n?.message});Gr.warn(i.message)}}})}function SP(t){return`${t.name}!${t.options.appId}`}var RW=1024,PW=30,TC=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new EC(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return _(this,null,function*(){var e,n;try{let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=TP();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>PW){let o=NW(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Gr.warn(i)}})}getHeartbeatsHeader(){return _(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=TP(),{heartbeatsToSend:i,unsentEntries:r}=OW(this._heartbeatsCache.heartbeats),s=yC(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Gr.warn(n),""}})}};function TP(){return new Date().toISOString().substring(0,10)}function OW(t,e=RW){let n=[],i=t.slice();for(let r of t){let s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),EP(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),EP(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}var EC=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(this,null,function*(){return vP()?_P().then(()=>!0).catch(()=>!1):!1})}read(){return _(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield MW(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return CP(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return CP(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function EP(t){return yC(JSON.stringify({version:2,heartbeats:t})).length}function NW(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}function LW(t){Zc(new Hr("platform-logger",e=>new bC(e),"PRIVATE")),Zc(new Hr("heartbeat",e=>new TC(e),"PRIVATE")),Qc(CC,wP,t),Qc(CC,wP,"esm2017"),Qc("fire-js","")}LW("");function OP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var NP=OP,LP=new $r("auth","Firebase",OP());var Dg=new Xc("@firebase/auth");function UW(t,...e){Dg.logLevel<=Ye.WARN&&Dg.warn(`Auth (${Tg}): ${t}`,...e)}function Ig(t,...e){Dg.logLevel<=Ye.ERROR&&Dg.error(`Auth (${Tg}): ${t}`,...e)}function DP(t,...e){throw UC(t,...e)}function LC(t,...e){return UC(t,...e)}function UP(t,e,n){let i=Object.assign(Object.assign({},NP()),{[e]:n});return new $r("auth","Firebase",i).create(e,{appName:t.name})}function Sg(t){return UP(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function UC(t,...e){if(typeof t!="string"){let n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return LP.create(t,...e)}function Ve(t,e,...n){if(!t)throw UC(e,...n)}function jd(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Ig(e),new Error(e)}function Ag(t,e){t||jd(e)}function VW(){return AP()==="http:"||AP()==="https:"}function AP(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function BW(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(VW()||mP()||"connection"in navigator)?navigator.onLine:!0}function jW(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var ra=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ag(n>e,"Short delay should be less than long delay!"),this.isMobile=fP()||gP()}get(){return BW()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function $W(t,e){Ag(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Fg=class{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;jd("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;jd("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;jd("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var HW={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var GW=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],zW=new ra(3e4,6e4);function VP(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Og(s,o,a,c){return _(this,arguments,function*(t,e,n,i,r={}){return BP(t,r,()=>_(null,null,function*(){let u={},d={};i&&(e==="GET"?d=i:u={body:JSON.stringify(i)});let f=wC(Object.assign({key:t.config.apiKey},d)).slice(1),m=yield t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);let g=Object.assign({method:e,headers:m},u);return pP()||(g.referrerPolicy="no-referrer"),t.emulatorConfig&&hP(t.emulatorConfig.host)&&(g.credentials="include"),Fg.fetch()(yield jP(t,t.config.apiHost,n,f),g)}))})}function BP(t,e,n){return _(this,null,function*(){t._canInitEmulator=!1;let i=Object.assign(Object.assign({},HW),e);try{let r=new AC(t),s=yield Promise.race([n(),r.promise]);r.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Eg(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Eg(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Eg(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Eg(t,"user-disabled",o);let d=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw UP(t,d,u);DP(t,d)}}catch(r){if(r instanceof Ji)throw r;DP(t,"network-request-failed",{message:String(r)})}})}function jP(t,e,n,i){return _(this,null,function*(){let r=`${e}${n}?${i}`,s=t,o=s.config.emulator?$W(t.config,r):`${t.config.apiScheme}://${r}`;return GW.includes(n)&&(yield s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o})}var AC=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(LC(this.auth,"network-request-failed")),zW.get())})}};function Eg(t,e,n){let i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);let r=LC(t,e,i);return r.customData._tokenResponse=n,r}function WW(t,e){return _(this,null,function*(){return Og(t,"POST","/v1/accounts:delete",e)})}function kg(t,e){return _(this,null,function*(){return Og(t,"POST","/v1/accounts:lookup",e)})}function $d(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function $P(t,e=!1){return _(this,null,function*(){let n=Kc(t),i=yield n.getIdToken(e),r=HP(i);Ve(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");let s=typeof r.firebase=="object"?r.firebase:void 0,o=s?.sign_in_provider;return{claims:r,token:i,authTime:$d(SC(r.auth_time)),issuedAtTime:$d(SC(r.iat)),expirationTime:$d(SC(r.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function SC(t){return Number(t)*1e3}function HP(t){let[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Ig("JWT malformed, contained fewer than 3 sections"),null;try{let r=Cg(n);return r?JSON.parse(r):(Ig("Failed to decode base64 JWT payload"),null)}catch(r){return Ig("Caught error parsing JWT payload as JSON",r?.toString()),null}}function FP(t){let e=HP(t);return Ve(e,"internal-error"),Ve(typeof e.exp<"u","internal-error"),Ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function FC(t,e,n=!1){return _(this,null,function*(){if(n)return e;try{return yield e}catch(i){throw i instanceof Ji&&qW(i)&&t.auth.currentUser===t&&(yield t.auth.signOut()),i}})}function qW({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var kC=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>_(this,null,function*(){yield this.iteration()}),n)}iteration(){return _(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Gd=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=$d(this.lastLoginAt),this.creationTime=$d(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Mg(t){return _(this,null,function*(){var e;let n=t.auth,i=yield t.getIdToken(),r=yield FC(t,kg(n,{idToken:i}));Ve(r?.users.length,n,"internal-error");let s=r.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?zP(s.providerUserInfo):[],a=YW(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!a?.length,d=c?u:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Gd(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,f)})}function GP(t){return _(this,null,function*(){let e=Kc(t);yield Mg(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function YW(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function zP(t){return t.map(e=>{var{providerId:n}=e,i=Wa(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function KW(t,e){return _(this,null,function*(){let n=yield BP(t,{},()=>_(null,null,function*(){let i=wC({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,o=yield jP(t,r,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Fg.fetch()(o,{method:"POST",headers:a,body:i})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function XW(t,e){return _(this,null,function*(){return Og(t,"POST","/v2/accounts:revokeToken",VP(t,e))})}var Hd=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ve(e.idToken,"internal-error"),Ve(typeof e.idToken<"u","internal-error"),Ve(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):FP(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ve(e.length!==0,"internal-error");let n=FP(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return _(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return _(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:s}=yield KW(e,n);this.updateTokensAndExpiration(i,r,Number(s))})}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){let{refreshToken:i,accessToken:r,expirationTime:s}=n,o=new t;return i&&(Ve(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),r&&(Ve(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(Ve(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return jd("not implemented")}};function Ns(t,e){Ve(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var na=class t{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,s=Wa(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new kC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Gd(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return _(this,null,function*(){let n=yield FC(this,this.stsTokenManager.getToken(this.auth,e));return Ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return $P(this,e)}reload(){return GP(this)}_assign(e){this!==e&&(Ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return _(this,null,function*(){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Mg(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return _(this,null,function*(){if(ta(this.auth.app))return Promise.reject(Sg(this.auth));let e=yield this.getIdToken();return yield FC(this,WW(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,s,o,a,c,u,d;let f=(i=n.displayName)!==null&&i!==void 0?i:void 0,m=(r=n.email)!==null&&r!==void 0?r:void 0,g=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,w=(o=n.photoURL)!==null&&o!==void 0?o:void 0,E=(a=n.tenantId)!==null&&a!==void 0?a:void 0,D=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,P=(u=n.createdAt)!==null&&u!==void 0?u:void 0,H=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:B,emailVerified:Q,isAnonymous:J,providerData:te,stsTokenManager:I}=n;Ve(B&&I,e,"internal-error");let x=Hd.fromJSON(this.name,I);Ve(typeof B=="string",e,"internal-error"),Ns(f,e.name),Ns(m,e.name),Ve(typeof Q=="boolean",e,"internal-error"),Ve(typeof J=="boolean",e,"internal-error"),Ns(g,e.name),Ns(w,e.name),Ns(E,e.name),Ns(D,e.name),Ns(P,e.name),Ns(H,e.name);let b=new t({uid:B,auth:e,email:m,emailVerified:Q,displayName:f,isAnonymous:J,photoURL:w,phoneNumber:g,tenantId:E,stsTokenManager:x,createdAt:P,lastLoginAt:H});return te&&Array.isArray(te)&&(b.providerData=te.map(T=>Object.assign({},T))),D&&(b._redirectEventId=D),b}static _fromIdTokenResponse(e,n,i=!1){return _(this,null,function*(){let r=new Hd;r.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield Mg(s),s})}static _fromGetAccountInfoResponse(e,n,i){return _(this,null,function*(){let r=n.users[0];Ve(r.localId!==void 0,"internal-error");let s=r.providerUserInfo!==void 0?zP(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!s?.length,a=new Hd;a.updateFromIdToken(i);let c=new t({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new Gd(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!s?.length};return Object.assign(c,u),c})}};var kP=new Map;function ia(t){Ag(t instanceof Function,"Expected a class definition");let e=kP.get(t);return e?(Ag(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,kP.set(t,e),e)}var QW=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(this,null,function*(){return!0})}_set(n,i){return _(this,null,function*(){this.storage[n]=i})}_get(n){return _(this,null,function*(){let i=this.storage[n];return i===void 0?null:i})}_remove(n){return _(this,null,function*(){delete this.storage[n]})}_addListener(n,i){}_removeListener(n,i){}}return t.type="NONE",t})(),MC=QW;function DC(t,e,n){return`firebase:${t}:${e}:${n}`}var Rg=class t{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;let{config:r,name:s}=this.auth;this.fullUserKey=DC(this.userKey,r.apiKey,s),this.fullPersistenceKey=DC("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return _(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=yield kg(this.auth,{idToken:e}).catch(()=>{});return n?na._fromGetAccountInfoResponse(this.auth,n,e):null}return na._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return _(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,i="authUser"){return _(this,null,function*(){if(!n.length)return new t(ia(MC),e,i);let r=(yield Promise.all(n.map(u=>_(null,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=r[0]||ia(MC),o=DC(i,e.config.apiKey,e.name),a=null;for(let u of n)try{let d=yield u._get(o);if(d){let f;if(typeof d=="string"){let m=yield kg(e,{idToken:d}).catch(()=>{});if(!m)break;f=yield na._fromGetAccountInfoResponse(e,m,d)}else f=na._fromJSON(e,d);u!==s&&(a=f),s=u;break}}catch{}let c=r.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new t(s,e,i):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(u=>_(null,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new t(s,e,i))})}};function MP(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tq(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ZW(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(iq(e))return"Blackberry";if(rq(e))return"Webos";if(JW(e))return"Safari";if((e.includes("chrome/")||eq(e))&&!e.includes("edge/"))return"Chrome";if(nq(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function ZW(t=Ci()){return/firefox\//i.test(t)}function JW(t=Ci()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function eq(t=Ci()){return/crios\//i.test(t)}function tq(t=Ci()){return/iemobile/i.test(t)}function nq(t=Ci()){return/android/i.test(t)}function iq(t=Ci()){return/blackberry/i.test(t)}function rq(t=Ci()){return/webos/i.test(t)}function WP(t,e=[]){let n;switch(t){case"Browser":n=MP(Ci());break;case"Worker":n=`${MP(Ci())}-${t}`;break;default:n=t}let i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Tg}/${i}`}var RC=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let i=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});i.onAbort=n,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){return _(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let i of this.queue)yield i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(let r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function sq(n){return _(this,arguments,function*(t,e={}){return Og(t,"GET","/v2/passwordPolicy",VP(t,e))})}var oq=6,PC=class{constructor(e){var n,i,r,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:oq,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(i=c.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(r=c.containsLowercaseLetter)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var OC=class{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Pg(this),this.idTokenSubscription=new Pg(this),this.beforeStateQueue=new RC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=LP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ia(n)),this._initializationPromise=this.queue(()=>_(this,null,function*(){var i,r,s;if(!this._deleted&&(this.persistenceManager=yield Rg.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return _(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return _(this,null,function*(){try{let n=yield kg(this,{idToken:e}),i=yield na._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return _(this,null,function*(){var n;if(ta(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let i=yield this.assertedPersistence.getCurrentUser(),r=i,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=r?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ve(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return _(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return _(this,null,function*(){try{yield Mg(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=jW()}_delete(){return _(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return _(this,null,function*(){if(ta(this.app))return Promise.reject(Sg(this));let n=e?Kc(e):null;return n&&Ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return _(this,null,function*(){if(!this._deleted)return e&&Ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>_(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return _(this,null,function*(){return ta(this.app)?Promise.reject(Sg(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return ta(this.app)?Promise.reject(Sg(this)):this.queue(()=>_(this,null,function*(){yield this.assertedPersistence.setPersistence(ia(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return _(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return _(this,null,function*(){let e=yield sq(this),n=new PC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new $r("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},n)}})}revokeAccessToken(e){return _(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),yield XW(this,i)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return _(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return _(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&ia(e)||this._popupRedirectResolver;Ve(n,this,"argument-error"),this.redirectPersistenceManager=yield Rg.create(this,[ia(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return _(this,null,function*(){var n,i;return this._isInitialized&&(yield this.queue(()=>_(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return _(this,null,function*(){if(e===this.currentUser)return this.queue(()=>_(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ve(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,i,r);return()=>{o=!0,c()}}else{let c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return _(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=WP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return _(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();i&&(n["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n})}_getAppCheckToken(){return _(this,null,function*(){var e;if(ta(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&UW(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function aq(t){return Kc(t)}var Pg=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=yP(n=>this.observer=n)}get next(){return Ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var cq={loadJS(){return _(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lq(t){cq=t}function uq(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function dq(t,e){let n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(ia);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function VC(t,e,n,i){return Kc(t).onIdTokenChanged(e,n,i)}var hge=uq("rcb"),fge=new ra(3e4,6e4);var pge=new ra(2e3,1e4);var mge=10*60*1e3;var gge=new ra(3e4,6e4);var vge=new ra(5e3,15e3);var _ge=encodeURIComponent("fac");var RP="@firebase/auth",PP="1.10.6";var NC=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return _(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function hq(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fq(t){Zc(new Hr("auth",(e,{options:n})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;Ve(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});let c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:WP(t)},u=new OC(i,r,s,c);return dq(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Zc(new Hr("auth-internal",e=>{let n=aq(e.getProvider("auth").getImmediate());return(i=>new NC(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qc(RP,PP,hq(t)),Qc(RP,PP,"esm2017")}var pq=5*60,yge=dP("authIdTokenMaxAge")||pq;function mq(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}lq({loadJS(t){return new Promise((e,n)=>{let i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{let s=LC("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",mq().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fq("Browser");function qP(t){return new we(function(e){var n=VC(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}function uO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var dO=uO,hO=new Vr("auth","Firebase",uO());var jg=new Ms("@firebase/auth");function _q(t,...e){jg.logLevel<=De.WARN&&jg.warn(`Auth (${Os}): ${t}`,...e)}function Lg(t,...e){jg.logLevel<=De.ERROR&&jg.error(`Auth (${Os}): ${t}`,...e)}function tr(t,...e){throw cT(t,...e)}function sa(t,...e){return cT(t,...e)}function fO(t,e,n){let i=Object.assign(Object.assign({},dO()),{[e]:n});return new Vr("auth","Firebase",i).create(e,{appName:t.name})}function qr(t){return fO(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function cT(t,...e){if(typeof t!="string"){let n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return hO.create(t,...e)}function ce(t,e,...n){if(!t)throw cT(e,...n)}function zr(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Lg(e),new Error(e)}function Us(t,e){t||zr(e)}function HC(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function yq(){return YP()==="http:"||YP()==="https:"}function YP(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function wq(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(yq()||A2()||"connection"in navigator)?navigator.onLine:!0}function xq(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var oa=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Us(n>e,"Short delay should be less than long delay!"),this.isMobile=S2()||F2()}get(){return wq()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function lT(t,e){Us(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var $g=class{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var bq={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Cq=new oa(3e4,6e4);function Vs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Yr(s,o,a,c){return _(this,arguments,function*(t,e,n,i,r={}){return pO(t,r,()=>_(null,null,function*(){let u={},d={};i&&(e==="GET"?d=i:u={body:JSON.stringify(i)});let f=Rd(Object.assign({key:t.config.apiKey},d)).slice(1),m=yield t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);let g=Object.assign({method:e,headers:m},u);return D2()||(g.referrerPolicy="no-referrer"),$g.fetch()(mO(t,t.config.apiHost,n,f),g)}))})}function pO(t,e,n){return _(this,null,function*(){t._canInitEmulator=!1;let i=Object.assign(Object.assign({},bq),e);try{let r=new GC(t),s=yield Promise.race([n(),r.promise]);r.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Ng(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ng(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Ng(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Ng(t,"user-disabled",o);let d=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw fO(t,d,u);tr(t,d)}}catch(r){if(r instanceof jn)throw r;tr(t,"network-request-failed",{message:String(r)})}})}function Qd(s,o,a,c){return _(this,arguments,function*(t,e,n,i,r={}){let u=yield Yr(t,e,n,i,r);return"mfaPendingCredential"in u&&tr(t,"multi-factor-auth-required",{_serverResponse:u}),u})}function mO(t,e,n,i){let r=`${e}${n}?${i}`;return t.config.emulator?lT(t.config,r):`${t.config.apiScheme}://${r}`}function Tq(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var GC=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(sa(this.auth,"network-request-failed")),Cq.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Ng(t,e,n){let i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);let r=sa(t,e,i);return r.customData._tokenResponse=n,r}function KP(t){return t!==void 0&&t.enterprise!==void 0}var zC=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Tq(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function Eq(t,e){return _(this,null,function*(){return Yr(t,"GET","/v2/recaptchaConfig",Vs(t,e))})}function Iq(t,e){return _(this,null,function*(){return Yr(t,"POST","/v1/accounts:delete",e)})}function gO(t,e){return _(this,null,function*(){return Yr(t,"POST","/v1/accounts:lookup",e)})}function zd(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function uT(t,e=!1){return _(this,null,function*(){let n=_t(t),i=yield n.getIdToken(e),r=dT(i);ce(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");let s=typeof r.firebase=="object"?r.firebase:void 0,o=s?.sign_in_provider;return{claims:r,token:i,authTime:zd(BC(r.auth_time)),issuedAtTime:zd(BC(r.iat)),expirationTime:zd(BC(r.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function BC(t){return Number(t)*1e3}function dT(t){let[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Lg("JWT malformed, contained fewer than 3 sections"),null;try{let r=Ub(n);return r?JSON.parse(r):(Lg("Failed to decode base64 JWT payload"),null)}catch(r){return Lg("Caught error parsing JWT payload as JSON",r?.toString()),null}}function XP(t){let e=dT(t);return ce(e,"internal-error"),ce(typeof e.exp<"u","internal-error"),ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Jc(t,e,n=!1){return _(this,null,function*(){if(n)return e;try{return yield e}catch(i){throw i instanceof jn&&Sq(i)&&t.auth.currentUser===t&&(yield t.auth.signOut()),i}})}function Sq({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var WC=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>_(this,null,function*(){yield this.iteration()}),n)}iteration(){return _(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var qd=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=zd(this.lastLoginAt),this.creationTime=zd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Hg(t){return _(this,null,function*(){var e;let n=t.auth,i=yield t.getIdToken(),r=yield Jc(t,gO(n,{idToken:i}));ce(r?.users.length,n,"internal-error");let s=r.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?vO(s.providerUserInfo):[],a=Dq(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!a?.length,d=c?u:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new qd(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,f)})}function hT(t){return _(this,null,function*(){let e=_t(t);yield Hg(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function Dq(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function vO(t){return t.map(e=>{var{providerId:n}=e,i=Wa(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function Aq(t,e){return _(this,null,function*(){let n=yield pO(t,{},()=>_(null,null,function*(){let i=Rd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,o=mO(t,r,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",$g.fetch()(o,{method:"POST",headers:a,body:i})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function Fq(t,e){return _(this,null,function*(){return Yr(t,"POST","/v2/accounts:revokeToken",Vs(t,e))})}var Wd=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ce(e.idToken,"internal-error"),ce(typeof e.idToken<"u","internal-error"),ce(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):XP(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ce(e.length!==0,"internal-error");let n=XP(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return _(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return _(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:s}=yield Aq(e,n);this.updateTokensAndExpiration(i,r,Number(s))})}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){let{refreshToken:i,accessToken:r,expirationTime:s}=n,o=new t;return i&&(ce(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),r&&(ce(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(ce(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return zr("not implemented")}};function Ls(t,e){ce(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var el=class t{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,s=Wa(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new WC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new qd(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return _(this,null,function*(){let n=yield Jc(this,this.stsTokenManager.getToken(this.auth,e));return ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return uT(this,e)}reload(){return hT(this)}_assign(e){this!==e&&(ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return _(this,null,function*(){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Hg(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return _(this,null,function*(){if(xi(this.auth.app))return Promise.reject(qr(this.auth));let e=yield this.getIdToken();return yield Jc(this,Iq(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,s,o,a,c,u,d;let f=(i=n.displayName)!==null&&i!==void 0?i:void 0,m=(r=n.email)!==null&&r!==void 0?r:void 0,g=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,w=(o=n.photoURL)!==null&&o!==void 0?o:void 0,E=(a=n.tenantId)!==null&&a!==void 0?a:void 0,D=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,P=(u=n.createdAt)!==null&&u!==void 0?u:void 0,H=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:B,emailVerified:Q,isAnonymous:J,providerData:te,stsTokenManager:I}=n;ce(B&&I,e,"internal-error");let x=Wd.fromJSON(this.name,I);ce(typeof B=="string",e,"internal-error"),Ls(f,e.name),Ls(m,e.name),ce(typeof Q=="boolean",e,"internal-error"),ce(typeof J=="boolean",e,"internal-error"),Ls(g,e.name),Ls(w,e.name),Ls(E,e.name),Ls(D,e.name),Ls(P,e.name),Ls(H,e.name);let b=new t({uid:B,auth:e,email:m,emailVerified:Q,displayName:f,isAnonymous:J,photoURL:w,phoneNumber:g,tenantId:E,stsTokenManager:x,createdAt:P,lastLoginAt:H});return te&&Array.isArray(te)&&(b.providerData=te.map(T=>Object.assign({},T))),D&&(b._redirectEventId=D),b}static _fromIdTokenResponse(e,n,i=!1){return _(this,null,function*(){let r=new Wd;r.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield Hg(s),s})}static _fromGetAccountInfoResponse(e,n,i){return _(this,null,function*(){let r=n.users[0];ce(r.localId!==void 0,"internal-error");let s=r.providerUserInfo!==void 0?vO(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!s?.length,a=new Wd;a.updateFromIdToken(i);let c=new t({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new qd(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!s?.length};return Object.assign(c,u),c})}};var QP=new Map;function Wr(t){Us(t instanceof Function,"Expected a class definition");let e=QP.get(t);return e?(Us(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,QP.set(t,e),e)}var kq=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(this,null,function*(){return!0})}_set(n,i){return _(this,null,function*(){this.storage[n]=i})}_get(n){return _(this,null,function*(){let i=this.storage[n];return i===void 0?null:i})}_remove(n){return _(this,null,function*(){delete this.storage[n]})}_addListener(n,i){}_removeListener(n,i){}}return t.type="NONE",t})(),qC=kq;function Ug(t,e,n){return`firebase:${t}:${e}:${n}`}var Gg=class t{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;let{config:r,name:s}=this.auth;this.fullUserKey=Ug(this.userKey,r.apiKey,s),this.fullPersistenceKey=Ug("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return _(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?el._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return _(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,i="authUser"){return _(this,null,function*(){if(!n.length)return new t(Wr(qC),e,i);let r=(yield Promise.all(n.map(u=>_(null,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=r[0]||Wr(qC),o=Ug(i,e.config.apiKey,e.name),a=null;for(let u of n)try{let d=yield u._get(o);if(d){let f=el._fromJSON(e,d);u!==s&&(a=f),s=u;break}}catch{}let c=r.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new t(s,e,i):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(u=>_(null,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new t(s,e,i))})}};function ZP(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(xO(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_O(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(CO(e))return"Blackberry";if(TO(e))return"Webos";if(yO(e))return"Safari";if((e.includes("chrome/")||wO(e))&&!e.includes("edge/"))return"Chrome";if(bO(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function _O(t=Pt()){return/firefox\//i.test(t)}function yO(t=Pt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wO(t=Pt()){return/crios\//i.test(t)}function xO(t=Pt()){return/iemobile/i.test(t)}function bO(t=Pt()){return/android/i.test(t)}function CO(t=Pt()){return/blackberry/i.test(t)}function TO(t=Pt()){return/webos/i.test(t)}function fT(t=Pt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Mq(t=Pt()){var e;return fT(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Rq(){return k2()&&document.documentMode===10}function EO(t=Pt()){return fT(t)||bO(t)||TO(t)||CO(t)||/windows phone/i.test(t)||xO(t)}function IO(t,e=[]){let n;switch(t){case"Browser":n=ZP(Pt());break;case"Worker":n=`${ZP(Pt())}-${t}`;break;default:n=t}let i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Os}/${i}`}var YC=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let i=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});i.onAbort=n,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){return _(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let i of this.queue)yield i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(let r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function Pq(n){return _(this,arguments,function*(t,e={}){return Yr(t,"GET","/v2/passwordPolicy",Vs(t,e))})}var Oq=6,KC=class{constructor(e){var n,i,r,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Oq,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(i=c.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(r=c.containsLowercaseLetter)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var XC=class{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zg(this),this.idTokenSubscription=new zg(this),this.beforeStateQueue=new YC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Wr(n)),this._initializationPromise=this.queue(()=>_(this,null,function*(){var i,r;if(!this._deleted&&(this.persistenceManager=yield Gg.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return _(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return _(this,null,function*(){try{let n=yield gO(this,{idToken:e}),i=yield el._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return _(this,null,function*(){var n;if(xi(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let i=yield this.assertedPersistence.getCurrentUser(),r=i,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=r?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ce(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return _(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return _(this,null,function*(){try{yield Hg(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=xq()}_delete(){return _(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return _(this,null,function*(){if(xi(this.app))return Promise.reject(qr(this));let n=e?_t(e):null;return n&&ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return _(this,null,function*(){if(!this._deleted)return e&&ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>_(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return _(this,null,function*(){return xi(this.app)?Promise.reject(qr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return xi(this.app)?Promise.reject(qr(this)):this.queue(()=>_(this,null,function*(){yield this.assertedPersistence.setPersistence(Wr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return _(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return _(this,null,function*(){let e=yield Pq(this),n=new KC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Vr("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},n)}})}revokeAccessToken(e){return _(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),yield Fq(this,i)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return _(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return _(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Wr(e)||this._popupRedirectResolver;ce(n,this,"argument-error"),this.redirectPersistenceManager=yield Gg.create(this,[Wr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return _(this,null,function*(){var n,i;return this._isInitialized&&(yield this.queue(()=>_(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return _(this,null,function*(){if(e===this.currentUser)return this.queue(()=>_(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ce(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,i,r);return()=>{o=!0,c()}}else{let c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return _(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=IO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return _(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();i&&(n["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n})}_getAppCheckToken(){return _(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&_q(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function ca(t){return _t(t)}var zg=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=O2(n=>this.observer=n)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Zg={loadJS(){return _(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Nq(t){Zg=t}function SO(t){return Zg.loadJS(t)}function Lq(){return Zg.recaptchaEnterpriseScript}function Uq(){return Zg.gapiScript}function DO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var Vq="recaptcha-enterprise",Bq="NO_RECAPTCHA",QC=class{constructor(e){this.type=Vq,this.auth=ca(e)}verify(e="verify",n=!1){return _(this,null,function*(){function i(s){return _(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>_(null,null,function*(){Eq(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let u=new zC(c);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(c=>{a(c)})}))})}function r(s,o,a){let c=window.grecaptcha;KP(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(Bq)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{i(this.auth).then(a=>{if(!n&&KP(window.grecaptcha))r(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=Lq();c.length!==0&&(c+=a),SO(c).then(()=>{r(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})})}};function JP(t,e,n,i=!1){return _(this,null,function*(){let r=new QC(t),s;try{s=yield r.verify(n)}catch{s=yield r.verify(n,!0)}let o=Object.assign({},e);return i?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function ZC(t,e,n,i){return _(this,null,function*(){var r;if(!((r=t._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield JP(t,e,n,n==="getOobCode");return i(t,s)}else return i(t,e).catch(s=>_(null,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield JP(t,e,n,n==="getOobCode");return i(t,o)}else return Promise.reject(s)}))})}function pT(t,e){let n=Nd(t,"auth");if(n.isInitialized()){let r=n.getImmediate(),s=n.getOptions();if(Yo(s,e??{}))return r;tr(r,"already-initialized")}return n.initialize({options:e})}function jq(t,e){let n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(Wr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function mT(t,e,n){let i=ca(t);ce(i._canInitEmulator,i,"emulator-config-failed"),ce(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");let r=!!n?.disableWarnings,s=AO(e),{host:o,port:a}=$q(e),c=a===null?"":`:${a}`;i.config.emulator={url:`${s}//${o}${c}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||Hq()}function AO(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function $q(t){let e=AO(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){let s=r[1];return{host:s,port:eO(i.substr(s.length+1))}}else{let[s,o]=i.split(":");return{host:s,port:eO(o)}}}function eO(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function Hq(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Yd=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return zr("not implemented")}_getIdTokenResponse(e){return zr("not implemented")}_linkToIdToken(e,n){return zr("not implemented")}_getReauthenticationResolver(e){return zr("not implemented")}};function Gq(t,e){return _(this,null,function*(){return Yr(t,"POST","/v1/accounts:signUp",e)})}function zq(t,e){return _(this,null,function*(){return Qd(t,"POST","/v1/accounts:signInWithPassword",Vs(t,e))})}function Wq(t,e){return _(this,null,function*(){return Qd(t,"POST","/v1/accounts:signInWithEmailLink",Vs(t,e))})}function qq(t,e){return _(this,null,function*(){return Qd(t,"POST","/v1/accounts:signInWithEmailLink",Vs(t,e))})}var Kd=class t extends Yd{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new t(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return _(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ZC(e,n,"signInWithPassword",zq);case"emailLink":return Wq(e,{email:this._email,oobCode:this._password});default:tr(e,"internal-error")}})}_linkToIdToken(e,n){return _(this,null,function*(){switch(this.signInMethod){case"password":let i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ZC(e,i,"signUpPassword",Gq);case"emailLink":return qq(e,{idToken:n,email:this._email,oobCode:this._password});default:tr(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function jC(t,e){return _(this,null,function*(){return Qd(t,"POST","/v1/accounts:signInWithIdp",Vs(t,e))})}function Yq(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Kq(t){let e=Lc(Uc(t)).link,n=e?Lc(Uc(e)).deep_link_id:null,i=Lc(Uc(t)).deep_link_id;return(i?Lc(Uc(i)).link:null)||i||n||e||t}var Wg=class t{constructor(e){var n,i,r,s,o,a;let c=Lc(Uc(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,d=(i=c.oobCode)!==null&&i!==void 0?i:null,f=Yq((r=c.mode)!==null&&r!==void 0?r:null);ce(u&&d&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=d,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=Kq(e);try{return new t(n)}catch{return null}}};var FO=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,i){return Kd._fromEmailAndPassword(n,i)}static credentialWithLink(n,i){let r=Wg.parseLink(i);return ce(r,"argument-error"),Kd._fromEmailAndCode(n,r.code,r.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),qg=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var JC=class extends qg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function Xq(t,e){return _(this,null,function*(){return Qd(t,"POST","/v1/accounts:signUp",Vs(t,e))})}var tl=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,i,r=!1){return _(this,null,function*(){let s=yield el._fromIdTokenResponse(e,i,r),o=tO(i);return new t({user:s,providerId:o,_tokenResponse:i,operationType:n})})}static _forOperation(e,n,i){return _(this,null,function*(){yield e._updateTokensIfNecessary(i,!0);let r=tO(i);return new t({user:e,providerId:r,_tokenResponse:i,operationType:n})})}};function tO(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var eT=class t extends jn{constructor(e,n,i,r){var s;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new t(e,n,i,r)}};function kO(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?eT._fromErrorAndOperation(t,s,e,i):s})}function Qq(t,e,n=!1){return _(this,null,function*(){let i=yield Jc(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return tl._forOperation(t,"link",i)})}function Zq(t,e,n=!1){return _(this,null,function*(){let{auth:i}=t;if(xi(i.app))return Promise.reject(qr(i));let r="reauthenticate";try{let s=yield Jc(t,kO(i,r,e,t),n);ce(s.idToken,i,"internal-error");let o=dT(s.idToken);ce(o,i,"internal-error");let{sub:a}=o;return ce(t.uid===a,i,"user-mismatch"),tl._forOperation(t,r,s)}catch(s){throw s?.code==="auth/user-not-found"&&tr(i,"user-mismatch"),s}})}function MO(t,e,n=!1){return _(this,null,function*(){if(xi(t.app))return Promise.reject(qr(t));let i="signIn",r=yield kO(t,i,e),s=yield tl._fromIdTokenResponse(t,i,r);return n||(yield t._updateCurrentUser(s.user)),s})}function gT(t,e){return _(this,null,function*(){return MO(ca(t),e)})}function RO(t){return _(this,null,function*(){let e=ca(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function vT(t,e,n){return _(this,null,function*(){if(xi(t.app))return Promise.reject(qr(t));let i=ca(t),o=yield ZC(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Xq).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&RO(t),c}),a=yield tl._fromIdTokenResponse(i,"signIn",o);return yield i._updateCurrentUser(a.user),a})}function _T(t,e,n){return xi(t.app)?Promise.reject(qr(t)):gT(_t(t),FO.credential(e,n)).catch(i=>_(null,null,function*(){throw i.code==="auth/password-does-not-meet-requirements"&&RO(t),i}))}function Jq(t,e){return _(this,null,function*(){return Yr(t,"POST","/v1/accounts:update",e)})}function yT(i,r){return _(this,arguments,function*(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;let s=_t(t),a={idToken:yield s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=yield Jc(s,Jq(s.auth,a));s.displayName=c.displayName||null,s.photoURL=c.photoUrl||null;let u=s.providerData.find(({providerId:d})=>d==="password");u&&(u.displayName=s.displayName,u.photoURL=s.photoURL),yield s._updateTokensIfNecessary(c)})}function wT(t,e,n,i){return _t(t).onIdTokenChanged(e,n,i)}function xT(t,e,n){return _t(t).beforeAuthStateChanged(e,n)}function bT(t){return _t(t).signOut()}var Yg="__sak";var Kg=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Yg,"1"),this.storage.removeItem(Yg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var eY=1e3,tY=10,nY=(()=>{class t extends Kg{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,i)=>this.onStorageEvent(n,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=EO(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let i of Object.keys(this.listeners)){let r=this.storage.getItem(i),s=this.localCache[i];r!==s&&n(i,s,r)}}onStorageEvent(n,i=!1){if(!n.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let r=n.key;i?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(r);!i&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);Rq()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,tY):s()}notifyListeners(n,i){this.localCache[n]=i;let r=this.listeners[n];if(r)for(let s of Array.from(r))s(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:i,newValue:r}),!0)})},eY)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(i)}_removeListener(n,i){this.listeners[n]&&(this.listeners[n].delete(i),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,i){return _(this,null,function*(){yield mr(t.prototype,this,"_set").call(this,n,i),this.localCache[n]=JSON.stringify(i)})}_get(n){return _(this,null,function*(){let i=yield mr(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(i),i})}_remove(n){return _(this,null,function*(){yield mr(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),PO=nY;var iY=(()=>{class t extends Kg{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,i){}_removeListener(n,i){}}return t.type="SESSION",t})(),CT=iY;function rY(t){return Promise.all(t.map(e=>_(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var sY=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let i=this.receivers.find(s=>s.isListeningto(n));if(i)return i;let r=new t(n);return this.receivers.push(r),r}isListeningto(n){return this.eventTarget===n}handleEvent(n){return _(this,null,function*(){let i=n,{eventId:r,eventType:s,data:o}=i.data,a=this.handlersMap[s];if(!a?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:s});let c=Array.from(a).map(d=>_(this,null,function*(){return d(i.origin,o)})),u=yield rY(c);i.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:u})})}_subscribe(n,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(i)}_unsubscribe(n,i){this.handlersMap[n]&&i&&this.handlersMap[n].delete(i),(!i||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function OO(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}var tT=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,i=50){return _(this,null,function*(){let r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{let u=OO("",20);r.port1.start();let d=setTimeout(()=>{c(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(f){let m=f;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(d),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function er(){return window}function oY(t){er().location.href=t}function NO(){return typeof er().WorkerGlobalScope<"u"&&typeof er().importScripts=="function"}function aY(){return _(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function cY(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function lY(){return NO()?self:null}var LO="firebaseLocalStorageDb",uY=1,Xg="firebaseLocalStorage",UO="fbase_key",aa=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Jg(t,e){return t.transaction([Xg],e?"readwrite":"readonly").objectStore(Xg)}function dY(){let t=indexedDB.deleteDatabase(LO);return new aa(t).toPromise()}function nT(){let t=indexedDB.open(LO,uY);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let i=t.result;try{i.createObjectStore(Xg,{keyPath:UO})}catch(r){n(r)}}),t.addEventListener("success",()=>_(null,null,function*(){let i=t.result;i.objectStoreNames.contains(Xg)?e(i):(i.close(),yield dY(),e(yield nT()))}))})}function nO(t,e,n){return _(this,null,function*(){let i=Jg(t,!0).put({[UO]:e,value:n});return new aa(i).toPromise()})}function hY(t,e){return _(this,null,function*(){let n=Jg(t,!1).get(e),i=yield new aa(n).toPromise();return i===void 0?null:i.value})}function iO(t,e){let n=Jg(t,!0).delete(e);return new aa(n).toPromise()}var fY=800,pY=3,mY=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return _(this,null,function*(){return this.db?this.db:(this.db=yield nT(),this.db)})}_withRetries(n){return _(this,null,function*(){let i=0;for(;;)try{let r=yield this._openDb();return yield n(r)}catch(r){if(i++>pY)throw r;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return _(this,null,function*(){return NO()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return _(this,null,function*(){this.receiver=sY._getInstance(lY()),this.receiver._subscribe("keyChanged",(n,i)=>_(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(i.key)}})),this.receiver._subscribe("ping",(n,i)=>_(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return _(this,null,function*(){var n,i;if(this.activeServiceWorker=yield aY(),!this.activeServiceWorker)return;this.sender=new tT(this.activeServiceWorker);let r=yield this.sender._send("ping",{},800);r&&!((n=r[0])===null||n===void 0)&&n.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return _(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||cY()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return _(this,null,function*(){try{if(!indexedDB)return!1;let n=yield nT();return yield nO(n,Yg,"1"),yield iO(n,Yg),!0}catch{}return!1})}_withPendingWrite(n){return _(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,i){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(r=>nO(r,n,i)),this.localCache[n]=i,this.notifyServiceWorker(n)}))})}_get(n){return _(this,null,function*(){let i=yield this._withRetries(r=>hY(r,n));return this.localCache[n]=i,i})}_remove(n){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(i=>iO(i,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return _(this,null,function*(){let n=yield this._withRetries(s=>{let o=Jg(s,!1).getAll();return new aa(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let i=[],r=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),i.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),i.push(s));return i})}notifyListeners(n,i){this.localCache[n]=i;let r=this.listeners[n];if(r)for(let s of Array.from(r))s(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>_(this,null,function*(){return this._poll()}),fY)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(i)}_removeListener(n,i){this.listeners[n]&&(this.listeners[n].delete(i),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),VO=mY;var cve=DO("rcb"),lve=new oa(3e4,6e4);function gY(t,e){return e?Wr(e):(ce(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Xd=class extends Yd{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return jC(e,this._buildIdpRequest())}_linkToIdToken(e,n){return jC(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return jC(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function vY(t){return MO(t.auth,new Xd(t),t.bypassAuthState)}function _Y(t){let{auth:e,user:n}=t;return ce(n,e,"internal-error"),Zq(n,new Xd(t),t.bypassAuthState)}function yY(t){return _(this,null,function*(){let{auth:e,user:n}=t;return ce(n,e,"internal-error"),Qq(n,new Xd(t),t.bypassAuthState)})}var iT=class{constructor(e,n,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>_(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}}))}onAuthEvent(e){return _(this,null,function*(){let{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return vY;case"linkViaPopup":case"linkViaRedirect":return yY;case"reauthViaPopup":case"reauthViaRedirect":return _Y;default:tr(this.auth,"internal-error")}}resolve(e){Us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var uve=new oa(2e3,1e4);var wY="pendingRedirect",Vg=new Map,rT=class t extends iT{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}execute(){return _(this,null,function*(){let e=Vg.get(this.auth._key());if(!e){try{let i=(yield xY(this.resolver,this.auth))?yield mr(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Vg.set(this.auth._key(),e)}return this.bypassAuthState||Vg.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return _(this,null,function*(){if(e.type==="signInViaRedirect")return mr(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,mr(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return _(this,null,function*(){})}cleanUp(){}};function xY(t,e){return _(this,null,function*(){let n=TY(e),i=CY(t);if(!(yield i._isAvailable()))return!1;let r=(yield i._get(n))==="true";return yield i._remove(n),r})}function bY(t,e){Vg.set(t._key(),e)}function CY(t){return Wr(t._redirectPersistence)}function TY(t){return Ug(wY,t.config.apiKey,t.name)}function EY(t,e,n=!1){return _(this,null,function*(){if(xi(t.app))return Promise.reject(qr(t));let i=ca(t),r=gY(i,e),o=yield new rT(i,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield i._persistUserIfCurrent(o.user),yield i._setRedirectUser(null,e)),o})}var IY=10*60*1e3,sT=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!SY(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!BO(e)){let r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(sa(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=IY&&this.cachedEventUids.clear(),this.cachedEventUids.has(rO(e))}saveEventToCache(e){this.cachedEventUids.add(rO(e)),this.lastProcessedEventTime=Date.now()}};function rO(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function BO({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function SY(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return BO(t);default:return!1}}function DY(n){return _(this,arguments,function*(t,e={}){return Yr(t,"GET","/v1/projects",e)})}var AY=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,FY=/^https?/;function kY(t){return _(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield DY(t);for(let n of e)try{if(MY(n))return}catch{}tr(t,"unauthorized-domain")})}function MY(t){let e=HC(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===i}if(!FY.test(n))return!1;if(AY.test(t))return i===t;let r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}var RY=new oa(3e4,6e4);function sO(){let t=er().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function PY(t){return new Promise((e,n)=>{var i,r,s;function o(){sO(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{sO(),n(sa(t,"network-request-failed"))},timeout:RY.get()})}if(!((r=(i=er().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=er().gapi)===null||s===void 0)&&s.load)o();else{let a=DO("iframefcb");return er()[a]=()=>{gapi.load?o():n(sa(t,"network-request-failed"))},SO(`${Uq()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw Bg=null,e})}var Bg=null;function OY(t){return Bg=Bg||PY(t),Bg}var NY=new oa(5e3,15e3),LY="__/auth/iframe",UY="emulator/auth/iframe",VY={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},BY=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jY(t){let e=t.config;ce(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?lT(e,UY):`https://${t.config.authDomain}/${LY}`,i={apiKey:e.apiKey,appName:t.name,v:Os},r=BY.get(t.config.apiHost);r&&(i.eid=r);let s=t._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${Rd(i).slice(1)}`}function $Y(t){return _(this,null,function*(){let e=yield OY(t),n=er().gapi;return ce(n,t,"internal-error"),e.open({where:document.body,url:jY(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:VY,dontclear:!0},i=>new Promise((r,s)=>_(null,null,function*(){yield i.restyle({setHideOnLeave:!1});let o=sa(t,"network-request-failed"),a=er().setTimeout(()=>{s(o)},NY.get());function c(){er().clearTimeout(a),r(i)}i.ping(c).then(c,()=>{s(o)})})))})}var HY={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},GY=500,zY=600,WY="_blank",qY="http://localhost",Qg=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function YY(t,e,n,i=GY,r=zY){let s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString(),a="",c=Object.assign(Object.assign({},HY),{width:i.toString(),height:r.toString(),top:s,left:o}),u=Pt().toLowerCase();n&&(a=wO(u)?WY:n),_O(u)&&(e=e||qY,c.scrollbars="yes");let d=Object.entries(c).reduce((m,[g,w])=>`${m}${g}=${w},`,"");if(Mq(u)&&a!=="_self")return KY(e||"",a),new Qg(null);let f=window.open(e||"",a,d);ce(f,t,"popup-blocked");try{f.focus()}catch{}return new Qg(f)}function KY(t,e){let n=document.createElement("a");n.href=t,n.target=e;let i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}var XY="__/auth/handler",QY="emulator/auth/handler",ZY=encodeURIComponent("fac");function oO(t,e,n,i,r,s){return _(this,null,function*(){ce(t.config.authDomain,t,"auth-domain-config-required"),ce(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Os,eventId:r};if(e instanceof qg){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",P2(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[d,f]of Object.entries(s||{}))o[d]=f}if(e instanceof JC){let d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let d of Object.keys(a))a[d]===void 0&&delete a[d];let c=yield t._getAppCheckToken(),u=c?`#${ZY}=${encodeURIComponent(c)}`:"";return`${JY(t)}?${Rd(a).slice(1)}${u}`})}function JY({config:t}){return t.emulator?lT(t,QY):`https://${t.authDomain}/${XY}`}var $C="webStorageSupport",oT=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=CT,this._completeRedirectFn=EY,this._overrideRedirectResult=bY}_openPopup(e,n,i,r){return _(this,null,function*(){var s;Us((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield oO(e,n,i,HC(),r);return YY(e,o,OO())})}_openRedirect(e,n,i,r){return _(this,null,function*(){yield this._originValidation(e);let s=yield oO(e,n,i,HC(),r);return oY(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(Us(s,"If manager is not set, promise should be"),s)}let i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}initAndGetManager(e){return _(this,null,function*(){let n=yield $Y(e),i=new sT(e);return n.register("authEvent",r=>(ce(r?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send($C,{type:$C},r=>{var s;let o=(s=r?.[0])===null||s===void 0?void 0:s[$C];o!==void 0&&n(!!o),tr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=kY(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return EO()||yO()||fT()}},jO=oT;var aO="@firebase/auth",cO="1.7.9";var aT=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return _(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function eK(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tK(t){Ps(new si("auth",(e,{options:n})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;ce(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});let c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:IO(t)},u=new XC(i,r,s,c);return jq(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Ps(new si("auth-internal",e=>{let n=ca(e.getProvider("auth").getImmediate());return(i=>new aT(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Dt(aO,cO,eK(t)),Dt(aO,cO,"esm2017")}var nK=5*60,iK=jb("authIdTokenMaxAge")||nK,lO=null,rK=t=>e=>_(null,null,function*(){let n=e&&(yield e.getIdTokenResult()),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>iK)return;let r=n?.token;lO!==r&&(lO=r,yield fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});function TT(t=Vc()){let e=Nd(t,"auth");if(e.isInitialized())return e.getImmediate();let n=pT(t,{popupRedirectResolver:jO,persistence:[VO,PO,CT]}),i=jb("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(i,location.origin);if(location.origin===s.origin){let o=rK(s.toString());xT(n,o,()=>o(n.currentUser)),wT(n,a=>o(a))}}let r=Vb("auth");return r&&mT(n,`http://${r}`),n}function sK(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Nq({loadJS(t){return new Promise((e,n)=>{let i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{let s=sa("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",sK().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tK("Browser");var $O="auth",Kr=class{constructor(e){return e}},Zd=class{constructor(){return Vd($O)}};var ET=new W("angularfire2.auth-instances");function YK(t,e){let n=xg($O,t,e);return n&&new Kr(n)}function KK(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new Kr(i)}}var XK={provide:Zd,deps:[[new bn,ET]]},QK={provide:Kr,useFactory:YK,deps:[[new bn,ET],jr]};function HO(t,...e){return Dt("angularfire",Jo.full,"auth"),pi([QK,XK,{provide:ET,useFactory:KK(t),multi:!0,deps:[Oe,Ke,Yc,ea,[new bn,qc],...e]}])}var GO=yt(qP,!0);var zO=yt(vT,!0);var WO=yt(TT,!0);var qO=yt(_T,!0);var YO=yt(bT,!0);var KO=yt(yT,!0);var XO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},QO={};var Bs,IT;(function(){var t;function e(I,x){function b(){}b.prototype=x.prototype,I.D=x.prototype,I.prototype=new b,I.prototype.constructor=I,I.C=function(T,C,S){for(var y=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)y[ue-2]=arguments[ue];return x.prototype[C].apply(T,y)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(I,x,b){b||(b=0);var T=Array(16);if(typeof x=="string")for(var C=0;16>C;++C)T[C]=x.charCodeAt(b++)|x.charCodeAt(b++)<<8|x.charCodeAt(b++)<<16|x.charCodeAt(b++)<<24;else for(C=0;16>C;++C)T[C]=x[b++]|x[b++]<<8|x[b++]<<16|x[b++]<<24;x=I.g[0],b=I.g[1],C=I.g[2];var S=I.g[3],y=x+(S^b&(C^S))+T[0]+3614090360&4294967295;x=b+(y<<7&4294967295|y>>>25),y=S+(C^x&(b^C))+T[1]+3905402710&4294967295,S=x+(y<<12&4294967295|y>>>20),y=C+(b^S&(x^b))+T[2]+606105819&4294967295,C=S+(y<<17&4294967295|y>>>15),y=b+(x^C&(S^x))+T[3]+3250441966&4294967295,b=C+(y<<22&4294967295|y>>>10),y=x+(S^b&(C^S))+T[4]+4118548399&4294967295,x=b+(y<<7&4294967295|y>>>25),y=S+(C^x&(b^C))+T[5]+1200080426&4294967295,S=x+(y<<12&4294967295|y>>>20),y=C+(b^S&(x^b))+T[6]+2821735955&4294967295,C=S+(y<<17&4294967295|y>>>15),y=b+(x^C&(S^x))+T[7]+4249261313&4294967295,b=C+(y<<22&4294967295|y>>>10),y=x+(S^b&(C^S))+T[8]+1770035416&4294967295,x=b+(y<<7&4294967295|y>>>25),y=S+(C^x&(b^C))+T[9]+2336552879&4294967295,S=x+(y<<12&4294967295|y>>>20),y=C+(b^S&(x^b))+T[10]+4294925233&4294967295,C=S+(y<<17&4294967295|y>>>15),y=b+(x^C&(S^x))+T[11]+2304563134&4294967295,b=C+(y<<22&4294967295|y>>>10),y=x+(S^b&(C^S))+T[12]+1804603682&4294967295,x=b+(y<<7&4294967295|y>>>25),y=S+(C^x&(b^C))+T[13]+4254626195&4294967295,S=x+(y<<12&4294967295|y>>>20),y=C+(b^S&(x^b))+T[14]+2792965006&4294967295,C=S+(y<<17&4294967295|y>>>15),y=b+(x^C&(S^x))+T[15]+1236535329&4294967295,b=C+(y<<22&4294967295|y>>>10),y=x+(C^S&(b^C))+T[1]+4129170786&4294967295,x=b+(y<<5&4294967295|y>>>27),y=S+(b^C&(x^b))+T[6]+3225465664&4294967295,S=x+(y<<9&4294967295|y>>>23),y=C+(x^b&(S^x))+T[11]+643717713&4294967295,C=S+(y<<14&4294967295|y>>>18),y=b+(S^x&(C^S))+T[0]+3921069994&4294967295,b=C+(y<<20&4294967295|y>>>12),y=x+(C^S&(b^C))+T[5]+3593408605&4294967295,x=b+(y<<5&4294967295|y>>>27),y=S+(b^C&(x^b))+T[10]+38016083&4294967295,S=x+(y<<9&4294967295|y>>>23),y=C+(x^b&(S^x))+T[15]+3634488961&4294967295,C=S+(y<<14&4294967295|y>>>18),y=b+(S^x&(C^S))+T[4]+3889429448&4294967295,b=C+(y<<20&4294967295|y>>>12),y=x+(C^S&(b^C))+T[9]+568446438&4294967295,x=b+(y<<5&4294967295|y>>>27),y=S+(b^C&(x^b))+T[14]+3275163606&4294967295,S=x+(y<<9&4294967295|y>>>23),y=C+(x^b&(S^x))+T[3]+4107603335&4294967295,C=S+(y<<14&4294967295|y>>>18),y=b+(S^x&(C^S))+T[8]+1163531501&4294967295,b=C+(y<<20&4294967295|y>>>12),y=x+(C^S&(b^C))+T[13]+2850285829&4294967295,x=b+(y<<5&4294967295|y>>>27),y=S+(b^C&(x^b))+T[2]+4243563512&4294967295,S=x+(y<<9&4294967295|y>>>23),y=C+(x^b&(S^x))+T[7]+1735328473&4294967295,C=S+(y<<14&4294967295|y>>>18),y=b+(S^x&(C^S))+T[12]+2368359562&4294967295,b=C+(y<<20&4294967295|y>>>12),y=x+(b^C^S)+T[5]+4294588738&4294967295,x=b+(y<<4&4294967295|y>>>28),y=S+(x^b^C)+T[8]+2272392833&4294967295,S=x+(y<<11&4294967295|y>>>21),y=C+(S^x^b)+T[11]+1839030562&4294967295,C=S+(y<<16&4294967295|y>>>16),y=b+(C^S^x)+T[14]+4259657740&4294967295,b=C+(y<<23&4294967295|y>>>9),y=x+(b^C^S)+T[1]+2763975236&4294967295,x=b+(y<<4&4294967295|y>>>28),y=S+(x^b^C)+T[4]+1272893353&4294967295,S=x+(y<<11&4294967295|y>>>21),y=C+(S^x^b)+T[7]+4139469664&4294967295,C=S+(y<<16&4294967295|y>>>16),y=b+(C^S^x)+T[10]+3200236656&4294967295,b=C+(y<<23&4294967295|y>>>9),y=x+(b^C^S)+T[13]+681279174&4294967295,x=b+(y<<4&4294967295|y>>>28),y=S+(x^b^C)+T[0]+3936430074&4294967295,S=x+(y<<11&4294967295|y>>>21),y=C+(S^x^b)+T[3]+3572445317&4294967295,C=S+(y<<16&4294967295|y>>>16),y=b+(C^S^x)+T[6]+76029189&4294967295,b=C+(y<<23&4294967295|y>>>9),y=x+(b^C^S)+T[9]+3654602809&4294967295,x=b+(y<<4&4294967295|y>>>28),y=S+(x^b^C)+T[12]+3873151461&4294967295,S=x+(y<<11&4294967295|y>>>21),y=C+(S^x^b)+T[15]+530742520&4294967295,C=S+(y<<16&4294967295|y>>>16),y=b+(C^S^x)+T[2]+3299628645&4294967295,b=C+(y<<23&4294967295|y>>>9),y=x+(C^(b|~S))+T[0]+4096336452&4294967295,x=b+(y<<6&4294967295|y>>>26),y=S+(b^(x|~C))+T[7]+1126891415&4294967295,S=x+(y<<10&4294967295|y>>>22),y=C+(x^(S|~b))+T[14]+2878612391&4294967295,C=S+(y<<15&4294967295|y>>>17),y=b+(S^(C|~x))+T[5]+4237533241&4294967295,b=C+(y<<21&4294967295|y>>>11),y=x+(C^(b|~S))+T[12]+1700485571&4294967295,x=b+(y<<6&4294967295|y>>>26),y=S+(b^(x|~C))+T[3]+2399980690&4294967295,S=x+(y<<10&4294967295|y>>>22),y=C+(x^(S|~b))+T[10]+4293915773&4294967295,C=S+(y<<15&4294967295|y>>>17),y=b+(S^(C|~x))+T[1]+2240044497&4294967295,b=C+(y<<21&4294967295|y>>>11),y=x+(C^(b|~S))+T[8]+1873313359&4294967295,x=b+(y<<6&4294967295|y>>>26),y=S+(b^(x|~C))+T[15]+4264355552&4294967295,S=x+(y<<10&4294967295|y>>>22),y=C+(x^(S|~b))+T[6]+2734768916&4294967295,C=S+(y<<15&4294967295|y>>>17),y=b+(S^(C|~x))+T[13]+1309151649&4294967295,b=C+(y<<21&4294967295|y>>>11),y=x+(C^(b|~S))+T[4]+4149444226&4294967295,x=b+(y<<6&4294967295|y>>>26),y=S+(b^(x|~C))+T[11]+3174756917&4294967295,S=x+(y<<10&4294967295|y>>>22),y=C+(x^(S|~b))+T[2]+718787259&4294967295,C=S+(y<<15&4294967295|y>>>17),y=b+(S^(C|~x))+T[9]+3951481745&4294967295,I.g[0]=I.g[0]+x&4294967295,I.g[1]=I.g[1]+(C+(y<<21&4294967295|y>>>11))&4294967295,I.g[2]=I.g[2]+C&4294967295,I.g[3]=I.g[3]+S&4294967295}i.prototype.u=function(I,x){x===void 0&&(x=I.length);for(var b=x-this.blockSize,T=this.B,C=this.h,S=0;S<x;){if(C==0)for(;S<=b;)r(this,I,S),S+=this.blockSize;if(typeof I=="string"){for(;S<x;)if(T[C++]=I.charCodeAt(S++),C==this.blockSize){r(this,T),C=0;break}}else for(;S<x;)if(T[C++]=I[S++],C==this.blockSize){r(this,T),C=0;break}}this.h=C,this.o+=x},i.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var x=1;x<I.length-8;++x)I[x]=0;var b=8*this.o;for(x=I.length-8;x<I.length;++x)I[x]=b&255,b/=256;for(this.u(I),I=Array(16),x=b=0;4>x;++x)for(var T=0;32>T;T+=8)I[b++]=this.g[x]>>>T&255;return I};function s(I,x){var b=a;return Object.prototype.hasOwnProperty.call(b,I)?b[I]:b[I]=x(I)}function o(I,x){this.h=x;for(var b=[],T=!0,C=I.length-1;0<=C;C--){var S=I[C]|0;T&&S==x||(b[C]=S,T=!1)}this.g=b}var a={};function c(I){return-128<=I&&128>I?s(I,function(x){return new o([x|0],0>x?-1:0)}):new o([I|0],0>I?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return f;if(0>I)return D(u(-I));for(var x=[],b=1,T=0;I>=b;T++)x[T]=I/b|0,b*=4294967296;return new o(x,0)}function d(I,x){if(I.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(I.charAt(0)=="-")return D(d(I.substring(1),x));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=u(Math.pow(x,8)),T=f,C=0;C<I.length;C+=8){var S=Math.min(8,I.length-C),y=parseInt(I.substring(C,C+S),x);8>S?(S=u(Math.pow(x,S)),T=T.j(S).add(u(y))):(T=T.j(b),T=T.add(u(y)))}return T}var f=c(0),m=c(1),g=c(16777216);t=o.prototype,t.m=function(){if(E(this))return-D(this).m();for(var I=0,x=1,b=0;b<this.g.length;b++){var T=this.i(b);I+=(0<=T?T:4294967296+T)*x,x*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(w(this))return"0";if(E(this))return"-"+D(this).toString(I);for(var x=u(Math.pow(I,6)),b=this,T="";;){var C=Q(b,x).g;b=P(b,C.j(x));var S=((0<b.g.length?b.g[0]:b.h)>>>0).toString(I);if(b=C,w(b))return S+T;for(;6>S.length;)S="0"+S;T=S+T}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function w(I){if(I.h!=0)return!1;for(var x=0;x<I.g.length;x++)if(I.g[x]!=0)return!1;return!0}function E(I){return I.h==-1}t.l=function(I){return I=P(this,I),E(I)?-1:w(I)?0:1};function D(I){for(var x=I.g.length,b=[],T=0;T<x;T++)b[T]=~I.g[T];return new o(b,~I.h).add(m)}t.abs=function(){return E(this)?D(this):this},t.add=function(I){for(var x=Math.max(this.g.length,I.g.length),b=[],T=0,C=0;C<=x;C++){var S=T+(this.i(C)&65535)+(I.i(C)&65535),y=(S>>>16)+(this.i(C)>>>16)+(I.i(C)>>>16);T=y>>>16,S&=65535,y&=65535,b[C]=y<<16|S}return new o(b,b[b.length-1]&-2147483648?-1:0)};function P(I,x){return I.add(D(x))}t.j=function(I){if(w(this)||w(I))return f;if(E(this))return E(I)?D(this).j(D(I)):D(D(this).j(I));if(E(I))return D(this.j(D(I)));if(0>this.l(g)&&0>I.l(g))return u(this.m()*I.m());for(var x=this.g.length+I.g.length,b=[],T=0;T<2*x;T++)b[T]=0;for(T=0;T<this.g.length;T++)for(var C=0;C<I.g.length;C++){var S=this.i(T)>>>16,y=this.i(T)&65535,ue=I.i(C)>>>16,Wt=I.i(C)&65535;b[2*T+2*C]+=y*Wt,H(b,2*T+2*C),b[2*T+2*C+1]+=S*Wt,H(b,2*T+2*C+1),b[2*T+2*C+1]+=y*ue,H(b,2*T+2*C+1),b[2*T+2*C+2]+=S*ue,H(b,2*T+2*C+2)}for(T=0;T<x;T++)b[T]=b[2*T+1]<<16|b[2*T];for(T=x;T<2*x;T++)b[T]=0;return new o(b,0)};function H(I,x){for(;(I[x]&65535)!=I[x];)I[x+1]+=I[x]>>>16,I[x]&=65535,x++}function B(I,x){this.g=I,this.h=x}function Q(I,x){if(w(x))throw Error("division by zero");if(w(I))return new B(f,f);if(E(I))return x=Q(D(I),x),new B(D(x.g),D(x.h));if(E(x))return x=Q(I,D(x)),new B(D(x.g),x.h);if(30<I.g.length){if(E(I)||E(x))throw Error("slowDivide_ only works with positive integers.");for(var b=m,T=x;0>=T.l(I);)b=J(b),T=J(T);var C=te(b,1),S=te(T,1);for(T=te(T,2),b=te(b,2);!w(T);){var y=S.add(T);0>=y.l(I)&&(C=C.add(b),S=y),T=te(T,1),b=te(b,1)}return x=P(I,C.j(x)),new B(C,x)}for(C=f;0<=I.l(x);){for(b=Math.max(1,Math.floor(I.m()/x.m())),T=Math.ceil(Math.log(b)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),S=u(b),y=S.j(x);E(y)||0<y.l(I);)b-=T,S=u(b),y=S.j(x);w(S)&&(S=m),C=C.add(S),I=P(I,y)}return new B(C,I)}t.A=function(I){return Q(this,I).h},t.and=function(I){for(var x=Math.max(this.g.length,I.g.length),b=[],T=0;T<x;T++)b[T]=this.i(T)&I.i(T);return new o(b,this.h&I.h)},t.or=function(I){for(var x=Math.max(this.g.length,I.g.length),b=[],T=0;T<x;T++)b[T]=this.i(T)|I.i(T);return new o(b,this.h|I.h)},t.xor=function(I){for(var x=Math.max(this.g.length,I.g.length),b=[],T=0;T<x;T++)b[T]=this.i(T)^I.i(T);return new o(b,this.h^I.h)};function J(I){for(var x=I.g.length+1,b=[],T=0;T<x;T++)b[T]=I.i(T)<<1|I.i(T-1)>>>31;return new o(b,I.h)}function te(I,x){var b=x>>5;x%=32;for(var T=I.g.length-b,C=[],S=0;S<T;S++)C[S]=0<x?I.i(S+b)>>>x|I.i(S+b+1)<<32-x:I.i(S+b);return new o(C,I.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,IT=QO.Md5=i,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,Bs=QO.Integer=o}).apply(typeof XO<"u"?XO:typeof self<"u"?self:typeof window<"u"?window:{});var e0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Xr={};var ST,JK,nl,DT,Jd,t0,AT,FT,kT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,h,p){return l==Array.prototype||l==Object.prototype||(l[h]=p.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof e0=="object"&&e0];for(var h=0;h<l.length;++h){var p=l[h];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var i=n(this);function r(l,h){if(h)e:{var p=i;l=l.split(".");for(var v=0;v<l.length-1;v++){var A=l[v];if(!(A in p))break e;p=p[A]}l=l[l.length-1],v=p[l],h=h(v),h!=v&&h!=null&&e(p,l,{configurable:!0,writable:!0,value:h})}}function s(l,h){l instanceof String&&(l+="");var p=0,v=!1,A={next:function(){if(!v&&p<l.length){var M=p++;return{value:h(M,l[M]),done:!1}}return v=!0,{done:!0,value:void 0}}};return A[Symbol.iterator]=function(){return A},A}r("Array.prototype.values",function(l){return l||function(){return s(this,function(h,p){return p})}});var o=o||{},a=this||self;function c(l){var h=typeof l;return h=h!="object"?h:l?Array.isArray(l)?"array":h:"null",h=="array"||h=="object"&&typeof l.length=="number"}function u(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function d(l,h,p){return l.call.apply(l.bind,arguments)}function f(l,h,p){if(!l)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var A=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(A,v),l.apply(h,A)}}return function(){return l.apply(h,arguments)}}function m(l,h,p){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,m.apply(null,arguments)}function g(l,h){var p=Array.prototype.slice.call(arguments,1);return function(){var v=p.slice();return v.push.apply(v,arguments),l.apply(this,v)}}function w(l,h){function p(){}p.prototype=h.prototype,l.aa=h.prototype,l.prototype=new p,l.prototype.constructor=l,l.Qb=function(v,A,M){for(var $=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)$[ze-2]=arguments[ze];return h.prototype[A].apply(v,$)}}function E(l){let h=l.length;if(0<h){let p=Array(h);for(let v=0;v<h;v++)p[v]=l[v];return p}return[]}function D(l,h){for(let p=1;p<arguments.length;p++){let v=arguments[p];if(c(v)){let A=l.length||0,M=v.length||0;l.length=A+M;for(let $=0;$<M;$++)l[A+$]=v[$]}else l.push(v)}}class P{constructor(h,p){this.i=h,this.j=p,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function H(l){return/^[\s\xa0]*$/.test(l)}function B(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function Q(l){return Q[" "](l),l}Q[" "]=function(){};var J=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function te(l,h,p){for(let v in l)h.call(p,l[v],v,l)}function I(l,h){for(let p in l)h.call(void 0,l[p],p,l)}function x(l){let h={};for(let p in l)h[p]=l[p];return h}let b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(l,h){let p,v;for(let A=1;A<arguments.length;A++){v=arguments[A];for(p in v)l[p]=v[p];for(let M=0;M<b.length;M++)p=b[M],Object.prototype.hasOwnProperty.call(v,p)&&(l[p]=v[p])}}function C(l){var h=1;l=l.split(":");let p=[];for(;0<h&&l.length;)p.push(l.shift()),h--;return l.length&&p.push(l.join(":")),p}function S(l){a.setTimeout(()=>{throw l},0)}function y(){var l=Ft;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class ue{constructor(){this.h=this.g=null}add(h,p){let v=Wt.get();v.set(h,p),this.h?this.h.next=v:this.g=v,this.h=v}}var Wt=new P(()=>new ai,l=>l.reset());class ai{constructor(){this.next=this.g=this.h=null}set(h,p){this.h=h,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let Nt,Lt=!1,Ft=new ue,no=()=>{let l=a.Promise.resolve(void 0);Nt=()=>{l.then(Ma)}};var Ma=()=>{for(var l;l=y();){try{l.h.call(l.g)}catch(p){S(p)}var h=Wt;h.j(l),100>h.h&&(h.h++,l.next=h.g,h.g=l)}Lt=!1};function Fn(){this.s=this.s,this.C=this.C}Fn.prototype.s=!1,Fn.prototype.ma=function(){this.s||(this.s=!0,this.N())},Fn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function mt(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}mt.prototype.h=function(){this.defaultPrevented=!0};var Yl=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{let p=()=>{};a.addEventListener("test",p,h),a.removeEventListener("test",p,h)}catch{}return l}();function an(l,h){if(mt.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var p=this.type=l.type,v=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget){if(J){e:{try{Q(h.nodeName);var A=!0;break e}catch{}A=!1}A||(h=null)}}else p=="mouseover"?h=l.fromElement:p=="mouseout"&&(h=l.toElement);this.relatedTarget=h,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Kl[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&an.aa.h.call(this)}}w(an,mt);var Kl={2:"touch",3:"pen",4:"mouse"};an.prototype.h=function(){an.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var hr="closure_listenable_"+(1e6*Math.random()|0),Xl=0;function Ql(l,h,p,v,A){this.listener=l,this.proxy=null,this.src=h,this.type=p,this.capture=!!v,this.ha=A,this.key=++Xl,this.da=this.fa=!1}function io(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function ro(l){this.src=l,this.g={},this.h=0}ro.prototype.add=function(l,h,p,v,A){var M=l.toString();l=this.g[M],l||(l=this.g[M]=[],this.h++);var $=p_(l,h,v,A);return-1<$?(h=l[$],p||(h.fa=!1)):(h=new Ql(h,this.src,M,!!v,A),h.fa=p,l.push(h)),h};function f_(l,h){var p=h.type;if(p in l.g){var v=l.g[p],A=Array.prototype.indexOf.call(v,h,void 0),M;(M=0<=A)&&Array.prototype.splice.call(v,A,1),M&&(io(h),l.g[p].length==0&&(delete l.g[p],l.h--))}}function p_(l,h,p,v){for(var A=0;A<l.length;++A){var M=l[A];if(!M.da&&M.listener==h&&M.capture==!!p&&M.ha==v)return A}return-1}var m_="closure_lm_"+(1e6*Math.random()|0),g_={};function QI(l,h,p,v,A){if(v&&v.once)return JI(l,h,p,v,A);if(Array.isArray(h)){for(var M=0;M<h.length;M++)QI(l,h[M],p,v,A);return null}return p=w_(p),l&&l[hr]?l.K(h,p,u(v)?!!v.capture:!!v,A):ZI(l,h,p,!1,v,A)}function ZI(l,h,p,v,A,M){if(!h)throw Error("Invalid event type");var $=u(A)?!!A.capture:!!A,ze=__(l);if(ze||(l[m_]=ze=new ro(l)),p=ze.add(h,p,v,$,M),p.proxy)return p;if(v=hB(),p.proxy=v,v.src=l,v.listener=p,l.addEventListener)Yl||(A=$),A===void 0&&(A=!1),l.addEventListener(h.toString(),v,A);else if(l.attachEvent)l.attachEvent(tS(h.toString()),v);else if(l.addListener&&l.removeListener)l.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return p}function hB(){function l(p){return h.call(l.src,l.listener,p)}let h=fB;return l}function JI(l,h,p,v,A){if(Array.isArray(h)){for(var M=0;M<h.length;M++)JI(l,h[M],p,v,A);return null}return p=w_(p),l&&l[hr]?l.L(h,p,u(v)?!!v.capture:!!v,A):ZI(l,h,p,!0,v,A)}function eS(l,h,p,v,A){if(Array.isArray(h))for(var M=0;M<h.length;M++)eS(l,h[M],p,v,A);else v=u(v)?!!v.capture:!!v,p=w_(p),l&&l[hr]?(l=l.i,h=String(h).toString(),h in l.g&&(M=l.g[h],p=p_(M,p,v,A),-1<p&&(io(M[p]),Array.prototype.splice.call(M,p,1),M.length==0&&(delete l.g[h],l.h--)))):l&&(l=__(l))&&(h=l.g[h.toString()],l=-1,h&&(l=p_(h,p,v,A)),(p=-1<l?h[l]:null)&&v_(p))}function v_(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[hr])f_(h.i,l);else{var p=l.type,v=l.proxy;h.removeEventListener?h.removeEventListener(p,v,l.capture):h.detachEvent?h.detachEvent(tS(p),v):h.addListener&&h.removeListener&&h.removeListener(v),(p=__(h))?(f_(p,l),p.h==0&&(p.src=null,h[m_]=null)):io(l)}}}function tS(l){return l in g_?g_[l]:g_[l]="on"+l}function fB(l,h){if(l.da)l=!0;else{h=new an(h,this);var p=l.listener,v=l.ha||l.src;l.fa&&v_(l),l=p.call(v,h)}return l}function __(l){return l=l[m_],l instanceof ro?l:null}var y_="__closure_events_fn_"+(1e9*Math.random()>>>0);function w_(l){return typeof l=="function"?l:(l[y_]||(l[y_]=function(h){return l.handleEvent(h)}),l[y_])}function qt(){Fn.call(this),this.i=new ro(this),this.M=this,this.F=null}w(qt,Fn),qt.prototype[hr]=!0,qt.prototype.removeEventListener=function(l,h,p,v){eS(this,l,h,p,v)};function cn(l,h){var p,v=l.F;if(v)for(p=[];v;v=v.F)p.push(v);if(l=l.M,v=h.type||h,typeof h=="string")h=new mt(h,l);else if(h instanceof mt)h.target=h.target||l;else{var A=h;h=new mt(v,l),T(h,A)}if(A=!0,p)for(var M=p.length-1;0<=M;M--){var $=h.g=p[M];A=af($,v,!0,h)&&A}if($=h.g=l,A=af($,v,!0,h)&&A,A=af($,v,!1,h)&&A,p)for(M=0;M<p.length;M++)$=h.g=p[M],A=af($,v,!1,h)&&A}qt.prototype.N=function(){if(qt.aa.N.call(this),this.i){var l=this.i,h;for(h in l.g){for(var p=l.g[h],v=0;v<p.length;v++)io(p[v]);delete l.g[h],l.h--}}this.F=null},qt.prototype.K=function(l,h,p,v){return this.i.add(String(l),h,!1,p,v)},qt.prototype.L=function(l,h,p,v){return this.i.add(String(l),h,!0,p,v)};function af(l,h,p,v){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();for(var A=!0,M=0;M<h.length;++M){var $=h[M];if($&&!$.da&&$.capture==p){var ze=$.listener,Ut=$.ha||$.src;$.fa&&f_(l.i,$),A=ze.call(Ut,v)!==!1&&A}}return A&&!v.defaultPrevented}function nS(l,h,p){if(typeof l=="function")p&&(l=m(l,p));else if(l&&typeof l.handleEvent=="function")l=m(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(l,h||0)}function iS(l){l.g=nS(()=>{l.g=null,l.i&&(l.i=!1,iS(l))},l.l);let h=l.h;l.h=null,l.m.apply(null,h)}class pB extends Fn{constructor(h,p){super(),this.m=h,this.l=p,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:iS(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zl(l){Fn.call(this),this.h=l,this.g={}}w(Zl,Fn);var rS=[];function sS(l){te(l.g,function(h,p){this.g.hasOwnProperty(p)&&v_(h)},l),l.g={}}Zl.prototype.N=function(){Zl.aa.N.call(this),sS(this)},Zl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var x_=a.JSON.stringify,mB=a.JSON.parse,gB=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function b_(){}b_.prototype.h=null;function oS(l){return l.h||(l.h=l.i())}function aS(){}var Jl={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function C_(){mt.call(this,"d")}w(C_,mt);function T_(){mt.call(this,"c")}w(T_,mt);var so={},cS=null;function cf(){return cS=cS||new qt}so.La="serverreachability";function lS(l){mt.call(this,so.La,l)}w(lS,mt);function eu(l){let h=cf();cn(h,new lS(h))}so.STAT_EVENT="statevent";function uS(l,h){mt.call(this,so.STAT_EVENT,l),this.stat=h}w(uS,mt);function ln(l){let h=cf();cn(h,new uS(h,l))}so.Ma="timingevent";function dS(l,h){mt.call(this,so.Ma,l),this.size=h}w(dS,mt);function tu(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},h)}function nu(){this.g=!0}nu.prototype.xa=function(){this.g=!1};function vB(l,h,p,v,A,M){l.info(function(){if(l.g)if(M)for(var $="",ze=M.split("&"),Ut=0;Ut<ze.length;Ut++){var Pe=ze[Ut].split("=");if(1<Pe.length){var Yt=Pe[0];Pe=Pe[1];var Kt=Yt.split("_");$=2<=Kt.length&&Kt[1]=="type"?$+(Yt+"="+Pe+"&"):$+(Yt+"=redacted&")}}else $=null;else $=M;return"XMLHTTP REQ ("+v+") [attempt "+A+"]: "+h+`
`+p+`
`+$})}function _B(l,h,p,v,A,M,$){l.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+A+"]: "+h+`
`+p+`
`+M+" "+$})}function Ra(l,h,p,v){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+wB(l,p)+(v?" "+v:"")})}function yB(l,h){l.info(function(){return"TIMEOUT: "+h})}nu.prototype.info=function(){};function wB(l,h){if(!l.g)return h;if(!h)return null;try{var p=JSON.parse(h);if(p){for(l=0;l<p.length;l++)if(Array.isArray(p[l])){var v=p[l];if(!(2>v.length)){var A=v[1];if(Array.isArray(A)&&!(1>A.length)){var M=A[0];if(M!="noop"&&M!="stop"&&M!="close")for(var $=1;$<A.length;$++)A[$]=""}}}}return x_(p)}catch{return h}}var lf={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},hS={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},E_;function uf(){}w(uf,b_),uf.prototype.g=function(){return new XMLHttpRequest},uf.prototype.i=function(){return{}},E_=new uf;function as(l,h,p,v){this.j=l,this.i=h,this.l=p,this.R=v||1,this.U=new Zl(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new fS}function fS(){this.i=null,this.g="",this.h=!1}var pS={},I_={};function S_(l,h,p){l.L=1,l.v=pf(fr(h)),l.m=p,l.P=!0,mS(l,null)}function mS(l,h){l.F=Date.now(),df(l),l.A=fr(l.v);var p=l.A,v=l.R;Array.isArray(v)||(v=[String(v)]),AS(p.i,"t",v),l.C=0,p=l.j.J,l.h=new fS,l.g=qS(l.j,p?h:null,!l.m),0<l.O&&(l.M=new pB(m(l.Y,l,l.g),l.O)),h=l.U,p=l.g,v=l.ca;var A="readystatechange";Array.isArray(A)||(A&&(rS[0]=A.toString()),A=rS);for(var M=0;M<A.length;M++){var $=QI(p,A[M],v||h.handleEvent,!1,h.h||h);if(!$)break;h.g[$.key]=$}h=l.H?x(l.H):{},l.m?(l.u||(l.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,h)):(l.u="GET",l.g.ea(l.A,l.u,null,h)),eu(),vB(l.i,l.u,l.A,l.l,l.R,l.m)}as.prototype.ca=function(l){l=l.target;let h=this.M;h&&pr(l)==3?h.j():this.Y(l)},as.prototype.Y=function(l){try{if(l==this.g)e:{let Kt=pr(this.g);var h=this.g.Ba();let Na=this.g.Z();if(!(3>Kt)&&(Kt!=3||this.g&&(this.h.h||this.g.oa()||NS(this.g)))){this.J||Kt!=4||h==7||(h==8||0>=Na?eu(3):eu(2)),D_(this);var p=this.g.Z();this.X=p;t:if(gS(this)){var v=NS(this.g);l="";var A=v.length,M=pr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){oo(this),iu(this);var $="";break t}this.h.i=new a.TextDecoder}for(h=0;h<A;h++)this.h.h=!0,l+=this.h.i.decode(v[h],{stream:!(M&&h==A-1)});v.length=0,this.h.g+=l,this.C=0,$=this.h.g}else $=this.g.oa();if(this.o=p==200,_B(this.i,this.u,this.A,this.l,this.R,Kt,p),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,Ut=this.g;if((ze=Ut.g?Ut.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(ze)){var Pe=ze;break t}}Pe=null}if(p=Pe)Ra(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,A_(this,p);else{this.o=!1,this.s=3,ln(12),oo(this),iu(this);break e}}if(this.P){p=!0;let ci;for(;!this.J&&this.C<$.length;)if(ci=xB(this,$),ci==I_){Kt==4&&(this.s=4,ln(14),p=!1),Ra(this.i,this.l,null,"[Incomplete Response]");break}else if(ci==pS){this.s=4,ln(15),Ra(this.i,this.l,$,"[Invalid Chunk]"),p=!1;break}else Ra(this.i,this.l,ci,null),A_(this,ci);if(gS(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Kt!=4||$.length!=0||this.h.h||(this.s=1,ln(16),p=!1),this.o=this.o&&p,!p)Ra(this.i,this.l,$,"[Invalid Chunked Response]"),oo(this),iu(this);else if(0<$.length&&!this.W){this.W=!0;var Yt=this.j;Yt.g==this&&Yt.ba&&!Yt.M&&(Yt.j.info("Great, no buffering proxy detected. Bytes received: "+$.length),O_(Yt),Yt.M=!0,ln(11))}}else Ra(this.i,this.l,$,null),A_(this,$);Kt==4&&oo(this),this.o&&!this.J&&(Kt==4?HS(this.j,this):(this.o=!1,df(this)))}else UB(this.g),p==400&&0<$.indexOf("Unknown SID")?(this.s=3,ln(12)):(this.s=0,ln(13)),oo(this),iu(this)}}}catch{}finally{}};function gS(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function xB(l,h){var p=l.C,v=h.indexOf(`
`,p);return v==-1?I_:(p=Number(h.substring(p,v)),isNaN(p)?pS:(v+=1,v+p>h.length?I_:(h=h.slice(v,v+p),l.C=v+p,h)))}as.prototype.cancel=function(){this.J=!0,oo(this)};function df(l){l.S=Date.now()+l.I,vS(l,l.I)}function vS(l,h){if(l.B!=null)throw Error("WatchDog timer not null");l.B=tu(m(l.ba,l),h)}function D_(l){l.B&&(a.clearTimeout(l.B),l.B=null)}as.prototype.ba=function(){this.B=null;let l=Date.now();0<=l-this.S?(yB(this.i,this.A),this.L!=2&&(eu(),ln(17)),oo(this),this.s=2,iu(this)):vS(this,this.S-l)};function iu(l){l.j.G==0||l.J||HS(l.j,l)}function oo(l){D_(l);var h=l.M;h&&typeof h.ma=="function"&&h.ma(),l.M=null,sS(l.U),l.g&&(h=l.g,l.g=null,h.abort(),h.ma())}function A_(l,h){try{var p=l.j;if(p.G!=0&&(p.g==l||F_(p.h,l))){if(!l.K&&F_(p.h,l)&&p.G==3){try{var v=p.Da.g.parse(h)}catch{v=null}if(Array.isArray(v)&&v.length==3){var A=v;if(A[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<l.F)yf(p),vf(p);else break e;P_(p),ln(18)}}else p.za=A[1],0<p.za-p.T&&37500>A[2]&&p.F&&p.v==0&&!p.C&&(p.C=tu(m(p.Za,p),6e3));if(1>=wS(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else co(p,11)}else if((l.K||p.g==l)&&yf(p),!H(h))for(A=p.Da.g.parse(h),h=0;h<A.length;h++){let Pe=A[h];if(p.T=Pe[0],Pe=Pe[1],p.G==2)if(Pe[0]=="c"){p.K=Pe[1],p.ia=Pe[2];let Yt=Pe[3];Yt!=null&&(p.la=Yt,p.j.info("VER="+p.la));let Kt=Pe[4];Kt!=null&&(p.Aa=Kt,p.j.info("SVER="+p.Aa));let Na=Pe[5];Na!=null&&typeof Na=="number"&&0<Na&&(v=1.5*Na,p.L=v,p.j.info("backChannelRequestTimeoutMs_="+v)),v=p;let ci=l.g;if(ci){let xf=ci.g?ci.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xf){var M=v.h;M.g||xf.indexOf("spdy")==-1&&xf.indexOf("quic")==-1&&xf.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(k_(M,M.h),M.h=null))}if(v.D){let N_=ci.g?ci.g.getResponseHeader("X-HTTP-Session-Id"):null;N_&&(v.ya=N_,Ze(v.I,v.D,N_))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-l.F,p.j.info("Handshake RTT: "+p.R+"ms")),v=p;var $=l;if(v.qa=WS(v,v.J?v.ia:null,v.W),$.K){xS(v.h,$);var ze=$,Ut=v.L;Ut&&(ze.I=Ut),ze.B&&(D_(ze),df(ze)),v.g=$}else jS(v);0<p.i.length&&_f(p)}else Pe[0]!="stop"&&Pe[0]!="close"||co(p,7);else p.G==3&&(Pe[0]=="stop"||Pe[0]=="close"?Pe[0]=="stop"?co(p,7):R_(p):Pe[0]!="noop"&&p.l&&p.l.ta(Pe),p.v=0)}}eu(4)}catch{}}var bB=class{constructor(l,h){this.g=l,this.map=h}};function _S(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function yS(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function wS(l){return l.h?1:l.g?l.g.size:0}function F_(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function k_(l,h){l.g?l.g.add(h):l.h=h}function xS(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}_S.prototype.cancel=function(){if(this.i=bS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let l of this.g.values())l.cancel();this.g.clear()}};function bS(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let h=l.i;for(let p of l.g.values())h=h.concat(p.D);return h}return E(l.i)}function CB(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var h=[],p=l.length,v=0;v<p;v++)h.push(l[v]);return h}h=[],p=0;for(v in l)h[p++]=l[v];return h}function TB(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var h=[];l=l.length;for(var p=0;p<l;p++)h.push(p);return h}h=[],p=0;for(let v in l)h[p++]=v;return h}}}function CS(l,h){if(l.forEach&&typeof l.forEach=="function")l.forEach(h,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,h,void 0);else for(var p=TB(l),v=CB(l),A=v.length,M=0;M<A;M++)h.call(void 0,v[M],p&&p[M],l)}var TS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function EB(l,h){if(l){l=l.split("&");for(var p=0;p<l.length;p++){var v=l[p].indexOf("="),A=null;if(0<=v){var M=l[p].substring(0,v);A=l[p].substring(v+1)}else M=l[p];h(M,A?decodeURIComponent(A.replace(/\+/g," ")):"")}}}function ao(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof ao){this.h=l.h,hf(this,l.j),this.o=l.o,this.g=l.g,ff(this,l.s),this.l=l.l;var h=l.i,p=new ou;p.i=h.i,h.g&&(p.g=new Map(h.g),p.h=h.h),ES(this,p),this.m=l.m}else l&&(h=String(l).match(TS))?(this.h=!1,hf(this,h[1]||"",!0),this.o=ru(h[2]||""),this.g=ru(h[3]||"",!0),ff(this,h[4]),this.l=ru(h[5]||"",!0),ES(this,h[6]||"",!0),this.m=ru(h[7]||"")):(this.h=!1,this.i=new ou(null,this.h))}ao.prototype.toString=function(){var l=[],h=this.j;h&&l.push(su(h,IS,!0),":");var p=this.g;return(p||h=="file")&&(l.push("//"),(h=this.o)&&l.push(su(h,IS,!0),"@"),l.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&l.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&l.push("/"),l.push(su(p,p.charAt(0)=="/"?DB:SB,!0))),(p=this.i.toString())&&l.push("?",p),(p=this.m)&&l.push("#",su(p,FB)),l.join("")};function fr(l){return new ao(l)}function hf(l,h,p){l.j=p?ru(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function ff(l,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);l.s=h}else l.s=null}function ES(l,h,p){h instanceof ou?(l.i=h,kB(l.i,l.h)):(p||(h=su(h,AB)),l.i=new ou(h,l.h))}function Ze(l,h,p){l.i.set(h,p)}function pf(l){return Ze(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function ru(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function su(l,h,p){return typeof l=="string"?(l=encodeURI(l).replace(h,IB),p&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function IB(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var IS=/[#\/\?@]/g,SB=/[#\?:]/g,DB=/[#\?]/g,AB=/[#\?@]/g,FB=/#/g;function ou(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function cs(l){l.g||(l.g=new Map,l.h=0,l.i&&EB(l.i,function(h,p){l.add(decodeURIComponent(h.replace(/\+/g," ")),p)}))}t=ou.prototype,t.add=function(l,h){cs(this),this.i=null,l=Pa(this,l);var p=this.g.get(l);return p||this.g.set(l,p=[]),p.push(h),this.h+=1,this};function SS(l,h){cs(l),h=Pa(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function DS(l,h){return cs(l),h=Pa(l,h),l.g.has(h)}t.forEach=function(l,h){cs(this),this.g.forEach(function(p,v){p.forEach(function(A){l.call(h,A,v,this)},this)},this)},t.na=function(){cs(this);let l=Array.from(this.g.values()),h=Array.from(this.g.keys()),p=[];for(let v=0;v<h.length;v++){let A=l[v];for(let M=0;M<A.length;M++)p.push(h[v])}return p},t.V=function(l){cs(this);let h=[];if(typeof l=="string")DS(this,l)&&(h=h.concat(this.g.get(Pa(this,l))));else{l=Array.from(this.g.values());for(let p=0;p<l.length;p++)h=h.concat(l[p])}return h},t.set=function(l,h){return cs(this),this.i=null,l=Pa(this,l),DS(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},t.get=function(l,h){return l?(l=this.V(l),0<l.length?String(l[0]):h):h};function AS(l,h,p){SS(l,h),0<p.length&&(l.i=null,l.g.set(Pa(l,h),E(p)),l.h+=p.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let l=[],h=Array.from(this.g.keys());for(var p=0;p<h.length;p++){var v=h[p];let M=encodeURIComponent(String(v)),$=this.V(v);for(v=0;v<$.length;v++){var A=M;$[v]!==""&&(A+="="+encodeURIComponent(String($[v]))),l.push(A)}}return this.i=l.join("&")};function Pa(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function kB(l,h){h&&!l.j&&(cs(l),l.i=null,l.g.forEach(function(p,v){var A=v.toLowerCase();v!=A&&(SS(this,v),AS(this,A,p))},l)),l.j=h}function MB(l,h){let p=new nu;if(a.Image){let v=new Image;v.onload=g(ls,p,"TestLoadImage: loaded",!0,h,v),v.onerror=g(ls,p,"TestLoadImage: error",!1,h,v),v.onabort=g(ls,p,"TestLoadImage: abort",!1,h,v),v.ontimeout=g(ls,p,"TestLoadImage: timeout",!1,h,v),a.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=l}else h(!1)}function RB(l,h){let p=new nu,v=new AbortController,A=setTimeout(()=>{v.abort(),ls(p,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:v.signal}).then(M=>{clearTimeout(A),M.ok?ls(p,"TestPingServer: ok",!0,h):ls(p,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(A),ls(p,"TestPingServer: error",!1,h)})}function ls(l,h,p,v,A){try{A&&(A.onload=null,A.onerror=null,A.onabort=null,A.ontimeout=null),v(p)}catch{}}function PB(){this.g=new gB}function OB(l,h,p){let v=p||"";try{CS(l,function(A,M){let $=A;u(A)&&($=x_(A)),h.push(v+M+"="+encodeURIComponent($))})}catch(A){throw h.push(v+"type="+encodeURIComponent("_badmap")),A}}function au(l){this.l=l.Ub||null,this.j=l.eb||!1}w(au,b_),au.prototype.g=function(){return new mf(this.l,this.j)},au.prototype.i=function(l){return function(){return l}}({});function mf(l,h){qt.call(this),this.D=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(mf,qt),t=mf.prototype,t.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=h,this.readyState=1,lu(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(h.body=l),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,cu(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,lu(this)),this.g&&(this.readyState=3,lu(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;FS(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function FS(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?cu(this):lu(this),this.readyState==3&&FS(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,cu(this))},t.Qa=function(l){this.g&&(this.response=l,cu(this))},t.ga=function(){this.g&&cu(this)};function cu(l){l.readyState=4,l.l=null,l.j=null,l.v=null,lu(l)}t.setRequestHeader=function(l,h){this.u.append(l,h)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let l=[],h=this.h.entries();for(var p=h.next();!p.done;)p=p.value,l.push(p[0]+": "+p[1]),p=h.next();return l.join(`\r
`)};function lu(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(mf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function kS(l){let h="";return te(l,function(p,v){h+=v,h+=":",h+=p,h+=`\r
`}),h}function M_(l,h,p){e:{for(v in p){var v=!1;break e}v=!0}v||(p=kS(p),typeof l=="string"?p!=null&&encodeURIComponent(String(p)):Ze(l,h,p))}function ot(l){qt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(ot,qt);var NB=/^https?$/i,LB=["POST","PUT"];t=ot.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,h,p,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():E_.g(),this.v=this.o?oS(this.o):oS(E_),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(M){MS(this,M);return}if(l=p||"",p=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var A in v)p.set(A,v[A]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(let M of v.keys())p.set(M,v.get(M));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(p.keys()).find(M=>M.toLowerCase()=="content-type"),A=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(LB,h,void 0))||v||A||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[M,$]of p)this.g.setRequestHeader(M,$);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{OS(this),this.u=!0,this.g.send(l),this.u=!1}catch(M){MS(this,M)}};function MS(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.m=5,RS(l),gf(l)}function RS(l){l.A||(l.A=!0,cn(l,"complete"),cn(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,cn(this,"complete"),cn(this,"abort"),gf(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gf(this,!0)),ot.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?PS(this):this.bb())},t.bb=function(){PS(this)};function PS(l){if(l.h&&typeof o<"u"&&(!l.v[1]||pr(l)!=4||l.Z()!=2)){if(l.u&&pr(l)==4)nS(l.Ea,0,l);else if(cn(l,"readystatechange"),pr(l)==4){l.h=!1;try{let $=l.Z();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var p;if(!(p=h)){var v;if(v=$===0){var A=String(l.D).match(TS)[1]||null;!A&&a.self&&a.self.location&&(A=a.self.location.protocol.slice(0,-1)),v=!NB.test(A?A.toLowerCase():"")}p=v}if(p)cn(l,"complete"),cn(l,"success");else{l.m=6;try{var M=2<pr(l)?l.g.statusText:""}catch{M=""}l.l=M+" ["+l.Z()+"]",RS(l)}}finally{gf(l)}}}}function gf(l,h){if(l.g){OS(l);let p=l.g,v=l.v[0]?()=>{}:null;l.g=null,l.v=null,h||cn(l,"ready");try{p.onreadystatechange=v}catch{}}}function OS(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function pr(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<pr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),mB(h)}};function NS(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function UB(l){let h={};l=(l.g&&2<=pr(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<l.length;v++){if(H(l[v]))continue;var p=C(l[v]);let A=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();let M=h[A]||[];h[A]=M,M.push(p)}I(h,function(v){return v.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function uu(l,h,p){return p&&p.internalChannelParams&&p.internalChannelParams[l]||h}function LS(l){this.Aa=0,this.i=[],this.j=new nu,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=uu("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=uu("baseRetryDelayMs",5e3,l),this.cb=uu("retryDelaySeedMs",1e4,l),this.Wa=uu("forwardChannelMaxRetries",2,l),this.wa=uu("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new _S(l&&l.concurrentRequestLimit),this.Da=new PB,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=LS.prototype,t.la=8,t.G=1,t.connect=function(l,h,p,v){ln(0),this.W=l,this.H=h||{},p&&v!==void 0&&(this.H.OSID=p,this.H.OAID=v),this.F=this.X,this.I=WS(this,null,this.W),_f(this)};function R_(l){if(US(l),l.G==3){var h=l.U++,p=fr(l.I);if(Ze(p,"SID",l.K),Ze(p,"RID",h),Ze(p,"TYPE","terminate"),du(l,p),h=new as(l,l.j,h),h.L=2,h.v=pf(fr(p)),p=!1,a.navigator&&a.navigator.sendBeacon)try{p=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!p&&a.Image&&(new Image().src=h.v,p=!0),p||(h.g=qS(h.j,null),h.g.ea(h.v)),h.F=Date.now(),df(h)}zS(l)}function vf(l){l.g&&(O_(l),l.g.cancel(),l.g=null)}function US(l){vf(l),l.u&&(a.clearTimeout(l.u),l.u=null),yf(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function _f(l){if(!yS(l.h)&&!l.s){l.s=!0;var h=l.Ga;Nt||no(),Lt||(Nt(),Lt=!0),Ft.add(h,l),l.B=0}}function VB(l,h){return wS(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=h.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=tu(m(l.Ga,l,h),GS(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;let A=new as(this,this.j,l),M=this.o;if(this.S&&(M?(M=x(M),T(M,this.S)):M=this.S),this.m!==null||this.O||(A.H=M,M=null),this.P)e:{for(var h=0,p=0;p<this.i.length;p++){t:{var v=this.i[p];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(h+=v,4096<h){h=p;break e}if(h===4096||p===this.i.length-1){h=p+1;break e}}h=1e3}else h=1e3;h=BS(this,A,h),p=fr(this.I),Ze(p,"RID",l),Ze(p,"CVER",22),this.D&&Ze(p,"X-HTTP-Session-Id",this.D),du(this,p),M&&(this.O?h="headers="+encodeURIComponent(String(kS(M)))+"&"+h:this.m&&M_(p,this.m,M)),k_(this.h,A),this.Ua&&Ze(p,"TYPE","init"),this.P?(Ze(p,"$req",h),Ze(p,"SID","null"),A.T=!0,S_(A,p,null)):S_(A,p,h),this.G=2}}else this.G==3&&(l?VS(this,l):this.i.length==0||yS(this.h)||VS(this))};function VS(l,h){var p;h?p=h.l:p=l.U++;let v=fr(l.I);Ze(v,"SID",l.K),Ze(v,"RID",p),Ze(v,"AID",l.T),du(l,v),l.m&&l.o&&M_(v,l.m,l.o),p=new as(l,l.j,p,l.B+1),l.m===null&&(p.H=l.o),h&&(l.i=h.D.concat(l.i)),h=BS(l,p,1e3),p.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),k_(l.h,p),S_(p,v,h)}function du(l,h){l.H&&te(l.H,function(p,v){Ze(h,v,p)}),l.l&&CS({},function(p,v){Ze(h,v,p)})}function BS(l,h,p){p=Math.min(l.i.length,p);var v=l.l?m(l.l.Na,l.l,l):null;e:{var A=l.i;let M=-1;for(;;){let $=["count="+p];M==-1?0<p?(M=A[0].g,$.push("ofs="+M)):M=0:$.push("ofs="+M);let ze=!0;for(let Ut=0;Ut<p;Ut++){let Pe=A[Ut].g,Yt=A[Ut].map;if(Pe-=M,0>Pe)M=Math.max(0,A[Ut].g-100),ze=!1;else try{OB(Yt,$,"req"+Pe+"_")}catch{v&&v(Yt)}}if(ze){v=$.join("&");break e}}}return l=l.i.splice(0,p),h.D=l,v}function jS(l){if(!l.g&&!l.u){l.Y=1;var h=l.Fa;Nt||no(),Lt||(Nt(),Lt=!0),Ft.add(h,l),l.v=0}}function P_(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=tu(m(l.Fa,l),GS(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,$S(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=tu(m(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ln(10),vf(this),$S(this))};function O_(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function $S(l){l.g=new as(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var h=fr(l.qa);Ze(h,"RID","rpc"),Ze(h,"SID",l.K),Ze(h,"AID",l.T),Ze(h,"CI",l.F?"0":"1"),!l.F&&l.ja&&Ze(h,"TO",l.ja),Ze(h,"TYPE","xmlhttp"),du(l,h),l.m&&l.o&&M_(h,l.m,l.o),l.L&&(l.g.I=l.L);var p=l.g;l=l.ia,p.L=1,p.v=pf(fr(h)),p.m=null,p.P=!0,mS(p,l)}t.Za=function(){this.C!=null&&(this.C=null,vf(this),P_(this),ln(19))};function yf(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function HS(l,h){var p=null;if(l.g==h){yf(l),O_(l),l.g=null;var v=2}else if(F_(l.h,h))p=h.D,xS(l.h,h),v=1;else return;if(l.G!=0){if(h.o)if(v==1){p=h.m?h.m.length:0,h=Date.now()-h.F;var A=l.B;v=cf(),cn(v,new dS(v,p)),_f(l)}else jS(l);else if(A=h.s,A==3||A==0&&0<h.X||!(v==1&&VB(l,h)||v==2&&P_(l)))switch(p&&0<p.length&&(h=l.h,h.i=h.i.concat(p)),A){case 1:co(l,5);break;case 4:co(l,10);break;case 3:co(l,6);break;default:co(l,2)}}}function GS(l,h){let p=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(p*=2),p*h}function co(l,h){if(l.j.info("Error code "+h),h==2){var p=m(l.fb,l),v=l.Xa;let A=!v;v=new ao(v||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||hf(v,"https"),pf(v),A?MB(v.toString(),p):RB(v.toString(),p)}else ln(2);l.G=0,l.l&&l.l.sa(h),zS(l),US(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),ln(2)):(this.j.info("Failed to ping google.com"),ln(1))};function zS(l){if(l.G=0,l.ka=[],l.l){let h=bS(l.h);(h.length!=0||l.i.length!=0)&&(D(l.ka,h),D(l.ka,l.i),l.h.i.length=0,E(l.i),l.i.length=0),l.l.ra()}}function WS(l,h,p){var v=p instanceof ao?fr(p):new ao(p);if(v.g!="")h&&(v.g=h+"."+v.g),ff(v,v.s);else{var A=a.location;v=A.protocol,h=h?h+"."+A.hostname:A.hostname,A=+A.port;var M=new ao(null);v&&hf(M,v),h&&(M.g=h),A&&ff(M,A),p&&(M.l=p),v=M}return p=l.D,h=l.ya,p&&h&&Ze(v,p,h),Ze(v,"VER",l.la),du(l,v),v}function qS(l,h,p){if(h&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Ca&&!l.pa?new ot(new au({eb:p})):new ot(l.pa),h.Ha(l.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function YS(){}t=YS.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function wf(){}wf.prototype.g=function(l,h){return new kn(l,h)};function kn(l,h){qt.call(this),this.g=new LS(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(l?l["X-WebChannel-Client-Profile"]=h.va:l={"X-WebChannel-Client-Profile":h.va}),this.g.S=l,(l=h&&h.Sb)&&!H(l)&&(this.g.m=l),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!H(h)&&(this.g.D=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new Oa(this)}w(kn,qt),kn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},kn.prototype.close=function(){R_(this.g)},kn.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var p={};p.__data__=l,l=p}else this.u&&(p={},p.__data__=x_(l),l=p);h.i.push(new bB(h.Ya++,l)),h.G==3&&_f(h)},kn.prototype.N=function(){this.g.l=null,delete this.j,R_(this.g),delete this.g,kn.aa.N.call(this)};function KS(l){C_.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(let p in h){l=p;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}w(KS,C_);function XS(){T_.call(this),this.status=1}w(XS,T_);function Oa(l){this.g=l}w(Oa,YS),Oa.prototype.ua=function(){cn(this.g,"a")},Oa.prototype.ta=function(l){cn(this.g,new KS(l))},Oa.prototype.sa=function(l){cn(this.g,new XS)},Oa.prototype.ra=function(){cn(this.g,"b")},wf.prototype.createWebChannel=wf.prototype.g,kn.prototype.send=kn.prototype.o,kn.prototype.open=kn.prototype.m,kn.prototype.close=kn.prototype.close,kT=Xr.createWebChannelTransport=function(){return new wf},FT=Xr.getStatEventTarget=function(){return cf()},AT=Xr.Event=so,t0=Xr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},lf.NO_ERROR=0,lf.TIMEOUT=8,lf.HTTP_ERROR=6,Jd=Xr.ErrorCode=lf,hS.COMPLETE="complete",DT=Xr.EventType=hS,aS.EventType=Jl,Jl.OPEN="a",Jl.CLOSE="b",Jl.ERROR="c",Jl.MESSAGE="d",qt.prototype.listen=qt.prototype.K,nl=Xr.WebChannel=aS,JK=Xr.FetchXmlHttpFactory=au,ot.prototype.listenOnce=ot.prototype.L,ot.prototype.getLastError=ot.prototype.Ka,ot.prototype.getLastErrorCode=ot.prototype.Ba,ot.prototype.getStatus=ot.prototype.Z,ot.prototype.getResponseJson=ot.prototype.Oa,ot.prototype.getResponseText=ot.prototype.oa,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Ha,ST=Xr.XhrIo=ot}).apply(typeof e0<"u"?e0:typeof self<"u"?self:typeof window<"u"?window:{});var ZO="@firebase/firestore";var Ot=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ot.UNAUTHENTICATED=new Ot(null),Ot.GOOGLE_CREDENTIALS=new Ot("google-credentials-uid"),Ot.FIRST_PARTY=new Ot("first-party-uid"),Ot.MOCK_USER=new Ot("mock-user");var Cl="10.14.0";var ha=new Ms("@firebase/firestore");function eh(){return ha.logLevel}function X(t,...e){if(ha.logLevel<=De.DEBUG){let n=e.map(p1);ha.debug(`Firestore (${Cl}): ${t}`,...n)}}function Zr(t,...e){if(ha.logLevel<=De.ERROR){let n=e.map(p1);ha.error(`Firestore (${Cl}): ${t}`,...n)}}function ll(t,...e){if(ha.logLevel<=De.WARN){let n=e.map(p1);ha.warn(`Firestore (${Cl}): ${t}`,...n)}}function p1(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function le(t="Unexpected state"){let e=`FIRESTORE (${Cl}) INTERNAL ASSERTION FAILED: `+t;throw Zr(e),new Error(e)}function Be(t,e){t||le()}function fe(t,e){return t}var N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},q=class extends jn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Ti=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var o0=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},NT=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ot.UNAUTHENTICATED))}shutdown(){}},LT=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},UT=class{constructor(e){this.t=e,this.currentUser=Ot.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Be(this.o===void 0);let i=this.i,r=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve(),s=new Ti;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ti,e.enqueueRetryable(()=>r(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>_(this,null,function*(){yield c.promise,yield r(this.currentUser)}))},a=c=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ti)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Be(typeof i.accessToken=="string"),new o0(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Be(e===null||typeof e=="string"),new Ot(e)}},VT=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=Ot.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},BT=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new VT(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ot.FIRST_PARTY))}shutdown(){}invalidateToken(){}},jT=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},$T=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Be(this.o===void 0);let i=s=>{s.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,X("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};let r=s=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?r(s):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Be(typeof n.token=="string"),this.R=n.token,new jT(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function eX(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}var a0=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,i="";for(;i.length<20;){let r=eX(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=e.charAt(r[s]%e.length))}return i}};function Le(t,e){return t<e?-1:t>e?1:0}function ul(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}var Bt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new q(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new q(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new q(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new q(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new t(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ve=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Bt(0,0))}static max(){return new t(new Bt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var c0=class t{constructor(e,n,i){n===void 0?n=0:n>e.length&&le(),i===void 0?i=e.length-n:i>e.length-n&&le(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let i=Math.min(e.length,n.length);for(let r=0;r<i;r++){let s=e.get(r),o=n.get(r);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},st=class t extends c0{construct(e,n,i){return new t(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let i of e){if(i.indexOf("//")>=0)throw new q(N.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new t(n)}static emptyPath(){return new t([])}},tX=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Hn=class t extends c0{construct(e,n,i){return new t(e,n,i)}static isValidIdentifier(e){return tX.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],i="",r=0,s=()=>{if(i.length===0)throw new q(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""},o=!1;for(;r<e.length;){let a=e[r];if(a==="\\"){if(r+1===e.length)throw new q(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new q(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=c,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new q(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var ne=class t{constructor(e){this.path=e}static fromPath(e){return new t(st.fromString(e))}static fromName(e){return new t(st.fromString(e).popFirst(5))}static empty(){return new t(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return st.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new st(e.slice()))}};var HT=class{constructor(e,n,i,r){this.indexId=e,this.collectionGroup=n,this.fields=i,this.indexState=r}};HT.UNKNOWN_ID=-1;function nX(t,e){let n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=ve.fromTimestamp(i===1e9?new Bt(n+1,0):new Bt(n,i));return new fa(r,ne.empty(),e)}function iX(t){return new fa(t.readTime,t.key,-1)}var fa=class t{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new t(ve.min(),ne.empty(),-1)}static max(){return new t(ve.max(),ne.empty(),-1)}};function rX(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ne.comparator(t.documentKey,e.documentKey),n!==0?n:Le(t.largestBatchId,e.largestBatchId))}var sX="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",GT=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function _h(t){return _(this,null,function*(){if(t.code!==N.FAILED_PRECONDITION||t.message!==sX)throw t;X("LocalStore","Unexpectedly lost primary lease")})}var j=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&le(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,i)=>{n(e)})}static reject(e){return new t((n,i)=>{i(e)})}static waitFor(e){return new t((n,i)=>{let r=0,s=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&n()},c=>i(c))}),o=!0,s===r&&n()})}static or(e){let n=t.resolve(!1);for(let i of e)n=n.next(r=>r?t.resolve(r):i());return n}static forEach(e,n){let i=[];return e.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(e,n){return new t((i,r)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let u=c;n(e[u]).next(d=>{o[u]=d,++a,a===s&&i(o)},d=>r(d))}})}static doWhile(e,n){return new t((i,r)=>{let s=()=>{e()===!0?n().next(()=>{s()},r):i()};s()})}};function oX(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function yh(t){return t.name==="IndexedDbTransactionError"}var MN=(()=>{class t{constructor(n,i){this.previousValue=n,i&&(i.sequenceNumberHandler=r=>this.ie(r),this.se=r=>i.writeSequenceNumber(r))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function B0(t){return t==null}function oh(t){return t===0&&1/t==-1/0}function aX(t){return typeof t=="number"&&Number.isInteger(t)&&!oh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var cX=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],c_e=[...cX,"documentOverlays"],lX=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],uX=lX,dX=[...uX,"indexConfiguration","indexState","indexEntries"];var l_e=[...dX,"globals"];function JO(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ya(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function RN(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var dt=class t{constructor(e,n){this.comparator=e,this.root=n||ir.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ir.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ir.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){let e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ol(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ol(this.root,e,this.comparator,!1)}getReverseIterator(){return new ol(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ol(this.root,e,this.comparator,!0)}},ol=class{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?i(e.key,n):1,n&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},ir=class t{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??t.RED,this.left=r??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,s){return new t(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this,s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return t.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw le();let e=this.left.check();if(e!==this.right.check())throw le();return e+(this.isRed()?0:1)}};ir.EMPTY=null,ir.RED=!0,ir.BLACK=!1;ir.EMPTY=new class{constructor(){this.size=0}get key(){throw le()}get value(){throw le()}get color(){throw le()}get left(){throw le()}get right(){throw le()}copy(e,n,i,r,s){return this}insert(e,n,i){return new ir(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var rn=class t{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new l0(this.data.getIterator())}getIteratorFrom(e){return new l0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){let r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},l0=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var oi=class t{constructor(e){this.fields=e,e.sort(Hn.comparator)}static empty(){return new t([])}unionWith(e){let n=new rn(Hn.comparator);for(let i of this.fields)n=n.add(i);for(let i of e)n=n.add(i);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ul(this.fields,e.fields,(n,i)=>n.isEqual(i))}};var u0=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var sn=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new u0("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};sn.EMPTY_BYTE_STRING=new sn("");var hX=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jr(t){if(Be(!!t),typeof t=="string"){let e=0,n=hX.exec(t);if(Be(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:tt(t.seconds),nanos:tt(t.nanos)}}function tt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function $s(t){return typeof t=="string"?sn.fromBase64String(t):sn.fromUint8Array(t)}function m1(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function g1(t){let e=t.mapValue.fields.__previous_value__;return m1(e)?g1(e):e}function ah(t){let e=Jr(t.mapValue.fields.__local_write_time__.timestampValue);return new Bt(e.seconds,e.nanos)}var zT=class{constructor(e,n,i,r,s,o,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}},d0=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var n0={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function pa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?m1(t)?4:ON(t)?9007199254740991:PN(t)?10:11:le()}function or(t,e){if(t===e)return!0;let n=pa(t);if(n!==pa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ah(t).isEqual(ah(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;let o=Jr(r.timestampValue),a=Jr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return $s(r.bytesValue).isEqual($s(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return tt(r.geoPointValue.latitude)===tt(s.geoPointValue.latitude)&&tt(r.geoPointValue.longitude)===tt(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return tt(r.integerValue)===tt(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){let o=tt(r.doubleValue),a=tt(s.doubleValue);return o===a?oh(o)===oh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ul(t.arrayValue.values||[],e.arrayValue.values||[],or);case 10:case 11:return function(r,s){let o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(JO(o)!==JO(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!or(o[c],a[c])))return!1;return!0}(t,e);default:return le()}}function ch(t,e){return(t.values||[]).find(n=>or(n,e))!==void 0}function dl(t,e){if(t===e)return 0;let n=pa(t),i=pa(e);if(n!==i)return Le(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=tt(s.integerValue||s.doubleValue),c=tt(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return eN(t.timestampValue,e.timestampValue);case 4:return eN(ah(t),ah(e));case 5:return Le(t.stringValue,e.stringValue);case 6:return function(s,o){let a=$s(s),c=$s(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){let d=Le(a[u],c[u]);if(d!==0)return d}return Le(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=Le(tt(s.latitude),tt(o.latitude));return a!==0?a:Le(tt(s.longitude),tt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return tN(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,c,u,d;let f=s.fields||{},m=o.fields||{},g=(a=f.value)===null||a===void 0?void 0:a.arrayValue,w=(c=m.value)===null||c===void 0?void 0:c.arrayValue,E=Le(((u=g?.values)===null||u===void 0?void 0:u.length)||0,((d=w?.values)===null||d===void 0?void 0:d.length)||0);return E!==0?E:tN(g,w)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===n0.mapValue&&o===n0.mapValue)return 0;if(s===n0.mapValue)return 1;if(o===n0.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),u=o.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){let m=Le(c[f],d[f]);if(m!==0)return m;let g=dl(a[c[f]],u[d[f]]);if(g!==0)return g}return Le(c.length,d.length)}(t.mapValue,e.mapValue);default:throw le()}}function eN(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Le(t,e);let n=Jr(t),i=Jr(e),r=Le(n.seconds,i.seconds);return r!==0?r:Le(n.nanos,i.nanos)}function tN(t,e){let n=t.values||[],i=e.values||[];for(let r=0;r<n.length&&r<i.length;++r){let s=dl(n[r],i[r]);if(s)return s}return Le(n.length,i.length)}function hl(t){return WT(t)}function WT(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let i=Jr(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return $s(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ne.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(let s of n.values||[])r?r=!1:i+=",",i+=WT(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){let i=Object.keys(n.fields||{}).sort(),r="{",s=!0;for(let o of i)s?s=!1:r+=",",r+=`${o}:${WT(n.fields[o])}`;return r+"}"}(t.mapValue):le()}function nN(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function qT(t){return!!t&&"integerValue"in t}function v1(t){return!!t&&"arrayValue"in t}function iN(t){return!!t&&"nullValue"in t}function rN(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function r0(t){return!!t&&"mapValue"in t}function PN(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function nh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return ya(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=nh(i)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=nh(t.arrayValue.values[n]);return e}return Object.assign({},t)}function ON(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var $n=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!r0(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=nh(n)}setAll(e){let n=Hn.emptyPath(),i={},r=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,i,r),i={},r=[],n=a.popLast()}o?i[a.lastSegment()]=nh(o):r.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(e){let n=this.field(e.popLast());r0(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return or(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];r0(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){ya(n,(r,s)=>e[r]=s);for(let r of i)delete e[r]}clone(){return new t(nh(this.value))}};function NN(t){let e=[];return ya(t.fields,(n,i)=>{let r=new Hn([n]);if(r0(i)){let s=NN(i.mapValue).fields;if(s.length===0)e.push(r);else for(let o of s)e.push(r.child(o))}else e.push(r)}),new oi(e)}var Ei=class t{constructor(e,n,i,r,s,o,a){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,ve.min(),ve.min(),ve.min(),$n.empty(),0)}static newFoundDocument(e,n,i,r){return new t(e,1,n,ve.min(),i,r,0)}static newNoDocument(e,n){return new t(e,2,n,ve.min(),ve.min(),$n.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ve.min(),ve.min(),$n.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var fl=class{constructor(e,n){this.position=e,this.inclusive=n}};function sN(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){let s=e[r],o=t.position[r];if(s.field.isKeyField()?i=ne.comparator(ne.fromName(o.referenceValue),n.key):i=dl(o,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function oN(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!or(t.position[n],e.position[n]))return!1;return!0}var pl=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function fX(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var h0=class{},bt=class t extends h0{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new KT(e,n,i):n==="array-contains"?new ZT(e,i):n==="in"?new JT(e,i):n==="not-in"?new eE(e,i):n==="array-contains-any"?new tE(e,i):new t(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new XT(e,i):new QT(e,i)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(dl(n,this.value)):n!==null&&pa(this.value)===pa(n)&&this.matchesComparison(dl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return le()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Ii=class t extends h0{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return LN(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function LN(t){return t.op==="and"}function UN(t){return pX(t)&&LN(t)}function pX(t){for(let e of t.filters)if(e instanceof Ii)return!1;return!0}function YT(t){if(t instanceof bt)return t.field.canonicalString()+t.op.toString()+hl(t.value);if(UN(t))return t.filters.map(e=>YT(e)).join(",");{let e=t.filters.map(n=>YT(n)).join(",");return`${t.op}(${e})`}}function VN(t,e){return t instanceof bt?function(i,r){return r instanceof bt&&i.op===r.op&&i.field.isEqual(r.field)&&or(i.value,r.value)}(t,e):t instanceof Ii?function(i,r){return r instanceof Ii&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,a)=>s&&VN(o,r.filters[a]),!0):!1}(t,e):void le()}function BN(t){return t instanceof bt?function(n){return`${n.field.canonicalString()} ${n.op} ${hl(n.value)}`}(t):t instanceof Ii?function(n){return n.op.toString()+" {"+n.getFilters().map(BN).join(" ,")+"}"}(t):"Filter"}var KT=class extends bt{constructor(e,n,i){super(e,n,i),this.key=ne.fromName(i.referenceValue)}matches(e){let n=ne.comparator(e.key,this.key);return this.matchesComparison(n)}},XT=class extends bt{constructor(e,n){super(e,"in",n),this.keys=jN("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},QT=class extends bt{constructor(e,n){super(e,"not-in",n),this.keys=jN("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function jN(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>ne.fromName(i.referenceValue))}var ZT=class extends bt{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return v1(n)&&ch(n.arrayValue,this.value)}},JT=class extends bt{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&ch(this.value.arrayValue,n)}},eE=class extends bt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ch(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!ch(this.value.arrayValue,n)}},tE=class extends bt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!v1(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>ch(this.value.arrayValue,i))}};var nE=class{constructor(e,n=null,i=[],r=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function aN(t,e=null,n=[],i=[],r=null,s=null,o=null){return new nE(t,e,n,i,r,s,o)}function _1(t){let e=fe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>YT(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),B0(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>hl(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>hl(i)).join(",")),e.ue=n}return e.ue}function y1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!fX(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!VN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!oN(t.startAt,e.startAt)&&oN(t.endAt,e.endAt)}function iE(t){return ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var ma=class{constructor(e,n=null,i=[],r=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function mX(t,e,n,i,r,s,o,a){return new ma(t,e,n,i,r,s,o,a)}function w1(t){return new ma(t)}function cN(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function $N(t){return t.collectionGroup!==null}function ih(t){let e=fe(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new rn(Hn.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new pl(s,i))}),n.has(Hn.keyField().canonicalString())||e.ce.push(new pl(Hn.keyField(),i))}return e.ce}function rr(t){let e=fe(t);return e.le||(e.le=gX(e,ih(t))),e.le}function gX(t,e){if(t.limitType==="F")return aN(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{let s=r.dir==="desc"?"asc":"desc";return new pl(r.field,s)});let n=t.endAt?new fl(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new fl(t.startAt.position,t.startAt.inclusive):null;return aN(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function rE(t,e){let n=t.filters.concat([e]);return new ma(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function sE(t,e,n){return new ma(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function j0(t,e){return y1(rr(t),rr(e))&&t.limitType===e.limitType}function HN(t){return`${_1(rr(t))}|lt:${t.limitType}`}function il(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>BN(r)).join(", ")}]`),B0(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>hl(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>hl(r)).join(",")),`Target(${i})`}(rr(t))}; limitType=${t.limitType})`}function $0(t,e){return e.isFoundDocument()&&function(i,r){let s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):ne.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(t,e)&&function(i,r){for(let s of ih(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(i,r){for(let s of i.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(o,a,c){let u=sN(o,a,c);return o.inclusive?u<=0:u<0}(i.startAt,ih(i),r)||i.endAt&&!function(o,a,c){let u=sN(o,a,c);return o.inclusive?u>=0:u>0}(i.endAt,ih(i),r))}(t,e)}function vX(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function GN(t){return(e,n)=>{let i=!1;for(let r of ih(t)){let s=_X(r,e,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function _X(t,e,n){let i=t.field.isKeyField()?ne.comparator(e.key,n.key):function(s,o,a){let c=o.data.field(s),u=a.data.field(s);return c!==null&&u!==null?dl(c,u):le()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return le()}}var Hs=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(let[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){ya(this.inner,(n,i)=>{for(let[r,s]of i)e(r,s)})}isEmpty(){return RN(this.inner)}size(){return this.innerSize}};var yX=new dt(ne.comparator);function es(){return yX}var zN=new dt(ne.comparator);function th(...t){let e=zN;for(let n of t)e=e.insert(n.key,n);return e}function WN(t){let e=zN;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function la(){return rh()}function qN(){return rh()}function rh(){return new Hs(t=>t.toString(),(t,e)=>t.isEqual(e))}var wX=new dt(ne.comparator),xX=new rn(ne.comparator);function Ae(...t){let e=xX;for(let n of t)e=e.add(n);return e}var bX=new rn(Le);function CX(){return bX}function x1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oh(e)?"-0":e}}function YN(t){return{integerValue:""+t}}function TX(t,e){return aX(e)?YN(e):x1(t,e)}var ml=class{constructor(){this._=void 0}};function EX(t,e,n){return t instanceof gl?function(r,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&m1(s)&&(s=g1(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof ga?XN(t,e):t instanceof va?QN(t,e):function(r,s){let o=KN(r,s),a=lN(o)+lN(r.Pe);return qT(o)&&qT(r.Pe)?YN(a):x1(r.serializer,a)}(t,e)}function IX(t,e,n){return t instanceof ga?XN(t,e):t instanceof va?QN(t,e):n}function KN(t,e){return t instanceof vl?function(i){return qT(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}var gl=class extends ml{},ga=class extends ml{constructor(e){super(),this.elements=e}};function XN(t,e){let n=ZN(e);for(let i of t.elements)n.some(r=>or(r,i))||n.push(i);return{arrayValue:{values:n}}}var va=class extends ml{constructor(e){super(),this.elements=e}};function QN(t,e){let n=ZN(e);for(let i of t.elements)n=n.filter(r=>!or(r,i));return{arrayValue:{values:n}}}var vl=class extends ml{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function lN(t){return tt(t.integerValue||t.doubleValue)}function ZN(t){return v1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function SX(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof ga&&r instanceof ga||i instanceof va&&r instanceof va?ul(i.elements,r.elements,or):i instanceof vl&&r instanceof vl?or(i.Pe,r.Pe):i instanceof gl&&r instanceof gl}(t.transform,e.transform)}var oE=class{constructor(e,n){this.version=e,this.transformResults=n}},Qr=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function s0(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var _l=class{};function JN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new f0(t.key,Qr.none()):new _a(t.key,t.data,Qr.none());{let n=t.data,i=$n.empty(),r=new rn(Hn.comparator);for(let s of e.fields)if(!r.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new ar(t.key,i,new oi(r.toArray()),Qr.none())}}function DX(t,e,n){t instanceof _a?function(r,s,o){let a=r.value.clone(),c=dN(r.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ar?function(r,s,o){if(!s0(r.precondition,s))return void s.convertToUnknownDocument(o.version);let a=dN(r.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(eL(r)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function sh(t,e,n,i){return t instanceof _a?function(s,o,a,c){if(!s0(s.precondition,o))return a;let u=s.value.clone(),d=hN(s.fieldTransforms,c,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,i):t instanceof ar?function(s,o,a,c){if(!s0(s.precondition,o))return a;let u=hN(s.fieldTransforms,c,o),d=o.data;return d.setAll(eL(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,i):function(s,o,a){return s0(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function AX(t,e){let n=null;for(let i of t.fieldTransforms){let r=e.data.field(i.field),s=KN(i.transform,r||null);s!=null&&(n===null&&(n=$n.empty()),n.set(i.field,s))}return n||null}function uN(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&ul(i,r,(s,o)=>SX(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var _a=class extends _l{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},ar=class extends _l{constructor(e,n,i,r,s=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function eL(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let i=t.data.field(n);e.set(n,i)}}),e}function dN(t,e,n){let i=new Map;Be(t.length===n.length);for(let r=0;r<n.length;r++){let s=t[r],o=s.transform,a=e.data.field(s.field);i.set(s.field,IX(o,a,n[r]))}return i}function hN(t,e,n){let i=new Map;for(let r of t){let s=r.transform,o=n.data.field(r.field);i.set(r.field,EX(s,o,e))}return i}var f0=class extends _l{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},aE=class extends _l{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var cE=class{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){let i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){let s=this.mutations[r];s.key.isEqual(e.key)&&DX(s,e,i[r])}}applyToLocalView(e,n){for(let i of this.baseMutations)i.key.isEqual(e.key)&&(n=sh(i,e,n,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(e.key)&&(n=sh(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let i=qN();return this.mutations.forEach(r=>{let s=e.get(r.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(r.key)?null:a;let c=JN(o,a);c!==null&&i.set(r.key,c),o.isValidDocument()||o.convertToNoDocument(ve.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ae())}isEqual(e){return this.batchId===e.batchId&&ul(this.mutations,e.mutations,(n,i)=>uN(n,i))&&ul(this.baseMutations,e.baseMutations,(n,i)=>uN(n,i))}},lE=class t{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){Be(e.mutations.length===i.length);let r=function(){return wX}(),s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new t(e,n,i,r)}};var uE=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var dE=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var wt,Re;function FX(t){switch(t){default:return le();case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0}}function tL(t){if(t===void 0)return Zr("GRPC error has no .code"),N.UNKNOWN;switch(t){case wt.OK:return N.OK;case wt.CANCELLED:return N.CANCELLED;case wt.UNKNOWN:return N.UNKNOWN;case wt.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case wt.INTERNAL:return N.INTERNAL;case wt.UNAVAILABLE:return N.UNAVAILABLE;case wt.UNAUTHENTICATED:return N.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case wt.NOT_FOUND:return N.NOT_FOUND;case wt.ALREADY_EXISTS:return N.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return N.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case wt.ABORTED:return N.ABORTED;case wt.OUT_OF_RANGE:return N.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return N.UNIMPLEMENTED;case wt.DATA_LOSS:return N.DATA_LOSS;default:return le()}}(Re=wt||(wt={}))[Re.OK=0]="OK",Re[Re.CANCELLED=1]="CANCELLED",Re[Re.UNKNOWN=2]="UNKNOWN",Re[Re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Re[Re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Re[Re.NOT_FOUND=5]="NOT_FOUND",Re[Re.ALREADY_EXISTS=6]="ALREADY_EXISTS",Re[Re.PERMISSION_DENIED=7]="PERMISSION_DENIED",Re[Re.UNAUTHENTICATED=16]="UNAUTHENTICATED",Re[Re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Re[Re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Re[Re.ABORTED=10]="ABORTED",Re[Re.OUT_OF_RANGE=11]="OUT_OF_RANGE",Re[Re.UNIMPLEMENTED=12]="UNIMPLEMENTED",Re[Re.INTERNAL=13]="INTERNAL",Re[Re.UNAVAILABLE=14]="UNAVAILABLE",Re[Re.DATA_LOSS=15]="DATA_LOSS";var fN=null;function kX(){return new TextEncoder}var MX=new Bs([4294967295,4294967295],0);function pN(t){let e=kX().encode(t),n=new IT;return n.update(e),new Uint8Array(n.digest())}function mN(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Bs([n,i],0),new Bs([r,s],0)]}var hE=class t{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new ua(`Invalid padding: ${n}`);if(i<0)throw new ua(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new ua(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new ua(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Bs.fromNumber(this.Ie)}Ee(e,n,i){let r=e.add(n.multiply(Bs.fromNumber(i)));return r.compare(MX)===1&&(r=new Bs([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=pN(e),[i,r]=mN(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(i,r,s);if(!this.de(o))return!1}return!0}static create(e,n,i){let r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,r,n);return i.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let n=pN(e),[i,r]=mN(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(i,r,s);this.Ae(o)}}Ae(e){let n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}},ua=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var p0=class t{constructor(e,n,i,r,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,i){let r=new Map;return r.set(e,lh.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new t(ve.min(),r,new dt(Le),es(),Ae())}},lh=class t{constructor(e,n,i,r,s){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new t(i,n,Ae(),Ae(),Ae())}};var al=class{constructor(e,n,i,r){this.Re=e,this.removedTargetIds=n,this.key=i,this.Ve=r}},m0=class{constructor(e,n){this.targetId=e,this.me=n}},g0=class{constructor(e,n,i=sn.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}},v0=class{constructor(){this.fe=0,this.ge=vN(),this.pe=sn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ae(),n=Ae(),i=Ae();return this.ge.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:le()}}),new lh(this.pe,this.ye,e,n,i)}Ce(){this.we=!1,this.ge=vN()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Be(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},fE=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=es(),this.qe=gN(),this.Qe=new dt(Le)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let i=this.Ge(n);switch(e.state){case 0:this.ze(n)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),i.De(e.resumeToken));break;default:le()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((i,r)=>{this.ze(r)&&n(r)})}He(e){let n=e.targetId,i=e.me.count,r=this.Je(n);if(r){let s=r.target;if(iE(s))if(i===0){let o=new ne(s.path);this.Ue(n,o,Ei.newNoDocument(o,ve.min()))}else Be(i===1);else{let o=this.Ye(n);if(o!==i){let a=this.Ze(e),c=a?this.Xe(a,e,o):1;if(c!==0){this.je(n);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}fN?.et(function(d,f,m,g,w){var E,D,P,H,B,Q;let J={localCacheCount:d,existenceFilterCount:f.count,databaseId:m.database,projectId:m.projectId},te=f.unchangedNames;return te&&(J.bloomFilter={applied:w===0,hashCount:(E=te?.hashCount)!==null&&E!==void 0?E:0,bitmapLength:(H=(P=(D=te?.bits)===null||D===void 0?void 0:D.bitmap)===null||P===void 0?void 0:P.length)!==null&&H!==void 0?H:0,padding:(Q=(B=te?.bits)===null||B===void 0?void 0:B.padding)!==null&&Q!==void 0?Q:0,mightContain:I=>{var x;return(x=g?.mightContain(I))!==null&&x!==void 0&&x}}),J}(o,e.me,this.Le.tt(),a,c))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n,o,a;try{o=$s(i).toUint8Array()}catch(c){if(c instanceof u0)return ll("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new hE(o,r,s)}catch(c){return ll(c instanceof ua?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Ie===0?null:a}Xe(e,n,i){return n.me.count===i-this.nt(e,n.targetId)?0:2}nt(e,n){let i=this.Le.getRemoteKeysForTarget(n),r=0;return i.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),r++)}),r}rt(e){let n=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&iE(a.target)){let c=new ne(a.target.path);this.ke.get(c)!==null||this.it(o,c)||this.Ue(o,c,Ei.newNoDocument(c,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let i=Ae();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{let u=this.Je(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let r=new p0(e,n,this.Qe,this.ke,i);return this.ke=es(),this.qe=gN(),this.Qe=new dt(Le),r}$e(e,n){if(!this.ze(e))return;let i=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,i),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,i){if(!this.ze(e))return;let r=this.Ge(e);this.it(e,n)?r.Fe(n,1):r.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),i&&(this.ke=this.ke.insert(n,i))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new v0,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new rn(Le),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||X("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new v0),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function gN(){return new dt(ne.comparator)}function vN(){return new dt(ne.comparator)}var RX={asc:"ASCENDING",desc:"DESCENDING"},PX={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},OX={and:"AND",or:"OR"},pE=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function mE(t,e){return t.useProto3Json||B0(e)?e:{value:e}}function _0(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nL(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function NX(t,e){return _0(t,e.toTimestamp())}function sr(t){return Be(!!t),ve.fromTimestamp(function(n){let i=Jr(n);return new Bt(i.seconds,i.nanos)}(t))}function b1(t,e){return gE(t,e).canonicalString()}function gE(t,e){let n=function(r){return new st(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function iL(t){let e=st.fromString(t);return Be(cL(e)),e}function vE(t,e){return b1(t.databaseId,e.path)}function MT(t,e){let n=iL(e);if(n.get(1)!==t.databaseId.projectId)throw new q(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new q(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ne(sL(n))}function rL(t,e){return b1(t.databaseId,e)}function LX(t){let e=iL(t);return e.length===4?st.emptyPath():sL(e)}function _E(t){return new st(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function sL(t){return Be(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function _N(t,e,n){return{name:vE(t,e),fields:n.value.mapValue.fields}}function UX(t,e){let n;if("targetChange"in e){e.targetChange;let i=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:le()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(Be(d===void 0||typeof d=="string"),sn.fromBase64String(d||"")):(Be(d===void 0||d instanceof Buffer||d instanceof Uint8Array),sn.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){let d=u.code===void 0?N.UNKNOWN:tL(u.code);return new q(d,u.message||"")}(o);n=new g0(i,r,s,a||null)}else if("documentChange"in e){e.documentChange;let i=e.documentChange;i.document,i.document.name,i.document.updateTime;let r=MT(t,i.document.name),s=sr(i.document.updateTime),o=i.document.createTime?sr(i.document.createTime):ve.min(),a=new $n({mapValue:{fields:i.document.fields}}),c=Ei.newFoundDocument(r,s,o,a),u=i.targetIds||[],d=i.removedTargetIds||[];n=new al(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;let i=e.documentDelete;i.document;let r=MT(t,i.document),s=i.readTime?sr(i.readTime):ve.min(),o=Ei.newNoDocument(r,s),a=i.removedTargetIds||[];n=new al([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let i=e.documentRemove;i.document;let r=MT(t,i.document),s=i.removedTargetIds||[];n=new al([],s,r,null)}else{if(!("filter"in e))return le();{e.filter;let i=e.filter;i.targetId;let{count:r=0,unchangedNames:s}=i,o=new dE(r,s),a=i.targetId;n=new m0(a,o)}}return n}function VX(t,e){let n;if(e instanceof _a)n={update:_N(t,e.key,e.value)};else if(e instanceof f0)n={delete:vE(t,e.key)};else if(e instanceof ar)n={update:_N(t,e.key,e.data),updateMask:YX(e.fieldMask)};else{if(!(e instanceof aE))return le();n={verify:vE(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(s,o){let a=o.transform;if(a instanceof gl)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ga)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof va)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof vl)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw le()}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:NX(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:le()}(t,e.precondition)),n}function BX(t,e){return t&&t.length>0?(Be(e!==void 0),t.map(n=>function(r,s){let o=r.updateTime?sr(r.updateTime):sr(s);return o.isEqual(ve.min())&&(o=sr(s)),new oE(o,r.transformResults||[])}(n,e))):[]}function jX(t,e){return{documents:[rL(t,e.path)]}}function $X(t,e){let n={structuredQuery:{}},i=e.path,r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=rL(t,r);let s=function(u){if(u.length!==0)return aL(Ii.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(u){if(u.length!==0)return u.map(d=>function(m){return{field:rl(m.field),direction:zX(m.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=mE(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:r}}function HX(t){let e=LX(t.parent),n=t.structuredQuery,i=n.from?n.from.length:0,r=null;if(i>0){Be(i===1);let d=n.from[0];d.allDescendants?r=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(f){let m=oL(f);return m instanceof Ii&&UN(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(m=>function(w){return new pl(sl(w.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(f){let m;return m=typeof f=="object"?f.value:f,B0(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(f){let m=!!f.before,g=f.values||[];return new fl(g,m)}(n.startAt));let u=null;return n.endAt&&(u=function(f){let m=!f.before,g=f.values||[];return new fl(g,m)}(n.endAt)),mX(e,r,o,s,a,"F",c,u)}function GX(t,e){let n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return le()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function oL(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let i=sl(n.unaryFilter.field);return bt.create(i,"==",{doubleValue:NaN});case"IS_NULL":let r=sl(n.unaryFilter.field);return bt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=sl(n.unaryFilter.field);return bt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=sl(n.unaryFilter.field);return bt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return le()}}(t):t.fieldFilter!==void 0?function(n){return bt.create(sl(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return le()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ii.create(n.compositeFilter.filters.map(i=>oL(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return le()}}(n.compositeFilter.op))}(t):le()}function zX(t){return RX[t]}function WX(t){return PX[t]}function qX(t){return OX[t]}function rl(t){return{fieldPath:t.canonicalString()}}function sl(t){return Hn.fromServerFormat(t.fieldPath)}function aL(t){return t instanceof bt?function(n){if(n.op==="=="){if(rN(n.value))return{unaryFilter:{field:rl(n.field),op:"IS_NAN"}};if(iN(n.value))return{unaryFilter:{field:rl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(rN(n.value))return{unaryFilter:{field:rl(n.field),op:"IS_NOT_NAN"}};if(iN(n.value))return{unaryFilter:{field:rl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rl(n.field),op:WX(n.op),value:n.value}}}(t):t instanceof Ii?function(n){let i=n.getFilters().map(r=>aL(r));return i.length===1?i[0]:{compositeFilter:{op:qX(n.op),filters:i}}}(t):le()}function YX(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function cL(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var uh=class t{constructor(e,n,i,r,s=ve.min(),o=ve.min(),a=sn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var yE=class{constructor(e){this.ct=e}};function KX(t){let e=HX({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?sE(e,e.limit,"L"):e}var y0=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(tt(e.integerValue));else if("doubleValue"in e){let i=tt(e.doubleValue);isNaN(i)?this.dt(n,13):(this.dt(n,15),oh(i)?n.At(0):n.At(i))}else if("timestampValue"in e){let i=e.timestampValue;this.dt(n,20),typeof i=="string"&&(i=Jr(i)),n.Rt(`${i.seconds||""}`),n.At(i.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt($s(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let i=e.geoPointValue;this.dt(n,45),n.At(i.latitude||0),n.At(i.longitude||0)}else"mapValue"in e?ON(e)?this.dt(n,Number.MAX_SAFE_INTEGER):PN(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):le()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let i=e.fields||{};this.dt(n,55);for(let r of Object.keys(i))this.Vt(r,n),this.Tt(i[r],n)}wt(e,n){var i,r;let s=e.fields||{};this.dt(n,53);let o="value",a=((r=(i=s[o].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.length)||0;this.dt(n,15),n.At(tt(a)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){let i=e.values||[];this.dt(n,50);for(let r of i)this.Tt(r,n)}yt(e,n){this.dt(n,37),ne.fromName(e).path.forEach(i=>{this.dt(n,60),this.Dt(i,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};y0.vt=new y0;var wE=class{constructor(){this.un=new xE}addToCollectionParentIndex(e,n){return this.un.add(n),j.resolve()}getCollectionParents(e,n){return j.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return j.resolve()}deleteFieldIndex(e,n){return j.resolve()}deleteAllFieldIndexes(e){return j.resolve()}createTargetIndexes(e,n){return j.resolve()}getDocumentsMatchingTarget(e,n){return j.resolve(null)}getIndexType(e,n){return j.resolve(0)}getFieldIndexes(e,n){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,n){return j.resolve(fa.min())}getMinOffsetFromCollectionGroup(e,n){return j.resolve(fa.min())}updateCollectionGroup(e,n,i){return j.resolve()}updateIndexEntries(e,n){return j.resolve()}},xE=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new rn(st.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(e){let n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new rn(st.comparator)).toArray()}};var d_e=new Uint8Array(0);var nr=class t{constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};nr.DEFAULT_COLLECTION_PERCENTILE=10,nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nr.DEFAULT=new nr(41943040,nr.DEFAULT_COLLECTION_PERCENTILE,nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nr.DISABLED=new nr(-1,0,0);var dh=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var bE=class{constructor(){this.changes=new Hs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ei.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let i=this.changes.get(n);return i!==void 0?j.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var CE=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var TE=class{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&sh(i.mutation,r,oi.empty(),Bt.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,Ae()).next(()=>i))}getLocalViewOfDocuments(e,n,i=Ae()){let r=la();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(s=>{let o=th();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let i=la();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,Ae()))}populateOverlays(e,n,i){let r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,i,r){let s=es(),o=rh(),a=function(){return rh()}();return n.forEach((c,u)=>{let d=i.get(u.key);r.has(u.key)&&(d===void 0||d.mutation instanceof ar)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),sh(d.mutation,u,d.mutation.getFieldMask(),Bt.now())):o.set(u.key,oi.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var f;return a.set(u,new CE(d,(f=o.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){let i=rh(),r=new dt((o,a)=>o-a),s=Ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(c=>{let u=n.get(c);if(u===null)return;let d=i.get(c)||oi.empty();d=a.applyToLocalView(u,d),i.set(c,d);let f=(r.get(a.batchId)||Ae()).add(c);r=r.insert(a.batchId,f)})}).next(()=>{let o=[],a=r.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,d=c.value,f=qN();d.forEach(m=>{if(!s.has(m)){let g=JN(n.get(m),i.get(m));g!==null&&f.set(m,g),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return j.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(o){return ne.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):$N(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(s=>{let o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-s.size):j.resolve(la()),a=-1,c=s;return o.next(u=>j.forEach(u,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(d)?j.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{c=c.insert(d,m)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,Ae())).next(d=>({batchId:a,changes:WN(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ne(n)).next(i=>{let r=th();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){let s=n.collectionGroup,o=th();return this.indexManager.getCollectionParents(e,s).next(a=>j.forEach(a,c=>{let u=function(f,m){return new ma(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,i,r).next(d=>{d.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,s,r))).next(o=>{s.forEach((c,u)=>{let d=u.getKey();o.get(d)===null&&(o=o.insert(d,Ei.newInvalidDocument(d)))});let a=th();return o.forEach((c,u)=>{let d=s.get(c);d!==void 0&&sh(d.mutation,u,oi.empty(),Bt.now()),$0(n,u)&&(a=a.insert(c,u))}),a})}};var EE=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return j.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:sr(r.createTime)}}(n)),j.resolve()}getNamedQuery(e,n){return j.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(r){return{name:r.name,query:KX(r.bundledQuery),readTime:sr(r.readTime)}}(n)),j.resolve()}};var IE=class{constructor(){this.overlays=new dt(ne.comparator),this.Ir=new Map}getOverlay(e,n){return j.resolve(this.overlays.get(n))}getOverlays(e,n){let i=la();return j.forEach(n,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,s)=>{this.ht(e,n,s)}),j.resolve()}removeOverlaysForBatchId(e,n,i){let r=this.Ir.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(i)),j.resolve()}getOverlaysForCollection(e,n,i){let r=la(),s=n.length+1,o=new ne(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>i&&r.set(c.getKey(),c)}return j.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let s=new dt((u,d)=>u-d),o=this.overlays.getIterator();for(;o.hasNext();){let u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>i){let d=s.get(u.largestBatchId);d===null&&(d=la(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}let a=la(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=r)););return j.resolve(a)}ht(e,n,i){let r=this.overlays.get(i.key);if(r!==null){let o=this.Ir.get(r.largestBatchId).delete(i.key);this.Ir.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new uE(n,i));let s=this.Ir.get(n);s===void 0&&(s=Ae(),this.Ir.set(n,s)),this.Ir.set(n,s.add(i.key))}};var SE=class{constructor(){this.sessionToken=sn.EMPTY_BYTE_STRING}getSessionToken(e){return j.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,j.resolve()}};var hh=class{constructor(){this.Tr=new rn(xt.Er),this.dr=new rn(xt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let i=new xt(e,n);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Vr(new xt(e,n))}mr(e,n){e.forEach(i=>this.removeReference(i,n))}gr(e){let n=new ne(new st([])),i=new xt(n,e),r=new xt(n,e+1),s=[];return this.dr.forEachInRange([i,r],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new ne(new st([])),i=new xt(n,e),r=new xt(n,e+1),s=Ae();return this.dr.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new xt(e,0),i=this.Tr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}},xt=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ne.comparator(e.key,n.key)||Le(e.wr,n.wr)}static Ar(e,n){return Le(e.wr,n.wr)||ne.comparator(e.key,n.key)}};var DE=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new rn(xt.Er)}checkEmpty(e){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new cE(s,n,i,r);this.mutationQueue.push(o);for(let a of r)this.br=this.br.add(new xt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return j.resolve(o)}lookupMutationBatch(e,n){return j.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let i=n+1,r=this.vr(i),s=r<0?0:r;return j.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let i=new xt(n,0),r=new xt(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([i,r],o=>{let a=this.Dr(o.wr);s.push(a)}),j.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new rn(Le);return n.forEach(r=>{let s=new xt(r,0),o=new xt(r,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{i=i.add(a.wr)})}),j.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,n){let i=n.path,r=i.length+1,s=i;ne.isDocumentKey(s)||(s=s.child(""));let o=new xt(new ne(s),0),a=new rn(Le);return this.br.forEachWhile(c=>{let u=c.key.path;return!!i.isPrefixOf(u)&&(u.length===r&&(a=a.add(c.wr)),!0)},o),j.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(i=>{let r=this.Dr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){Be(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return j.forEach(n.mutations,r=>{let s=new xt(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.br=i})}On(e){}containsKey(e,n){let i=new xt(n,0),r=this.br.firstAfterOrEqual(i);return j.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,j.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var AE=class{constructor(e){this.Mr=e,this.docs=function(){return new dt(ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let i=n.key,r=this.docs.get(i),s=r?r.size:0,o=this.Mr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let i=this.docs.get(n);return j.resolve(i?i.document.mutableCopy():Ei.newInvalidDocument(n))}getEntries(e,n){let i=es();return n.forEach(r=>{let s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Ei.newInvalidDocument(r))}),j.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let s=es(),o=n.path,a=new ne(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:d}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||rX(iX(d),i)<=0||(r.has(d.key)||$0(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return j.resolve(s)}getAllFromCollectionGroup(e,n,i,r){le()}Or(e,n){return j.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new FE(this)}getSize(e){return j.resolve(this.size)}},FE=class extends bE{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.cr.addEntry(e,r)):this.cr.removeEntry(i)}),j.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var kE=class{constructor(e){this.persistence=e,this.Nr=new Hs(n=>_1(n),y1),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.Lr=0,this.Br=new hh,this.targetCount=0,this.kr=dh.Bn()}forEachTarget(e,n){return this.Nr.forEach((i,r)=>n(r)),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Lr&&(this.Lr=n),j.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new dh(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,j.resolve()}updateTargetData(e,n){return this.Kn(n),j.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,n,i){let r=0,s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),j.waitFor(s).next(()=>r)}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,n){let i=this.Nr.get(n)||null;return j.resolve(i)}addMatchingKeys(e,n,i){return this.Br.Rr(n,i),j.resolve()}removeMatchingKeys(e,n,i){this.Br.mr(n,i);let r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),j.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),j.resolve()}getMatchingKeysForTargetId(e,n){let i=this.Br.yr(n);return j.resolve(i)}containsKey(e,n){return j.resolve(this.Br.containsKey(n))}};var ME=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new MN(0),this.Kr=!1,this.Kr=!0,this.$r=new SE,this.referenceDelegate=e(this),this.Ur=new kE(this),this.indexManager=new wE,this.remoteDocumentCache=function(r){return new AE(r)}(i=>this.referenceDelegate.Wr(i)),this.serializer=new yE(n),this.Gr=new EE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new IE,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.qr[e.toKey()];return i||(i=new DE(n,this.referenceDelegate),this.qr[e.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,i){X("MemoryPersistence","Starting transaction:",e);let r=new RE(this.Qr.next());return this.referenceDelegate.zr(),i(r).next(s=>this.referenceDelegate.jr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Hr(e,n){return j.or(Object.values(this.qr).map(i=>()=>i.containsKey(e,n)))}},RE=class extends GT{constructor(e){super(),this.currentSequenceNumber=e}},PE=class t{constructor(e){this.persistence=e,this.Jr=new hh,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw le()}addReference(e,n,i){return this.Jr.addReference(i,n),this.Xr.delete(i.toString()),j.resolve()}removeReference(e,n,i){return this.Jr.removeReference(i,n),this.Xr.add(i.toString()),j.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),j.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(r=>this.Xr.add(r.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(s=>this.Xr.add(s.toString()))}).next(()=>i.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.Xr,i=>{let r=ne.fromPath(i);return this.ei(e,r).next(s=>{s||n.removeEntry(r,ve.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(i=>{i?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return j.or([()=>j.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var OE=class t{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.$i=i,this.Ui=r}static Wi(e,n){let i=Ae(),r=Ae();for(let s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new t(e,n.fromCache,i,r)}};var NE=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var LE=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return M2()?8:oX(Pt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,i,r){let s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new NE;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,i,r){return i.documentReadCount<this.ji?(eh()<=De.DEBUG&&X("QueryEngine","SDK will not create cache indexes for query:",il(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),j.resolve()):(eh()<=De.DEBUG&&X("QueryEngine","Query:",il(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Hi*r?(eh()<=De.DEBUG&&X("QueryEngine","The SDK decides to create cache indexes for query:",il(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,rr(n))):j.resolve())}Yi(e,n){if(cN(n))return j.resolve(null);let i=rr(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=sE(n,null,"F"),i=rr(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{let o=Ae(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,i).next(c=>{let u=this.ts(n,a);return this.ns(n,u,o,c.readTime)?this.Yi(e,sE(n,null,"F")):this.rs(e,u,n,c)}))})))}Zi(e,n,i,r){return cN(n)||r.isEqual(ve.min())?j.resolve(null):this.Ji.getDocuments(e,i).next(s=>{let o=this.ts(n,s);return this.ns(n,o,i,r)?j.resolve(null):(eh()<=De.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),il(n)),this.rs(e,o,n,nX(r,-1)).next(a=>a))})}ts(e,n){let i=new rn(GN(e));return n.forEach((r,s)=>{$0(e,s)&&(i=i.add(s))}),i}ns(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Xi(e,n,i){return eh()<=De.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",il(n)),this.Ji.getDocumentsMatchingQuery(e,n,fa.min(),i)}rs(e,n,i,r){return this.Ji.getDocumentsMatchingQuery(e,i,r).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var UE=class{constructor(e,n,i,r){this.persistence=e,this.ss=n,this.serializer=r,this.os=new dt(Le),this._s=new Hs(s=>_1(s),y1),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(i)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new TE(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function XX(t,e,n,i){return new UE(t,e,n,i)}function lL(t,e){return _(this,null,function*(){let n=fe(t);return yield n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.ls(e),n.mutationQueue.getAllMutationBatches(i))).next(s=>{let o=[],a=[],c=Ae();for(let u of r){o.push(u.batchId);for(let d of u.mutations)c=c.add(d.key)}for(let u of s){a.push(u.batchId);for(let d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(i,c).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})})}function QX(t,e){let n=fe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{let r=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,c,u,d){let f=u.batch,m=f.keys(),g=j.resolve();return m.forEach(w=>{g=g.next(()=>d.getEntry(c,w)).next(E=>{let D=u.docVersions.get(w);Be(D!==null),E.version.compareTo(D)<0&&(f.applyToRemoteDocument(E,u),E.isValidDocument()&&(E.setReadTime(u.commitVersion),d.addEntry(E)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(c,f))}(n,i,e,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let c=Ae();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function uL(t){let e=fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function ZX(t,e){let n=fe(t),i=e.snapshotVersion,r=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.cs.newChangeBuffer({trackRemovals:!0});r=n.os;let a=[];e.targetChanges.forEach((d,f)=>{let m=r.get(f);if(!m)return;a.push(n.Ur.removeMatchingKeys(s,d.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(s,d.addedDocuments,f)));let g=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(sn.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,i)),r=r.insert(f,g),function(E,D,P){return E.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0}(m,g,d)&&a.push(n.Ur.updateTargetData(s,g))});let c=es(),u=Ae();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(JX(s,o,e.documentUpdates).next(d=>{c=d.Ps,u=d.Is})),!i.isEqual(ve.min())){let d=n.Ur.getLastRemoteSnapshotVersion(s).next(f=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(d)}return j.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.os=r,s))}function JX(t,e,n){let i=Ae(),r=Ae();return n.forEach(s=>i=i.add(s)),e.getEntries(t,i).next(s=>{let o=es();return n.forEach((a,c)=>{let u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(r=r.add(a)),c.isNoDocument()&&c.version.isEqual(ve.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):X("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{Ps:o,Is:r}})}function eQ(t,e){let n=fe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function tQ(t,e){let n=fe(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Ur.getTargetData(i,e).next(s=>s?(r=s,j.resolve(r)):n.Ur.allocateTargetId(i).next(o=>(r=new uh(e,o,"TargetPurposeListen",i.currentSequenceNumber),n.Ur.addTargetData(i,r).next(()=>r))))}).then(i=>{let r=n.os.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.os=n.os.insert(i.targetId,i),n._s.set(e,i.targetId)),i})}function VE(t,e,n){return _(this,null,function*(){let i=fe(t),r=i.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!yh(o))throw o;X("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}i.os=i.os.remove(e),i._s.delete(r.target)})}function yN(t,e,n){let i=fe(t),r=ve.min(),s=Ae();return i.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,d){let f=fe(c),m=f._s.get(d);return m!==void 0?j.resolve(f.os.get(m)):f.Ur.getTargetData(u,d)}(i,o,rr(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>i.ss.getDocumentsMatchingQuery(o,e,n?r:ve.min(),n?s:Ae())).next(a=>(nQ(i,vX(e),a),{documents:a,Ts:s})))}function nQ(t,e,n){let i=t.us.get(e)||ve.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),t.us.set(e,i)}var w0=class{constructor(){this.activeTargetIds=CX()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var BE=class{constructor(){this.so=new w0,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,i){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new w0,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var jE=class{_o(e){}shutdown(){}};var x0=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){X("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){X("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var i0=null;function RT(){return i0===null?i0=function(){return 268435456+Math.round(2147483648*Math.random())}():i0++,"0x"+i0.toString(16)}var iQ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var $E=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var nn="WebChannelConnection",HE=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+n.host,this.vo=`projects/${r}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get Fo(){return!1}Mo(n,i,r,s,o){let a=RT(),c=this.xo(n,i.toUriEncodedString());X("RestConnection",`Sending RPC '${n}' ${a}:`,c,r);let u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(n,c,u,r).then(d=>(X("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw ll("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",c,"request:",r),d})}Lo(n,i,r,s,o,a){return this.Mo(n,i,r,s,o)}Oo(n,i,r){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Cl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>n[o]=s),r&&r.headers.forEach((s,o)=>n[o]=s)}xo(n,i){let r=iQ[n];return`${this.Do}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,i,r){let s=RT();return new Promise((o,a)=>{let c=new ST;c.setWithCredentials(!0),c.listenOnce(DT.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Jd.NO_ERROR:let d=c.getResponseJson();X(nn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case Jd.TIMEOUT:X(nn,`RPC '${e}' ${s} timed out`),a(new q(N.DEADLINE_EXCEEDED,"Request time out"));break;case Jd.HTTP_ERROR:let f=c.getStatus();if(X(nn,`RPC '${e}' ${s} failed with status:`,f,"response text:",c.getResponseText()),f>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);let g=m?.error;if(g&&g.status&&g.message){let w=function(D){let P=D.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(P)>=0?P:N.UNKNOWN}(g.status);a(new q(w,g.message))}else a(new q(N.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new q(N.UNAVAILABLE,"Connection failed."));break;default:le()}}finally{X(nn,`RPC '${e}' ${s} completed.`)}});let u=JSON.stringify(r);X(nn,`RPC '${e}' ${s} sending request:`,r),c.send(n,"POST",u,i,15)})}Bo(e,n,i){let r=RT(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=kT(),a=FT(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,n,i),c.encodeInitMessageHeaders=!0;let d=s.join("");X(nn,`Creating RPC '${e}' stream ${r}: ${d}`,c);let f=o.createWebChannel(d,c),m=!1,g=!1,w=new $E({Io:D=>{g?X(nn,`Not sending because RPC '${e}' stream ${r} is closed:`,D):(m||(X(nn,`Opening RPC '${e}' stream ${r} transport.`),f.open(),m=!0),X(nn,`RPC '${e}' stream ${r} sending:`,D),f.send(D))},To:()=>f.close()}),E=(D,P,H)=>{D.listen(P,B=>{try{H(B)}catch(Q){setTimeout(()=>{throw Q},0)}})};return E(f,nl.EventType.OPEN,()=>{g||(X(nn,`RPC '${e}' stream ${r} transport opened.`),w.yo())}),E(f,nl.EventType.CLOSE,()=>{g||(g=!0,X(nn,`RPC '${e}' stream ${r} transport closed`),w.So())}),E(f,nl.EventType.ERROR,D=>{g||(g=!0,ll(nn,`RPC '${e}' stream ${r} transport errored:`,D),w.So(new q(N.UNAVAILABLE,"The operation could not be completed")))}),E(f,nl.EventType.MESSAGE,D=>{var P;if(!g){let H=D.data[0];Be(!!H);let B=H,Q=B.error||((P=B[0])===null||P===void 0?void 0:P.error);if(Q){X(nn,`RPC '${e}' stream ${r} received error:`,Q);let J=Q.status,te=function(b){let T=wt[b];if(T!==void 0)return tL(T)}(J),I=Q.message;te===void 0&&(te=N.INTERNAL,I="Unknown error status: "+J+" with message "+Q.message),g=!0,w.So(new q(te,I)),f.close()}else X(nn,`RPC '${e}' stream ${r} received:`,H),w.bo(H)}}),E(a,AT.STAT_EVENT,D=>{D.stat===t0.PROXY?X(nn,`RPC '${e}' stream ${r} detected buffering proxy`):D.stat===t0.NOPROXY&&X(nn,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{w.wo()},0),w}};function PT(){return typeof document<"u"?document:null}function H0(t){return new pE(t,!0)}var b0=class{constructor(e,n,i=1e3,r=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=i,this.qo=r,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),r=Math.max(0,n-i);r>0&&X("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var C0=class{constructor(e,n,i,r,s,o,a,c){this.ui=e,this.Ho=i,this.Jo=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new b0(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return _(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return _(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return _(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===N.RESOURCE_EXHAUSTED?(Zr(n.toString()),Zr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Yo===n&&this.P_(i,r)},i=>{e(()=>{let r=new q(N.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(r)})})}P_(e,n){let i=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(r=>{i(()=>this.I_(r))}),this.stream.onMessage(r=>{i(()=>++this.e_==1?this.E_(r):this.onNext(r))})}i_(){this.state=5,this.t_.Go(()=>_(this,null,function*(){this.state=0,this.start()}))}I_(e){return X("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(X("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},GE=class extends C0{constructor(e,n,i,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=UX(this.serializer,e),i=function(s){if(!("targetChange"in s))return ve.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?ve.min():o.readTime?sr(o.readTime):ve.min()}(e);return this.listener.d_(n,i)}A_(e){let n={};n.database=_E(this.serializer),n.addTarget=function(s,o){let a,c=o.target;if(a=iE(c)?{documents:jX(s,c)}:{query:$X(s,c)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=nL(s,o.resumeToken);let u=mE(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(ve.min())>0){a.readTime=_0(s,o.snapshotVersion.toTimestamp());let u=mE(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let i=GX(this.serializer,e);i&&(n.labels=i),this.a_(n)}R_(e){let n={};n.database=_E(this.serializer),n.removeTarget=e,this.a_(n)}},zE=class extends C0{constructor(e,n,i,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Be(!!e.streamToken),this.lastStreamToken=e.streamToken,Be(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Be(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=BX(e.writeResults,e.commitTime),i=sr(e.commitTime);return this.listener.g_(i,n)}p_(){let e={};e.database=_E(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(i=>VX(this.serializer,i))};this.a_(n)}};var WE=class extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new q(N.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,i,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,gE(n,i),r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new q(N.UNKNOWN,s.toString())})}Lo(e,n,i,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,gE(n,i),r,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new q(N.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},qE=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Zr(n),this.D_=!1):X("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var YE=class{constructor(e,n,i,r,s){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{i.enqueueAndForget(()=>_(this,null,function*(){wa(this)&&(X("RemoteStore","Restarting streams for network reachability change."),yield function(c){return _(this,null,function*(){let u=fe(c);u.L_.add(4),yield wh(u),u.q_.set("Unknown"),u.L_.delete(4),yield G0(u)})}(this))}))}),this.q_=new qE(i,r)}};function G0(t){return _(this,null,function*(){if(wa(t))for(let e of t.B_)yield e(!0)})}function wh(t){return _(this,null,function*(){for(let e of t.B_)yield e(!1)})}function dL(t,e){let n=fe(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),I1(n)?E1(n):Tl(n).r_()&&T1(n,e))}function C1(t,e){let n=fe(t),i=Tl(n);n.N_.delete(e),i.r_()&&hL(n,e),n.N_.size===0&&(i.r_()?i.o_():wa(n)&&n.q_.set("Unknown"))}function T1(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ve.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Tl(t).A_(e)}function hL(t,e){t.Q_.xe(e),Tl(t).R_(e)}function E1(t){t.Q_=new fE({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Tl(t).start(),t.q_.v_()}function I1(t){return wa(t)&&!Tl(t).n_()&&t.N_.size>0}function wa(t){return fe(t).L_.size===0}function fL(t){t.Q_=void 0}function rQ(t){return _(this,null,function*(){t.q_.set("Online")})}function sQ(t){return _(this,null,function*(){t.N_.forEach((e,n)=>{T1(t,e)})})}function oQ(t,e){return _(this,null,function*(){fL(t),I1(t)?(t.q_.M_(e),E1(t)):t.q_.set("Unknown")})}function aQ(t,e,n){return _(this,null,function*(){if(t.q_.set("Online"),e instanceof g0&&e.state===2&&e.cause)try{yield function(r,s){return _(this,null,function*(){let o=s.cause;for(let a of s.targetIds)r.N_.has(a)&&(yield r.remoteSyncer.rejectListen(a,o),r.N_.delete(a),r.Q_.removeTarget(a))})}(t,e)}catch(i){X("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield T0(t,i)}else if(e instanceof al?t.Q_.Ke(e):e instanceof m0?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ve.min()))try{let i=yield uL(t.localStore);n.compareTo(i)>=0&&(yield function(s,o){let a=s.Q_.rt(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let d=s.N_.get(u);d&&s.N_.set(u,d.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{let d=s.N_.get(c);if(!d)return;s.N_.set(c,d.withResumeToken(sn.EMPTY_BYTE_STRING,d.snapshotVersion)),hL(s,c);let f=new uh(d.target,c,u,d.sequenceNumber);T1(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(i){X("RemoteStore","Failed to raise snapshot:",i),yield T0(t,i)}})}function T0(t,e,n){return _(this,null,function*(){if(!yh(e))throw e;t.L_.add(1),yield wh(t),t.q_.set("Offline"),n||(n=()=>uL(t.localStore)),t.asyncQueue.enqueueRetryable(()=>_(null,null,function*(){X("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield G0(t)}))})}function pL(t,e){return e().catch(n=>T0(t,n,e))}function z0(t){return _(this,null,function*(){let e=fe(t),n=Gs(e),i=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;cQ(e);)try{let r=yield eQ(e.localStore,i);if(r===null){e.O_.length===0&&n.o_();break}i=r.batchId,lQ(e,r)}catch(r){yield T0(e,r)}mL(e)&&gL(e)})}function cQ(t){return wa(t)&&t.O_.length<10}function lQ(t,e){t.O_.push(e);let n=Gs(t);n.r_()&&n.V_&&n.m_(e.mutations)}function mL(t){return wa(t)&&!Gs(t).n_()&&t.O_.length>0}function gL(t){Gs(t).start()}function uQ(t){return _(this,null,function*(){Gs(t).p_()})}function dQ(t){return _(this,null,function*(){let e=Gs(t);for(let n of t.O_)e.m_(n.mutations)})}function hQ(t,e,n){return _(this,null,function*(){let i=t.O_.shift(),r=lE.from(i,e,n);yield pL(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),yield z0(t)})}function fQ(t,e){return _(this,null,function*(){e&&Gs(t).V_&&(yield function(i,r){return _(this,null,function*(){if(function(o){return FX(o)&&o!==N.ABORTED}(r.code)){let s=i.O_.shift();Gs(i).s_(),yield pL(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),yield z0(i)}})}(t,e)),mL(t)&&gL(t)})}function wN(t,e){return _(this,null,function*(){let n=fe(t);n.asyncQueue.verifyOperationInProgress(),X("RemoteStore","RemoteStore received new credentials");let i=wa(n);n.L_.add(3),yield wh(n),i&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield G0(n)})}function pQ(t,e){return _(this,null,function*(){let n=fe(t);e?(n.L_.delete(2),yield G0(n)):e||(n.L_.add(2),yield wh(n),n.q_.set("Unknown"))})}function Tl(t){return t.K_||(t.K_=function(n,i,r){let s=fe(n);return s.w_(),new GE(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Eo:rQ.bind(null,t),Ro:sQ.bind(null,t),mo:oQ.bind(null,t),d_:aQ.bind(null,t)}),t.B_.push(e=>_(null,null,function*(){e?(t.K_.s_(),I1(t)?E1(t):t.q_.set("Unknown")):(yield t.K_.stop(),fL(t))}))),t.K_}function Gs(t){return t.U_||(t.U_=function(n,i,r){let s=fe(n);return s.w_(),new zE(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:uQ.bind(null,t),mo:fQ.bind(null,t),f_:dQ.bind(null,t),g_:hQ.bind(null,t)}),t.B_.push(e=>_(null,null,function*(){e?(t.U_.s_(),yield z0(t)):(yield t.U_.stop(),t.O_.length>0&&(X("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var KE=class t{constructor(e,n,i,r,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Ti,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,s){let o=Date.now()+i,a=new t(e,n,o,r,s);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function S1(t,e){if(Zr("AsyncQueue",`${e}: ${t}`),yh(t))return new q(N.UNAVAILABLE,`${e}: ${t}`);throw t}var E0=class t{constructor(e){this.comparator=e?(n,i)=>e(n,i)||ne.comparator(n.key,i.key):(n,i)=>ne.comparator(n.key,i.key),this.keyedMap=th(),this.sortedSet=new dt(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){let r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let i=new t;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}};var I0=class{constructor(){this.W_=new dt(ne.comparator)}track(e){let n=e.doc.key,i=this.W_.get(n);i?e.type!==0&&i.type===3?this.W_=this.W_.insert(n,e):e.type===3&&i.type!==1?this.W_=this.W_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.W_=this.W_.remove(n):e.type===1&&i.type===2?this.W_=this.W_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):le():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,i)=>{e.push(i)}),e}},yl=class t{constructor(e,n,i,r,s,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,i,r,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,E0.emptySet(n),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&j0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}};var XE=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},QE=class{constructor(){this.queries=xN(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,i){let r=fe(n),s=r.queries;r.queries=xN(),s.forEach((o,a)=>{for(let c of a.j_)c.onError(i)})})(this,new q(N.ABORTED,"Firestore shutting down"))}};function xN(){return new Hs(t=>HN(t),j0)}function vL(t,e){return _(this,null,function*(){let n=fe(t),i=3,r=e.query,s=n.queries.get(r);s?!s.H_()&&e.J_()&&(i=2):(s=new XE,i=e.J_()?0:1);try{switch(i){case 0:s.z_=yield n.onListen(r,!0);break;case 1:s.z_=yield n.onListen(r,!1);break;case 2:yield n.onFirstRemoteStoreListen(r)}}catch(o){let a=S1(o,`Initialization of query '${il(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&D1(n)})}function _L(t,e){return _(this,null,function*(){let n=fe(t),i=e.query,r=3,s=n.queries.get(i);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?r=e.J_()?0:1:!s.H_()&&e.J_()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}})}function mQ(t,e){let n=fe(t),i=!1;for(let r of e){let s=r.query,o=n.queries.get(s);if(o){for(let a of o.j_)a.X_(r)&&(i=!0);o.z_=r}}i&&D1(n)}function gQ(t,e,n){let i=fe(t),r=i.queries.get(e);if(r)for(let s of r.j_)s.onError(n);i.queries.delete(e)}function D1(t){t.Y_.forEach(e=>{e.next()})}var ZE,bN;(bN=ZE||(ZE={})).ea="default",bN.Cache="cache";var S0=class{constructor(e,n,i){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(e){if(!this.options.includeMetadataChanges){let i=[];for(let r of e.docChanges)r.type!==3&&i.push(r);e=new yl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let i=n!=="Offline";return(!this.options._a||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=yl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==ZE.Cache}};var D0=class{constructor(e){this.key=e}},A0=class{constructor(e){this.key=e}},JE=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ae(),this.mutatedKeys=Ae(),this.Aa=GN(e),this.Ra=new E0(this.Aa)}get Va(){return this.Ta}ma(e,n){let i=n?n.fa:new I0,r=n?n.Ra:this.Ra,s=n?n.mutatedKeys:this.mutatedKeys,o=r,a=!1,c=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,u=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((d,f)=>{let m=r.get(d),g=$0(this.query,f)?f:null,w=!!m&&this.mutatedKeys.has(m.key),E=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations),D=!1;m&&g?m.data.isEqual(g.data)?w!==E&&(i.track({type:3,doc:g}),D=!0):this.ga(m,g)||(i.track({type:2,doc:g}),D=!0,(c&&this.Aa(g,c)>0||u&&this.Aa(g,u)<0)&&(a=!0)):!m&&g?(i.track({type:0,doc:g}),D=!0):m&&!g&&(i.track({type:1,doc:m}),D=!0,(c||u)&&(a=!0)),D&&(g?(o=o.add(g),s=E?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),i.track({type:1,doc:d})}return{Ra:o,fa:i,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((d,f)=>function(g,w){let E=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return le()}};return E(g)-E(w)}(d.type,f.type)||this.Aa(d.doc,f.doc)),this.pa(i),r=r!=null&&r;let a=n&&!r?this.ya():[],c=this.da.size===0&&this.current&&!r?1:0,u=c!==this.Ea;return this.Ea=c,o.length!==0||u?{snapshot:new yl(this.query,e.Ra,s,o,e.mutatedKeys,c===0,u,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new I0,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=Ae(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});let n=[];return e.forEach(i=>{this.da.has(i)||n.push(new A0(i))}),this.da.forEach(i=>{e.has(i)||n.push(new D0(i))}),n}ba(e){this.Ta=e.Ts,this.da=Ae();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return yl.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},e1=class{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}},t1=class{constructor(e){this.key=e,this.va=!1}},n1=class{constructor(e,n,i,r,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Hs(a=>HN(a),j0),this.Ma=new Map,this.xa=new Set,this.Oa=new dt(ne.comparator),this.Na=new Map,this.La=new hh,this.Ba={},this.ka=new Map,this.qa=dh.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function vQ(t,e,n=!0){return _(this,null,function*(){let i=TL(t),r,s=i.Fa.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.Da()):r=yield yL(i,e,n,!0),r})}function _Q(t,e){return _(this,null,function*(){let n=TL(t);yield yL(n,e,!0,!1)})}function yL(t,e,n,i){return _(this,null,function*(){let r=yield tQ(t.localStore,rr(e)),s=r.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n),a;return i&&(a=yield yQ(t,e,s,o==="current",r.resumeToken)),t.isPrimaryClient&&n&&dL(t.remoteStore,r),a})}function yQ(t,e,n,i,r){return _(this,null,function*(){t.Ka=(f,m,g)=>function(E,D,P,H){return _(this,null,function*(){let B=D.view.ma(P);B.ns&&(B=yield yN(E.localStore,D.query,!1).then(({documents:I})=>D.view.ma(I,B)));let Q=H&&H.targetChanges.get(D.targetId),J=H&&H.targetMismatches.get(D.targetId)!=null,te=D.view.applyChanges(B,E.isPrimaryClient,Q,J);return TN(E,D.targetId,te.wa),te.snapshot})}(t,f,m,g);let s=yield yN(t.localStore,e,!0),o=new JE(e,s.Ts),a=o.ma(s.documents),c=lh.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),u=o.applyChanges(a,t.isPrimaryClient,c);TN(t,n,u.wa);let d=new e1(e,n,o);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot})}function wQ(t,e,n){return _(this,null,function*(){let i=fe(t),r=i.Fa.get(e),s=i.Ma.get(r.targetId);if(s.length>1)return i.Ma.set(r.targetId,s.filter(o=>!j0(o,e))),void i.Fa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||(yield VE(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&C1(i.remoteStore,r.targetId),i1(i,r.targetId)}).catch(_h))):(i1(i,r.targetId),yield VE(i.localStore,r.targetId,!0))})}function xQ(t,e){return _(this,null,function*(){let n=fe(t),i=n.Fa.get(e),r=n.Ma.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),C1(n.remoteStore,i.targetId))})}function bQ(t,e,n){return _(this,null,function*(){let i=AQ(t);try{let r=yield function(o,a){let c=fe(o),u=Bt.now(),d=a.reduce((g,w)=>g.add(w.key),Ae()),f,m;return c.persistence.runTransaction("Locally write mutations","readwrite",g=>{let w=es(),E=Ae();return c.cs.getEntries(g,d).next(D=>{w=D,w.forEach((P,H)=>{H.isValidDocument()||(E=E.add(P))})}).next(()=>c.localDocuments.getOverlayedDocuments(g,w)).next(D=>{f=D;let P=[];for(let H of a){let B=AX(H,f.get(H.key).overlayedDocument);B!=null&&P.push(new ar(H.key,B,NN(B.value.mapValue),Qr.exists(!0)))}return c.mutationQueue.addMutationBatch(g,u,P,a)}).next(D=>{m=D;let P=D.applyToLocalDocumentSet(f,E);return c.documentOverlayCache.saveOverlays(g,D.batchId,P)})}).then(()=>({batchId:m.batchId,changes:WN(f)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,c){let u=o.Ba[o.currentUser.toKey()];u||(u=new dt(Le)),u=u.insert(a,c),o.Ba[o.currentUser.toKey()]=u}(i,r.batchId,n),yield xh(i,r.changes),yield z0(i.remoteStore)}catch(r){let s=S1(r,"Failed to persist write");n.reject(s)}})}function wL(t,e){return _(this,null,function*(){let n=fe(t);try{let i=yield ZX(n.localStore,e);e.targetChanges.forEach((r,s)=>{let o=n.Na.get(s);o&&(Be(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.va=!0:r.modifiedDocuments.size>0?Be(o.va):r.removedDocuments.size>0&&(Be(o.va),o.va=!1))}),yield xh(n,i,e)}catch(i){yield _h(i)}})}function CN(t,e,n){let i=fe(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){let r=[];i.Fa.forEach((s,o)=>{let a=o.view.Z_(e);a.snapshot&&r.push(a.snapshot)}),function(o,a){let c=fe(o);c.onlineState=a;let u=!1;c.queries.forEach((d,f)=>{for(let m of f.j_)m.Z_(a)&&(u=!0)}),u&&D1(c)}(i.eventManager,e),r.length&&i.Ca.d_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function CQ(t,e,n){return _(this,null,function*(){let i=fe(t);i.sharedClientState.updateQueryState(e,"rejected",n);let r=i.Na.get(e),s=r&&r.key;if(s){let o=new dt(ne.comparator);o=o.insert(s,Ei.newNoDocument(s,ve.min()));let a=Ae().add(s),c=new p0(ve.min(),new Map,new dt(Le),o,a);yield wL(i,c),i.Oa=i.Oa.remove(s),i.Na.delete(e),A1(i)}else yield VE(i.localStore,e,!1).then(()=>i1(i,e,n)).catch(_h)})}function TQ(t,e){return _(this,null,function*(){let n=fe(t),i=e.batch.batchId;try{let r=yield QX(n.localStore,e);bL(n,i,null),xL(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),yield xh(n,r)}catch(r){yield _h(r)}})}function EQ(t,e,n){return _(this,null,function*(){let i=fe(t);try{let r=yield function(o,a){let c=fe(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,a).next(f=>(Be(f!==null),d=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(i.localStore,e);bL(i,e,n),xL(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),yield xh(i,r)}catch(r){yield _h(r)}})}function xL(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function bL(t,e,n){let i=fe(t),r=i.Ba[i.currentUser.toKey()];if(r){let s=r.get(e);s&&(n?s.reject(n):s.resolve(),r=r.remove(e)),i.Ba[i.currentUser.toKey()]=r}}function i1(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let i of t.Ma.get(e))t.Fa.delete(i),n&&t.Ca.$a(i,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(i=>{t.La.containsKey(i)||CL(t,i)})}function CL(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(C1(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),A1(t))}function TN(t,e,n){for(let i of n)i instanceof D0?(t.La.addReference(i.key,e),IQ(t,i)):i instanceof A0?(X("SyncEngine","Document no longer in limbo: "+i.key),t.La.removeReference(i.key,e),t.La.containsKey(i.key)||CL(t,i.key)):le()}function IQ(t,e){let n=e.key,i=n.path.canonicalString();t.Oa.get(n)||t.xa.has(i)||(X("SyncEngine","New document in limbo: "+n),t.xa.add(i),A1(t))}function A1(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new ne(st.fromString(e)),i=t.qa.next();t.Na.set(i,new t1(n)),t.Oa=t.Oa.insert(n,i),dL(t.remoteStore,new uh(rr(w1(n.path)),i,"TargetPurposeLimboResolution",MN.oe))}}function xh(t,e,n){return _(this,null,function*(){let i=fe(t),r=[],s=[],o=[];i.Fa.isEmpty()||(i.Fa.forEach((a,c)=>{o.push(i.Ka(c,e,n).then(u=>{var d;if((u||n)&&i.isPrimaryClient){let f=u?!u.fromCache:(d=n?.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;i.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){r.push(u);let f=OE.Wi(c.targetId,u);s.push(f)}}))}),yield Promise.all(o),i.Ca.d_(r),yield function(c,u){return _(this,null,function*(){let d=fe(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>j.forEach(u,m=>j.forEach(m.$i,g=>d.persistence.referenceDelegate.addReference(f,m.targetId,g)).next(()=>j.forEach(m.Ui,g=>d.persistence.referenceDelegate.removeReference(f,m.targetId,g)))))}catch(f){if(!yh(f))throw f;X("LocalStore","Failed to update sequence numbers: "+f)}for(let f of u){let m=f.targetId;if(!f.fromCache){let g=d.os.get(m),w=g.snapshotVersion,E=g.withLastLimboFreeSnapshotVersion(w);d.os=d.os.insert(m,E)}}})}(i.localStore,s))})}function SQ(t,e){return _(this,null,function*(){let n=fe(t);if(!n.currentUser.isEqual(e)){X("SyncEngine","User change. New user:",e.toKey());let i=yield lL(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(c=>{c.reject(new q(N.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield xh(n,i.hs)}})}function DQ(t,e){let n=fe(t),i=n.Na.get(e);if(i&&i.va)return Ae().add(i.key);{let r=Ae(),s=n.Ma.get(e);if(!s)return r;for(let o of s){let a=n.Fa.get(o);r=r.unionWith(a.view.Va)}return r}}function TL(t){let e=fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=wL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=DQ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=CQ.bind(null,e),e.Ca.d_=mQ.bind(null,e.eventManager),e.Ca.$a=gQ.bind(null,e.eventManager),e}function AQ(t){let e=fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=TQ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=EQ.bind(null,e),e}var EN=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return _(this,null,function*(){this.serializer=H0(n.databaseInfo.databaseId),this.sharedClientState=this.Wa(n),this.persistence=this.Ga(n),yield this.persistence.start(),this.localStore=this.za(n),this.gcScheduler=this.ja(n,this.localStore),this.indexBackfillerScheduler=this.Ha(n,this.localStore)})}ja(n,i){return null}Ha(n,i){return null}za(n){return XX(this.persistence,new LE,n.initialUser,this.serializer)}Ga(n){return new ME(PE.Zr,this.serializer)}Wa(n){return new BE}terminate(){return _(this,null,function*(){var n,i;(n=this.gcScheduler)===null||n===void 0||n.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})();var FQ=(()=>{class t{initialize(n,i){return _(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>CN(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=SQ.bind(null,this.syncEngine),yield pQ(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new QE}()}createDatastore(n){let i=H0(n.databaseInfo.databaseId),r=function(o){return new HE(o)}(n.databaseInfo);return function(o,a,c,u){return new WE(o,a,c,u)}(n.authCredentials,n.appCheckCredentials,r,i)}createRemoteStore(n){return function(r,s,o,a,c){return new YE(r,s,o,a,c)}(this.localStore,this.datastore,n.asyncQueue,i=>CN(this.syncEngine,i,0),function(){return x0.D()?new x0:new jE}())}createSyncEngine(n,i){return function(s,o,a,c,u,d,f){let m=new n1(s,o,a,c,u,d);return f&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,i)}terminate(){return _(this,null,function*(){var n,i;yield function(s){return _(this,null,function*(){let o=fe(s);X("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield wh(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()})}}return t.provider={build:()=>new t},t})();var F0=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Zr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var r1=class{constructor(e,n,i,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=Ot.UNAUTHENTICATED,this.clientId=a0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,o=>_(this,null,function*(){X("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(i,o=>(X("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Ti;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>_(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let i=S1(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}};function OT(t,e){return _(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),X("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(r=>_(null,null,function*(){i.isEqual(r)||(yield lL(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function IN(t,e){return _(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield kQ(t);X("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>wN(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>wN(e.remoteStore,r)),t._onlineComponents=e})}function kQ(t){return _(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){X("FirestoreClient","Using user provided OfflineComponentProvider");try{yield OT(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(r){return r.name==="FirebaseError"?r.code===N.FAILED_PRECONDITION||r.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;ll("Error using user provided cache. Falling back to memory cache: "+n),yield OT(t,new EN)}}else X("FirestoreClient","Using default OfflineComponentProvider"),yield OT(t,new EN);return t._offlineComponents})}function EL(t){return _(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(X("FirestoreClient","Using user provided OnlineComponentProvider"),yield IN(t,t._uninitializedComponentsProvider._online)):(X("FirestoreClient","Using default OnlineComponentProvider"),yield IN(t,new FQ))),t._onlineComponents})}function MQ(t){return EL(t).then(e=>e.syncEngine)}function IL(t){return _(this,null,function*(){let e=yield EL(t),n=e.eventManager;return n.onListen=vQ.bind(null,e.syncEngine),n.onUnlisten=wQ.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=_Q.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=xQ.bind(null,e.syncEngine),n})}function RQ(t,e,n={}){let i=new Ti;return t.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return function(s,o,a,c,u){let d=new F0({next:m=>{d.Za(),o.enqueueAndForget(()=>_L(s,f));let g=m.docs.has(a);!g&&m.fromCache?u.reject(new q(N.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&m.fromCache&&c&&c.source==="server"?u.reject(new q(N.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),f=new S0(w1(a.path),d,{includeMetadataChanges:!0,_a:!0});return vL(s,f)}(yield IL(t),t.asyncQueue,e,n,i)})),i.promise}function PQ(t,e,n={}){let i=new Ti;return t.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return function(s,o,a,c,u){let d=new F0({next:m=>{d.Za(),o.enqueueAndForget(()=>_L(s,f)),m.fromCache&&c.source==="server"?u.reject(new q(N.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),f=new S0(a,d,{includeMetadataChanges:!0,_a:!0});return vL(s,f)}(yield IL(t),t.asyncQueue,e,n,i)})),i.promise}function SL(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var SN=new Map;function DL(t,e,n){if(!n)throw new q(N.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function OQ(t,e,n,i){if(e===!0&&i===!0)throw new q(N.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function DN(t){if(!ne.isDocumentKey(t))throw new q(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function AN(t){if(ne.isDocumentKey(t))throw new q(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function W0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":le()}function cr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new q(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=W0(t);throw new q(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var k0=class{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new q(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new q(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}OQ("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=SL((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new q(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new q(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new q(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},wl=class{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new k0({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new q(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new q(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new k0(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new NT;switch(i.type){case"firstParty":return new BT(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new q(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return _(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let i=SN.get(n);i&&(X("ComponentProvider","Removing Datastore"),SN.delete(n),i.terminate())}(this),Promise.resolve()}};function AL(t,e,n,i={}){var r;let s=(t=cr(t,wl))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&ll("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let a,c;if(typeof i.mockUserToken=="string")a=i.mockUserToken,c=Ot.MOCK_USER;else{a=I2(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);let u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new q(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Ot(u)}t._authCredentials=new LT(new o0(a,c))}}var xl=class t{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},pn=class t{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new js(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},js=class t extends xl{constructor(e,n,i){super(e,n,w1(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new pn(this.firestore,null,new ne(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function FL(t,e,...n){if(t=_t(t),DL("collection","path",e),t instanceof wl){let i=st.fromString(e,...n);return AN(i),new js(t,null,i)}{if(!(t instanceof pn||t instanceof js))throw new q(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=t._path.child(st.fromString(e,...n));return AN(i),new js(t.firestore,null,i)}}function F1(t,e,...n){if(t=_t(t),arguments.length===1&&(e=a0.newId()),DL("doc","path",e),t instanceof wl){let i=st.fromString(e,...n);return DN(i),new pn(t,null,new ne(i))}{if(!(t instanceof pn||t instanceof js))throw new q(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=t._path.child(st.fromString(e,...n));return DN(i),new pn(t.firestore,t instanceof js?t.converter:null,new ne(i))}}var M0=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new b0(this,"async_queue_retry"),this.Vu=()=>{let i=PT();i&&X("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=e;let n=PT();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=PT();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new Ti;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return _(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!yh(e))throw e;X("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(i=>{this.Eu=i,this.du=!1;let r=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i);throw Zr("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.du=!1,i))));return this.mu=n,n}enqueueAfterDelay(e,n,i){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let r=KE.createAndSchedule(this,e,n,i,s=>this.yu(s));return this.Tu.push(r),r}fu(){this.Eu&&le()}verifyOperationInProgress(){}wu(){return _(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};var zs=class extends wl{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=new M0,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return _(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new M0(e),this._firestoreClient=void 0,yield e}})}};function kL(t,e){let n=typeof t=="object"?t:Vc(),i=typeof t=="string"?t:e||"(default)",r=Nd(n,"firestore").getImmediate({identifier:i});if(!r._initialized){let s=E2("firestore");s&&AL(r,...s)}return r}function k1(t){if(t._terminated)throw new q(N.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||NQ(t),t._firestoreClient}function NQ(t){var e,n,i;let r=t._freezeSettings(),s=function(a,c,u,d){return new zT(a,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,SL(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._componentsProvider||!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),t._firestoreClient=new r1(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){let c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}}(t._componentsProvider))}var fh=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(sn.fromBase64String(e))}catch(n){throw new q(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var bl=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new q(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Hn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var ph=class{constructor(e){this._methodName=e}};var mh=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new q(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new q(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}};var gh=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,e._values)}};var LQ=/^__.*__$/,s1=class{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new ar(e,this.data,this.fieldMask,n,this.fieldTransforms):new _a(e,this.data,n,this.fieldTransforms)}},R0=class{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new ar(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function ML(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw le()}}var o1=class t{constructor(e,n,i,r,s,o){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;let i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Fu({path:i,xu:!1});return r.Ou(e),r}Nu(e){var n;let i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Fu({path:i,xu:!1});return r.vu(),r}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return O0(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(ML(this.Cu)&&LQ.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},a1=class{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||H0(e)}Qu(e,n,i,r=!1){return new o1({Cu:e,methodName:n,qu:i,path:Hn.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function q0(t){let e=t._freezeSettings(),n=H0(t._databaseId);return new a1(t._databaseId,!!e.ignoreUndefinedProperties,n)}function RL(t,e,n,i,r,s={}){let o=t.Qu(s.merge||s.mergeFields?2:0,e,n,r);M1("Data must be an object, but it was:",o,i);let a=PL(i,o),c,u;if(s.merge)c=new oi(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){let d=[];for(let f of s.mergeFields){let m=c1(e,f,n);if(!o.contains(m))throw new q(N.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);NL(d,m)||d.push(m)}c=new oi(d),u=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=o.fieldTransforms;return new s1(new $n(a),c,u)}var P0=class t extends ph{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function UQ(t,e,n,i){let r=t.Qu(1,e,n);M1("Data must be an object, but it was:",r,i);let s=[],o=$n.empty();ya(i,(c,u)=>{let d=R1(e,c,n);u=_t(u);let f=r.Nu(d);if(u instanceof P0)s.push(d);else{let m=bh(u,f);m!=null&&(s.push(d),o.set(d,m))}});let a=new oi(s);return new R0(o,a,r.fieldTransforms)}function VQ(t,e,n,i,r,s){let o=t.Qu(1,e,n),a=[c1(e,i,n)],c=[r];if(s.length%2!=0)throw new q(N.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)a.push(c1(e,s[m])),c.push(s[m+1]);let u=[],d=$n.empty();for(let m=a.length-1;m>=0;--m)if(!NL(u,a[m])){let g=a[m],w=c[m];w=_t(w);let E=o.Nu(g);if(w instanceof P0)u.push(g);else{let D=bh(w,E);D!=null&&(u.push(g),d.set(g,D))}}let f=new oi(u);return new R0(d,f,o.fieldTransforms)}function BQ(t,e,n,i=!1){return bh(n,t.Qu(i?4:3,e))}function bh(t,e){if(OL(t=_t(t)))return M1("Unsupported field value:",e,t),PL(t,e);if(t instanceof ph)return function(i,r){if(!ML(r.Cu))throw r.Bu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Bu(`${i._methodName}() is not currently supported inside arrays`);let s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(i,r){let s=[],o=0;for(let a of i){let c=bh(a,r.Lu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(i,r){if((i=_t(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return TX(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){let s=Bt.fromDate(i);return{timestampValue:_0(r.serializer,s)}}if(i instanceof Bt){let s=new Bt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:_0(r.serializer,s)}}if(i instanceof mh)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof fh)return{bytesValue:nL(r.serializer,i._byteString)};if(i instanceof pn){let s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:b1(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof gh)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Bu("VectorValues must only contain numeric values.");return x1(a.serializer,c)})}}}}}}(i,r);throw r.Bu(`Unsupported field value: ${W0(i)}`)}(t,e)}function PL(t,e){let n={};return RN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ya(t,(i,r)=>{let s=bh(r,e.Mu(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function OL(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Bt||t instanceof mh||t instanceof fh||t instanceof pn||t instanceof ph||t instanceof gh)}function M1(t,e,n){if(!OL(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){let i=W0(n);throw i==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+i)}}function c1(t,e,n){if((e=_t(e))instanceof bl)return e._internalPath;if(typeof e=="string")return R1(t,e);throw O0("Field path arguments must be of type string or ",t,!1,void 0,n)}var jQ=new RegExp("[~\\*/\\[\\]]");function R1(t,e,n){if(e.search(jQ)>=0)throw O0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new bl(...e.split("."))._internalPath}catch{throw O0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function O0(t,e,n,i,r){let s=i&&!i.isEmpty(),o=r!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${i}`),o&&(c+=` in document ${r}`),c+=")"),new q(N.INVALID_ARGUMENT,a+t+c)}function NL(t,e){return t.some(n=>n.isEqual(e))}var N0=class{constructor(e,n,i,r,s){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new l1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(P1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},l1=class extends N0{data(){return super.data()}};function P1(t,e){return typeof e=="string"?R1(t,e):e instanceof bl?e._internalPath:e._delegate._internalPath}function $Q(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new q(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var vh=class{},u1=class extends vh{};function LL(t,e,...n){let i=[];e instanceof vh&&i.push(e),i=i.concat(n),function(s){let o=s.filter(c=>c instanceof d1).length,a=s.filter(c=>c instanceof L0).length;if(o>1||o>0&&a>0)throw new q(N.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(let r of i)t=r._apply(t);return t}var L0=class t extends u1{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new t(e,n,i)}_apply(e){let n=this._parse(e);return VL(e._query,n),new xl(e.firestore,e.converter,rE(e._query,n))}_parse(e){let n=q0(e.firestore);return function(s,o,a,c,u,d,f){let m;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new q(N.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){kN(f,d);let g=[];for(let w of f)g.push(FN(c,s,w));m={arrayValue:{values:g}}}else m=FN(c,s,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||kN(f,d),m=BQ(a,o,f,d==="in"||d==="not-in");return bt.create(u,d,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function UL(t,e,n){let i=e,r=P1("where",t);return L0._create(r,i,n)}var d1=class t extends vh{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:Ii.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(r,s){let o=r,a=s.getFlattenedFilters();for(let c of a)VL(o,c),o=rE(o,c)}(e._query,n),new xl(e.firestore,e.converter,rE(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function FN(t,e,n){if(typeof(n=_t(n))=="string"){if(n==="")throw new q(N.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$N(e)&&n.indexOf("/")!==-1)throw new q(N.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let i=e.path.child(st.fromString(n));if(!ne.isDocumentKey(i))throw new q(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return nN(t,new ne(i))}if(n instanceof pn)return nN(t,n._key);throw new q(N.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${W0(n)}.`)}function kN(t,e){if(!Array.isArray(t)||t.length===0)throw new q(N.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function VL(t,e){let n=function(r,s){for(let o of r)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new q(N.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new q(N.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var h1=class{convertValue(e,n="none"){switch(pa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes($s(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw le()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let i={};return ya(e,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertVectorValue(e){var n,i,r;let s=(r=(i=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(o=>tt(o.doubleValue));return new gh(s)}convertGeoPoint(e){return new mh(tt(e.latitude),tt(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":let i=g1(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(ah(e));default:return null}}convertTimestamp(e){let n=Jr(e);return new Bt(n.seconds,n.nanos)}convertDocumentKey(e,n){let i=st.fromString(e);Be(cL(i));let r=new d0(i.get(1),i.get(3)),s=new ne(i.popFirst(5));return r.isEqual(n)||Zr(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function BL(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}var da=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},U0=class extends N0{constructor(e,n,i,r,s,o){super(e,n,i,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new cl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let i=this._document.data.field(P1("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}},cl=class extends U0{data(e={}){return super.data(e)}},f1=class{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new da(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new cl(this._firestore,this._userDataWriter,i.key,i,new da(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new q(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>{let c=new cl(r._firestore,r._userDataWriter,a.doc.key,a.doc,new da(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let c=new cl(r._firestore,r._userDataWriter,a.doc.key,a.doc,new da(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:HQ(a.type),doc:c,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function HQ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return le()}}function jL(t){t=cr(t,pn);let e=cr(t.firestore,zs);return RQ(k1(e),t._key).then(n=>GQ(e,t,n))}var V0=class extends h1{constructor(e){super(),this.firestore=e}convertBytes(e){return new fh(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new pn(this.firestore,null,n)}};function $L(t){t=cr(t,xl);let e=cr(t.firestore,zs),n=k1(e),i=new V0(e);return $Q(t._query),PQ(n,t._query).then(r=>new f1(e,i,t,r))}function HL(t,e,n){t=cr(t,pn);let i=cr(t.firestore,zs),r=BL(t.converter,e,n);return O1(i,[RL(q0(i),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,Qr.none())])}function GL(t,e,n,...i){t=cr(t,pn);let r=cr(t.firestore,zs),s=q0(r),o;return o=typeof(e=_t(e))=="string"||e instanceof bl?VQ(s,"updateDoc",t._key,e,n,i):UQ(s,"updateDoc",t._key,e),O1(r,[o.toMutation(t._key,Qr.exists(!0))])}function zL(t,e){let n=cr(t.firestore,zs),i=F1(t),r=BL(t.converter,e);return O1(n,[RL(q0(t.firestore),"addDoc",i._key,r,t.converter!==null,{}).toMutation(i._key,Qr.exists(!1))]).then(()=>i)}function O1(t,e){return function(i,r){let s=new Ti;return i.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return bQ(yield MQ(i),r,s)})),s.promise}(k1(t),e)}function GQ(t,e,n){let i=n.docs.get(e._key),r=new V0(t);return new U0(t,r,e._key,i,new da(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(r){Cl=r})(Os),Ps(new si("firestore",(i,{instanceIdentifier:r,options:s})=>{let o=i.getProvider("app").getImmediate(),a=new zs(new UT(i.getProvider("auth-internal")),new $T(i.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new q(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new d0(u.options.projectId,d)}(o,r),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Dt(ZO,"4.7.3",e),Dt(ZO,"4.7.3","esm2017")})();var Si=class{constructor(e){return e}},WL="firestore",N1=class{constructor(){return Vd(WL)}};var L1=new W("angularfire2.firestore-instances");function zQ(t,e){let n=xg(WL,t,e);return n&&new Si(n)}function WQ(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new Si(i)}}var qQ={provide:N1,deps:[[new bn,L1]]},YQ={provide:Si,useFactory:zQ,deps:[[new bn,L1],jr]};function qL(t,...e){return Dt("angularfire",Jo.full,"fst"),pi([YQ,qQ,{provide:L1,useFactory:WQ(t),multi:!0,deps:[Oe,Ke,Yc,ea,[new bn,Zd],[new bn,qc],...e]}])}var Y0=yt(zL,!0);var Ws=yt(FL,!0);var El=yt(F1,!0);var U1=yt(jL,!0);var K0=yt($L,!0);var YL=yt(kL,!0);var KL=yt(LL,!0);var XL=yt(HL,!0);var QL=yt(GL,!0);var ZL=yt(UL,!0);var on=class t{firebaseAuth=R(Kr);authStateChanged$=GO(this.firebaseAuth);currentUserSig=Kn(void 0);constructor(){this.authStateChanged$.subscribe(e=>{e?(this.currentUserSig.set({uid:e.uid,email:e.email,displayName:e.displayName||""}),console.log("AuthService: currentUserSig updated (Logged In):",this.currentUserSig())):(this.currentUserSig.set(null),console.log("AuthService: currentUserSig updated (Logged Out):",this.currentUserSig()))})}register(e,n,i){let r=zO(this.firebaseAuth,e,i).then(s=>_(this,null,function*(){s.user&&(yield KO(s.user,{displayName:n}))}));return Ie(r)}login(e,n){let i=qO(this.firebaseAuth,e,n).then(r=>{let s=r.user;if(s)return{uid:s.uid,email:s.email,displayName:s.displayName||""};throw new Error("User not found after login.")}).catch(r=>{throw r});return Ie(i)}logout(){let e=YO(this.firebaseAuth).then(()=>{});return Ie(e)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})};var X0=class t{constructor(){}ngOnInit(){}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Me({type:t,selectors:[["app-home"]],decls:53,vars:0,consts:[[1,"welcome-container"],[1,"welcome-header"],[1,"tagline"],[1,"how-it-works-section"],[1,"steps-grid"],[1,"step-card"],[1,"step-icon"],["routerLink","/register",1,"step-button"],["routerLink","/templates",1,"step-button"],["routerLink","/create-invitation",1,"step-button"],["routerLink","/events",1,"step-button"],[1,"get-started-section"],["routerLink","/create-invitation",1,"main-cta-button"]],template:function(n,i){n&1&&(F(0,"div",0)(1,"header",1)(2,"h1"),L(3,"Welcome to Greenvite App!"),k(),F(4,"p",2),L(5,"Your eco-friendly solution for beautiful digital invitations."),k()(),F(6,"section",3)(7,"h2"),L(8,"How It Works"),k(),F(9,"div",4)(10,"div",5)(11,"div",6),L(12,"1"),k(),F(13,"h3"),L(14,"Create Your Account"),k(),F(15,"p"),L(16,"Join Greenvite to start creating your invitations. It's quick and easy!"),k(),F(17,"a",7),L(18,"Sign Up Now"),k()(),F(19,"div",5)(20,"div",6),L(21,"2"),k(),F(22,"h3"),L(23,"Design Your Invitation"),k(),F(24,"p"),L(25,"Choose from our beautiful templates or design your invitation from scratch with custom styles and images."),k(),F(26,"a",8),L(27,"Browse Templates"),k()(),F(28,"div",5)(29,"div",6),L(30,"3"),k(),F(31,"h3"),L(32,"Add Invitees & Get Links"),k(),F(33,"p"),L(34,"Enter your guests' emails. We'll generate unique, trackable links for each invitee automatically."),k(),F(35,"a",9),L(36,"Create New Invitation"),k()(),F(37,"div",5)(38,"div",6),L(39,"4"),k(),F(40,"h3"),L(41,"Track Responses (RSVP)"),k(),F(42,"p"),L(43,"Monitor your RSVPs in real-time from your personalized event dashboard. See who's coming at a glance!"),k(),F(44,"a",10),L(45,"My Events"),k()()()(),F(46,"section",11)(47,"h2"),L(48,"Ready to make your next event greener?"),k(),F(49,"p"),L(50,"Say goodbye to paper waste and hello to effortless, stylish digital invitations."),k(),F(51,"a",12),L(52,"Start Creating Your Invitation"),k()()())},dependencies:[rt,Ur,ri],styles:['@font-face{font-family:Roboto;font-style:normal;font-weight:300;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3GUBGEe.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Roboto;font-style:normal;font-weight:300;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3iUBGEe.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Roboto;font-style:normal;font-weight:300;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3CUBGEe.woff2) format("woff2");unicode-range:U+1F00-1FFF}@font-face{font-family:Roboto;font-style:normal;font-weight:300;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3-UBGEe.woff2) format("woff2");unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:Roboto;font-style:normal;font-weight:300;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMawCUBGEe.woff2) format("woff2");unicode-range:U+0302-0303,U+0305,U+0307-0308,U+0310,U+0312,U+0315,U+031A,U+0326-0327,U+032C,U+032F-0330,U+0332-0333,U+0338,U+033A,U+0346,U+034D,U+0391-03A1,U+03A3-03A9,U+03B1-03C9,U+03D1,U+03D5-03D6,U+03F0-03F1,U+03F4-03F5,U+2016-2017,U+2034-2038,U+203C,U+2040,U+2043,U+2047,U+2050,U+2057,U+205F,U+2070-2071,U+2074-208E,U+2090-209C,U+20D0-20DC,U+20E1,U+20E5-20EF,U+2100-2112,U+2114-2115,U+2117-2121,U+2123-214F,U+2190,U+2192,U+2194-21AE,U+21B0-21E5,U+21F1-21F2,U+21F4-2211,U+2213-2214,U+2216-22FF,U+2308-230B,U+2310,U+2319,U+231C-2321,U+2336-237A,U+237C,U+2395,U+239B-23B7,U+23D0,U+23DC-23E1,U+2474-2475,U+25AF,U+25B3,U+25B7,U+25BD,U+25C1,U+25CA,U+25CC,U+25FB,U+266D-266F,U+27C0-27FF,U+2900-2AFF,U+2B0E-2B11,U+2B30-2B4C,U+2BFE,U+3030,U+FF5B,U+FF5D,U+1D400-1D7FF,U+1EE00-1EEFF}@font-face{font-family:Roboto;font-style:normal;font-weight:300;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMaxKUBGEe.woff2) format("woff2");unicode-range:U+0001-000C,U+000E-001F,U+007F-009F,U+20DD-20E0,U+20E2-20E4,U+2150-218F,U+2190,U+2192,U+2194-2199,U+21AF,U+21E6-21F0,U+21F3,U+2218-2219,U+2299,U+22C4-22C6,U+2300-243F,U+2440-244A,U+2460-24FF,U+25A0-27BF,U+2800-28FF,U+2921-2922,U+2981,U+29BF,U+29EB,U+2B00-2BFF,U+4DC0-4DFF,U+FFF9-FFFB,U+10140-1018E,U+10190-1019C,U+101A0,U+101D0-101FD,U+102E0-102FB,U+10E60-10E7E,U+1D2C0-1D2D3,U+1D2E0-1D37F,U+1F000-1F0FF,U+1F100-1F1AD,U+1F1E6-1F1FF,U+1F30D-1F30F,U+1F315,U+1F31C,U+1F31E,U+1F320-1F32C,U+1F336,U+1F378,U+1F37D,U+1F382,U+1F393-1F39F,U+1F3A7-1F3A8,U+1F3AC-1F3AF,U+1F3C2,U+1F3C4-1F3C6,U+1F3CA-1F3CE,U+1F3D4-1F3E0,U+1F3ED,U+1F3F1-1F3F3,U+1F3F5-1F3F7,U+1F408,U+1F415,U+1F41F,U+1F426,U+1F43F,U+1F441-1F442,U+1F444,U+1F446-1F449,U+1F44C-1F44E,U+1F453,U+1F46A,U+1F47D,U+1F4A3,U+1F4B0,U+1F4B3,U+1F4B9,U+1F4BB,U+1F4BF,U+1F4C8-1F4CB,U+1F4D6,U+1F4DA,U+1F4DF,U+1F4E3-1F4E6,U+1F4EA-1F4ED,U+1F4F7,U+1F4F9-1F4FB,U+1F4FD-1F4FE,U+1F503,U+1F507-1F50B,U+1F50D,U+1F512-1F513,U+1F53E-1F54A,U+1F54F-1F5FA,U+1F610,U+1F650-1F67F,U+1F687,U+1F68D,U+1F691,U+1F694,U+1F698,U+1F6AD,U+1F6B2,U+1F6B9-1F6BA,U+1F6BC,U+1F6C6-1F6CF,U+1F6D3-1F6D7,U+1F6E0-1F6EA,U+1F6F0-1F6F3,U+1F6F7-1F6FC,U+1F700-1F7FF,U+1F800-1F80B,U+1F810-1F847,U+1F850-1F859,U+1F860-1F887,U+1F890-1F8AD,U+1F8B0-1F8BB,U+1F8C0-1F8C1,U+1F900-1F90B,U+1F93B,U+1F946,U+1F984,U+1F996,U+1F9E9,U+1FA00-1FA6F,U+1FA70-1FA7C,U+1FA80-1FA89,U+1FA8F-1FAC6,U+1FACE-1FADC,U+1FADF-1FAE9,U+1FAF0-1FAF8,U+1FB00-1FBFF}@font-face{font-family:Roboto;font-style:normal;font-weight:300;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3OUBGEe.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Roboto;font-style:normal;font-weight:300;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3KUBGEe.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Roboto;font-style:normal;font-weight:300;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3yUBA.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Roboto;font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3GUBGEe.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Roboto;font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3iUBGEe.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Roboto;font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3CUBGEe.woff2) format("woff2");unicode-range:U+1F00-1FFF}@font-face{font-family:Roboto;font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3-UBGEe.woff2) format("woff2");unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:Roboto;font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMawCUBGEe.woff2) format("woff2");unicode-range:U+0302-0303,U+0305,U+0307-0308,U+0310,U+0312,U+0315,U+031A,U+0326-0327,U+032C,U+032F-0330,U+0332-0333,U+0338,U+033A,U+0346,U+034D,U+0391-03A1,U+03A3-03A9,U+03B1-03C9,U+03D1,U+03D5-03D6,U+03F0-03F1,U+03F4-03F5,U+2016-2017,U+2034-2038,U+203C,U+2040,U+2043,U+2047,U+2050,U+2057,U+205F,U+2070-2071,U+2074-208E,U+2090-209C,U+20D0-20DC,U+20E1,U+20E5-20EF,U+2100-2112,U+2114-2115,U+2117-2121,U+2123-214F,U+2190,U+2192,U+2194-21AE,U+21B0-21E5,U+21F1-21F2,U+21F4-2211,U+2213-2214,U+2216-22FF,U+2308-230B,U+2310,U+2319,U+231C-2321,U+2336-237A,U+237C,U+2395,U+239B-23B7,U+23D0,U+23DC-23E1,U+2474-2475,U+25AF,U+25B3,U+25B7,U+25BD,U+25C1,U+25CA,U+25CC,U+25FB,U+266D-266F,U+27C0-27FF,U+2900-2AFF,U+2B0E-2B11,U+2B30-2B4C,U+2BFE,U+3030,U+FF5B,U+FF5D,U+1D400-1D7FF,U+1EE00-1EEFF}@font-face{font-family:Roboto;font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMaxKUBGEe.woff2) format("woff2");unicode-range:U+0001-000C,U+000E-001F,U+007F-009F,U+20DD-20E0,U+20E2-20E4,U+2150-218F,U+2190,U+2192,U+2194-2199,U+21AF,U+21E6-21F0,U+21F3,U+2218-2219,U+2299,U+22C4-22C6,U+2300-243F,U+2440-244A,U+2460-24FF,U+25A0-27BF,U+2800-28FF,U+2921-2922,U+2981,U+29BF,U+29EB,U+2B00-2BFF,U+4DC0-4DFF,U+FFF9-FFFB,U+10140-1018E,U+10190-1019C,U+101A0,U+101D0-101FD,U+102E0-102FB,U+10E60-10E7E,U+1D2C0-1D2D3,U+1D2E0-1D37F,U+1F000-1F0FF,U+1F100-1F1AD,U+1F1E6-1F1FF,U+1F30D-1F30F,U+1F315,U+1F31C,U+1F31E,U+1F320-1F32C,U+1F336,U+1F378,U+1F37D,U+1F382,U+1F393-1F39F,U+1F3A7-1F3A8,U+1F3AC-1F3AF,U+1F3C2,U+1F3C4-1F3C6,U+1F3CA-1F3CE,U+1F3D4-1F3E0,U+1F3ED,U+1F3F1-1F3F3,U+1F3F5-1F3F7,U+1F408,U+1F415,U+1F41F,U+1F426,U+1F43F,U+1F441-1F442,U+1F444,U+1F446-1F449,U+1F44C-1F44E,U+1F453,U+1F46A,U+1F47D,U+1F4A3,U+1F4B0,U+1F4B3,U+1F4B9,U+1F4BB,U+1F4BF,U+1F4C8-1F4CB,U+1F4D6,U+1F4DA,U+1F4DF,U+1F4E3-1F4E6,U+1F4EA-1F4ED,U+1F4F7,U+1F4F9-1F4FB,U+1F4FD-1F4FE,U+1F503,U+1F507-1F50B,U+1F50D,U+1F512-1F513,U+1F53E-1F54A,U+1F54F-1F5FA,U+1F610,U+1F650-1F67F,U+1F687,U+1F68D,U+1F691,U+1F694,U+1F698,U+1F6AD,U+1F6B2,U+1F6B9-1F6BA,U+1F6BC,U+1F6C6-1F6CF,U+1F6D3-1F6D7,U+1F6E0-1F6EA,U+1F6F0-1F6F3,U+1F6F7-1F6FC,U+1F700-1F7FF,U+1F800-1F80B,U+1F810-1F847,U+1F850-1F859,U+1F860-1F887,U+1F890-1F8AD,U+1F8B0-1F8BB,U+1F8C0-1F8C1,U+1F900-1F90B,U+1F93B,U+1F946,U+1F984,U+1F996,U+1F9E9,U+1FA00-1FA6F,U+1FA70-1FA7C,U+1FA80-1FA89,U+1FA8F-1FAC6,U+1FACE-1FADC,U+1FADF-1FAE9,U+1FAF0-1FAF8,U+1FB00-1FBFF}@font-face{font-family:Roboto;font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3OUBGEe.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Roboto;font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3KUBGEe.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Roboto;font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3yUBA.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Roboto;font-style:normal;font-weight:700;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3GUBGEe.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Roboto;font-style:normal;font-weight:700;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3iUBGEe.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Roboto;font-style:normal;font-weight:700;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3CUBGEe.woff2) format("woff2");unicode-range:U+1F00-1FFF}@font-face{font-family:Roboto;font-style:normal;font-weight:700;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3-UBGEe.woff2) format("woff2");unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:Roboto;font-style:normal;font-weight:700;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMawCUBGEe.woff2) format("woff2");unicode-range:U+0302-0303,U+0305,U+0307-0308,U+0310,U+0312,U+0315,U+031A,U+0326-0327,U+032C,U+032F-0330,U+0332-0333,U+0338,U+033A,U+0346,U+034D,U+0391-03A1,U+03A3-03A9,U+03B1-03C9,U+03D1,U+03D5-03D6,U+03F0-03F1,U+03F4-03F5,U+2016-2017,U+2034-2038,U+203C,U+2040,U+2043,U+2047,U+2050,U+2057,U+205F,U+2070-2071,U+2074-208E,U+2090-209C,U+20D0-20DC,U+20E1,U+20E5-20EF,U+2100-2112,U+2114-2115,U+2117-2121,U+2123-214F,U+2190,U+2192,U+2194-21AE,U+21B0-21E5,U+21F1-21F2,U+21F4-2211,U+2213-2214,U+2216-22FF,U+2308-230B,U+2310,U+2319,U+231C-2321,U+2336-237A,U+237C,U+2395,U+239B-23B7,U+23D0,U+23DC-23E1,U+2474-2475,U+25AF,U+25B3,U+25B7,U+25BD,U+25C1,U+25CA,U+25CC,U+25FB,U+266D-266F,U+27C0-27FF,U+2900-2AFF,U+2B0E-2B11,U+2B30-2B4C,U+2BFE,U+3030,U+FF5B,U+FF5D,U+1D400-1D7FF,U+1EE00-1EEFF}@font-face{font-family:Roboto;font-style:normal;font-weight:700;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMaxKUBGEe.woff2) format("woff2");unicode-range:U+0001-000C,U+000E-001F,U+007F-009F,U+20DD-20E0,U+20E2-20E4,U+2150-218F,U+2190,U+2192,U+2194-2199,U+21AF,U+21E6-21F0,U+21F3,U+2218-2219,U+2299,U+22C4-22C6,U+2300-243F,U+2440-244A,U+2460-24FF,U+25A0-27BF,U+2800-28FF,U+2921-2922,U+2981,U+29BF,U+29EB,U+2B00-2BFF,U+4DC0-4DFF,U+FFF9-FFFB,U+10140-1018E,U+10190-1019C,U+101A0,U+101D0-101FD,U+102E0-102FB,U+10E60-10E7E,U+1D2C0-1D2D3,U+1D2E0-1D37F,U+1F000-1F0FF,U+1F100-1F1AD,U+1F1E6-1F1FF,U+1F30D-1F30F,U+1F315,U+1F31C,U+1F31E,U+1F320-1F32C,U+1F336,U+1F378,U+1F37D,U+1F382,U+1F393-1F39F,U+1F3A7-1F3A8,U+1F3AC-1F3AF,U+1F3C2,U+1F3C4-1F3C6,U+1F3CA-1F3CE,U+1F3D4-1F3E0,U+1F3ED,U+1F3F1-1F3F3,U+1F3F5-1F3F7,U+1F408,U+1F415,U+1F41F,U+1F426,U+1F43F,U+1F441-1F442,U+1F444,U+1F446-1F449,U+1F44C-1F44E,U+1F453,U+1F46A,U+1F47D,U+1F4A3,U+1F4B0,U+1F4B3,U+1F4B9,U+1F4BB,U+1F4BF,U+1F4C8-1F4CB,U+1F4D6,U+1F4DA,U+1F4DF,U+1F4E3-1F4E6,U+1F4EA-1F4ED,U+1F4F7,U+1F4F9-1F4FB,U+1F4FD-1F4FE,U+1F503,U+1F507-1F50B,U+1F50D,U+1F512-1F513,U+1F53E-1F54A,U+1F54F-1F5FA,U+1F610,U+1F650-1F67F,U+1F687,U+1F68D,U+1F691,U+1F694,U+1F698,U+1F6AD,U+1F6B2,U+1F6B9-1F6BA,U+1F6BC,U+1F6C6-1F6CF,U+1F6D3-1F6D7,U+1F6E0-1F6EA,U+1F6F0-1F6F3,U+1F6F7-1F6FC,U+1F700-1F7FF,U+1F800-1F80B,U+1F810-1F847,U+1F850-1F859,U+1F860-1F887,U+1F890-1F8AD,U+1F8B0-1F8BB,U+1F8C0-1F8C1,U+1F900-1F90B,U+1F93B,U+1F946,U+1F984,U+1F996,U+1F9E9,U+1FA00-1FA6F,U+1FA70-1FA7C,U+1FA80-1FA89,U+1FA8F-1FAC6,U+1FACE-1FADC,U+1FADF-1FAE9,U+1FAF0-1FAF8,U+1FB00-1FBFF}@font-face{font-family:Roboto;font-style:normal;font-weight:700;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3OUBGEe.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Roboto;font-style:normal;font-weight:700;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3KUBGEe.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Roboto;font-style:normal;font-weight:700;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3yUBA.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}.welcome-container[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;color:#333;background-color:#f0f2f5;padding:32px;line-height:1.6;min-height:100vh;box-sizing:border-box}.welcome-header[_ngcontent-%COMP%]{text-align:center;padding:48px 0;background:linear-gradient(135deg,#4caf50,#357a38);color:#fff;border-radius:8px;margin-bottom:32px;box-shadow:0 4px 15px #00000026}.welcome-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3.5em;margin-bottom:8px;font-weight:700;letter-spacing:-1px;text-shadow:1px 1px 3px rgba(0,0,0,.2)}.welcome-header[_ngcontent-%COMP%]   .tagline[_ngcontent-%COMP%]{font-size:1.3em;opacity:.9;max-width:700px;margin:0 auto}.how-it-works-section[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto 48px;text-align:center}.how-it-works-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.2em;color:#4caf50;margin-bottom:32px;position:relative;padding-bottom:8px}.how-it-works-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:after{content:"";position:absolute;left:50%;bottom:0;transform:translate(-50%);width:60px;height:4px;background-color:#0056b3;border-radius:2px}.steps-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:24px}.step-card[_ngcontent-%COMP%]{background-color:#fff;padding:24px;border-radius:8px;box-shadow:0 2px 10px #00000014;text-align:center;transition:transform .3s ease,box-shadow .3s ease;display:flex;flex-direction:column;justify-content:space-between}.step-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 6px 20px #00000026}.step-icon[_ngcontent-%COMP%]{font-size:2.5em;color:#4caf50;margin-bottom:16px;width:50px;height:50px;line-height:50px;background-color:#eaf6eb;border-radius:50%;display:inline-block;font-weight:700}.step-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:#333;margin-bottom:8px}.step-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1em;color:#666;margin-bottom:16px;flex-grow:1}.step-button[_ngcontent-%COMP%]{display:inline-block;padding:8px 16px;background-color:#0056b3;color:#fff;border-radius:5px;text-decoration:none;font-weight:500;font-size:.9em;transition:background-color .3s ease,transform .2s ease}.step-button[_ngcontent-%COMP%]:hover{background-color:#003d80;transform:translateY(-1px)}.get-started-section[_ngcontent-%COMP%]{text-align:center;padding:48px 0;background-color:#fff;border-radius:8px;box-shadow:0 4px 15px #0000001a;max-width:900px;margin:0 auto}.get-started-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.2em;color:#4caf50;margin-bottom:16px}.get-started-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1em;color:#666;margin-bottom:24px;max-width:700px;margin-left:auto;margin-right:auto}.main-cta-button[_ngcontent-%COMP%]{display:inline-block;padding:12.8px 24px;background-color:#4caf50;color:#fff;border-radius:5px;text-decoration:none;font-size:1.3em;font-weight:700;transition:background-color .3s ease,transform .2s ease,box-shadow .3s ease;box-shadow:0 4px 10px #4caf504d}.main-cta-button[_ngcontent-%COMP%]:hover{background-color:#3d8b40;transform:translateY(-2px);box-shadow:0 6px 15px #4caf5066}@media (max-width: 768px){.welcome-header[_ngcontent-%COMP%]{padding:32px 0}.welcome-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5em}.welcome-header[_ngcontent-%COMP%]   .tagline[_ngcontent-%COMP%]{font-size:1em}.how-it-works-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .get-started-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8em}.steps-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.step-card[_ngcontent-%COMP%]{padding:16px}.main-cta-button[_ngcontent-%COMP%]{font-size:1.1em;padding:11.2px 19.2px}}@media (max-width: 480px){.welcome-container[_ngcontent-%COMP%]{padding:16px}.welcome-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2em}}']})};var lU=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,i){this._renderer=n,this._elementRef=i}setProperty(n,i){this._renderer.setProperty(this._elementRef.nativeElement,n,i)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(i){return new(i||t)(V(Zt),V(et))};static \u0275dir=Ne({type:t})}return t})(),cv=(()=>{class t extends lU{static \u0275fac=(()=>{let n;return function(r){return(n||(n=$i(t)))(r||t)}})();static \u0275dir=Ne({type:t,features:[Jt]})}return t})(),Fl=new W("");var KQ={provide:Fl,useExisting:Yn(()=>Ks),multi:!0};function XQ(){let t=ni()?ni().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var QQ=new W(""),Ks=(()=>{class t extends lU{_compositionMode;_composing=!1;constructor(n,i,r){super(n,i),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!XQ())}writeValue(n){let i=n??"";this.setProperty("value",i)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(i){return new(i||t)(V(Zt),V(et),V(QQ,8))};static \u0275dir=Ne({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&ae("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},standalone:!1,features:[ei([KQ]),Jt]})}return t})();function H1(t){return t==null||G1(t)===0}function G1(t){return t==null?null:Array.isArray(t)||typeof t=="string"?t.length:t instanceof Set?t.size:null}var Ah=new W(""),lv=new W(""),ZQ=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Di=class{static min(e){return JQ(e)}static max(e){return eZ(e)}static required(e){return uU(e)}static requiredTrue(e){return tZ(e)}static email(e){return nZ(e)}static minLength(e){return iZ(e)}static maxLength(e){return rZ(e)}static pattern(e){return sZ(e)}static nullValidator(e){return Z0()}static compose(e){return gU(e)}static composeAsync(e){return vU(e)}};function JQ(t){return e=>{if(e.value==null||t==null)return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function eZ(t){return e=>{if(e.value==null||t==null)return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function uU(t){return H1(t.value)?{required:!0}:null}function tZ(t){return t.value===!0?null:{required:!0}}function nZ(t){return H1(t.value)||ZQ.test(t.value)?null:{email:!0}}function iZ(t){return e=>{let n=e.value?.length??G1(e.value);return n===null||n===0?null:n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}function rZ(t){return e=>{let n=e.value?.length??G1(e.value);return n!==null&&n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}function sZ(t){if(!t)return Z0;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),i=>{if(H1(i.value))return null;let r=i.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}function Z0(t){return null}function dU(t){return t!=null}function hU(t){return ys(t)?Ie(t):t}function fU(t){let e={};return t.forEach(n=>{e=n!=null?U(U({},e),n):e}),Object.keys(e).length===0?null:e}function pU(t,e){return e.map(n=>n(t))}function oZ(t){return!t.validate}function mU(t){return t.map(e=>oZ(e)?e:n=>e.validate(n))}function gU(t){if(!t)return null;let e=t.filter(dU);return e.length==0?null:function(n){return fU(pU(n,e))}}function z1(t){return t!=null?gU(mU(t)):null}function vU(t){if(!t)return null;let e=t.filter(dU);return e.length==0?null:function(n){let i=pU(n,e).map(hU);return Cu(i).pipe(de(fU))}}function W1(t){return t!=null?vU(mU(t)):null}function eU(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function _U(t){return t._rawValidators}function yU(t){return t._rawAsyncValidators}function B1(t){return t?Array.isArray(t)?t:[t]:[]}function J0(t,e){return Array.isArray(t)?t.includes(e):t===e}function tU(t,e){let n=B1(e);return B1(t).forEach(r=>{J0(n,r)||n.push(r)}),n}function nU(t,e){return B1(e).filter(n=>!J0(t,n))}var ev=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=z1(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=W1(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},ns=class extends ev{name;get formDirective(){return null}get path(){return null}},qs=class extends ev{_parent=null;name=null;valueAccessor=null},tv=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},aZ={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Jye=se(U({},aZ),{"[class.ng-submitted]":"isSubmitted"}),kl=(()=>{class t extends tv{constructor(n){super(n)}static \u0275fac=function(i){return new(i||t)(V(qs,2))};static \u0275dir=Ne({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&mi("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[Jt]})}return t})(),Ml=(()=>{class t extends tv{constructor(n){super(n)}static \u0275fac=function(i){return new(i||t)(V(ns,10))};static \u0275dir=Ne({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&mi("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},standalone:!1,features:[Jt]})}return t})();var Ch="VALID",Q0="INVALID",Il="PENDING",Th="DISABLED",Ys=class{},nv=class extends Ys{value;source;constructor(e,n){super(),this.value=e,this.source=n}},Ih=class extends Ys{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},Sh=class extends Ys{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},Sl=class extends Ys{status;source;constructor(e,n){super(),this.status=e,this.source=n}},iv=class extends Ys{source;constructor(e){super(),this.source=e}},rv=class extends Ys{source;constructor(e){super(),this.source=e}};function q1(t){return(uv(t)?t.validators:t)||null}function cZ(t){return Array.isArray(t)?z1(t):t||null}function Y1(t,e){return(uv(e)?e.asyncValidators:t)||null}function lZ(t){return Array.isArray(t)?W1(t):t||null}function uv(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function wU(t,e,n){let i=t.controls;if(!(e?Object.keys(i):i).length)throw new z(1e3,"");if(!i[n])throw new z(1001,"")}function xU(t,e,n){t._forEachChild((i,r)=>{if(n[r]===void 0)throw new z(1002,"")})}var Dl=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return fn(this.statusReactive)}set status(e){fn(()=>this.statusReactive.set(e))}_status=gi(()=>this.statusReactive());statusReactive=Kn(void 0);get valid(){return this.status===Ch}get invalid(){return this.status===Q0}get pending(){return this.status==Il}get disabled(){return this.status===Th}get enabled(){return this.status!==Th}errors;get pristine(){return fn(this.pristineReactive)}set pristine(e){fn(()=>this.pristineReactive.set(e))}_pristine=gi(()=>this.pristineReactive());pristineReactive=Kn(!0);get dirty(){return!this.pristine}get touched(){return fn(this.touchedReactive)}set touched(e){fn(()=>this.touchedReactive.set(e))}_touched=gi(()=>this.touchedReactive());touchedReactive=Kn(!1);get untouched(){return!this.touched}_events=new nt;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(tU(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(tU(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(nU(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(nU(e,this._rawAsyncValidators))}hasValidator(e){return J0(this._rawValidators,e)}hasAsyncValidator(e){return J0(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(se(U({},e),{sourceControl:i})),n&&e.emitEvent!==!1&&this._events.next(new Sh(!0,i))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:i})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,i),n&&e.emitEvent!==!1&&this._events.next(new Sh(!1,i))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(se(U({},e),{sourceControl:i})),n&&e.emitEvent!==!1&&this._events.next(new Ih(!1,i))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,i),n&&e.emitEvent!==!1&&this._events.next(new Ih(!0,i))}markAsPending(e={}){this.status=Il;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Sl(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(se(U({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Th,this.errors=null,this._forEachChild(r=>{r.disable(se(U({},e),{onlySelf:!0}))}),this._updateValue();let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new nv(this.value,i)),this._events.next(new Sl(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(se(U({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ch,this._forEachChild(i=>{i.enable(se(U({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(se(U({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ch||this.status===Il)&&this._runAsyncValidator(i,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new nv(this.value,n)),this._events.next(new Sl(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(se(U({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Th:Ch}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Il,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let i=hU(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(e,n){let i=n?this.get(n):this;return i&&i.errors?i.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,i){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||i)&&this._events.next(new Sl(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,i)}_initObservables(){this.valueChanges=new re,this.statusChanges=new re}_calculateStatus(){return this._allControlsDisabled()?Th:this.errors?Q0:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Il)?Il:this._anyControlsHaveStatus(Q0)?Q0:Ch}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),r&&this._events.next(new Ih(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Sh(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){uv(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=cZ(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=lZ(this._rawAsyncValidators)}},Al=class extends Dl{constructor(e,n,i){super(q1(n),Y1(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,i={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){xU(this,!0,e),Object.keys(e).forEach(i=>{wU(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,i)=>(e[i]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,i)=>i._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let i=this.controls[n];i&&e(i,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,i]of Object.entries(this.controls))if(this.contains(n)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,i,r)=>((i.enabled||this.disabled)&&(n[r]=i.value),n))}_reduceChildren(e,n){let i=e;return this._forEachChild((r,s)=>{i=n(i,r,s)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var j1=class extends Al{};var Rl=new W("",{providedIn:"root",factory:()=>Fh}),Fh="always";function bU(t,e){return[...e.path,t]}function sv(t,e,n=Fh){K1(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),dZ(t,e),fZ(t,e),hZ(t,e),uZ(t,e)}function iU(t,e,n=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),av(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function ov(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function uZ(t,e){if(e.valueAccessor.setDisabledState){let n=i=>{e.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function K1(t,e){let n=_U(t);e.validator!==null?t.setValidators(eU(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let i=yU(t);e.asyncValidator!==null?t.setAsyncValidators(eU(i,e.asyncValidator)):typeof i=="function"&&t.setAsyncValidators([i]);let r=()=>t.updateValueAndValidity();ov(e._rawValidators,r),ov(e._rawAsyncValidators,r)}function av(t,e){let n=!1;if(t!==null){if(e.validator!==null){let r=_U(t);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==e.validator);s.length!==r.length&&(n=!0,t.setValidators(s))}}if(e.asyncValidator!==null){let r=yU(t);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==e.asyncValidator);s.length!==r.length&&(n=!0,t.setAsyncValidators(s))}}}let i=()=>{};return ov(e._rawValidators,i),ov(e._rawAsyncValidators,i),n}function dZ(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&CU(t,e)})}function hZ(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&CU(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function CU(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function fZ(t,e){let n=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function TU(t,e){t==null,K1(t,e)}function pZ(t,e){return av(t,e)}function EU(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function mZ(t){return Object.getPrototypeOf(t.constructor)===cv}function IU(t,e){t._syncPendingControls(),e.forEach(n=>{let i=n.control;i.updateOn==="submit"&&i._pendingChange&&(n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function SU(t,e){if(!e)return null;Array.isArray(e);let n,i,r;return e.forEach(s=>{s.constructor===Ks?n=s:mZ(s)?i=s:r=s}),r||i||n||null}function gZ(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var vZ={provide:ns,useExisting:Yn(()=>X1)},Eh=Promise.resolve(),X1=(()=>{class t extends ns{callSetDisabledState;get submitted(){return fn(this.submittedReactive)}_submitted=gi(()=>this.submittedReactive());submittedReactive=Kn(!1);_directives=new Set;form;ngSubmit=new re;options;constructor(n,i,r){super(),this.callSetDisabledState=r,this.form=new Al({},z1(n),W1(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Eh.then(()=>{let i=this._findContainer(n.path);n.control=i.registerControl(n.name,n.control),sv(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Eh.then(()=>{let i=this._findContainer(n.path);i&&i.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Eh.then(()=>{let i=this._findContainer(n.path),r=new Al({});TU(r,n),i.registerControl(n.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Eh.then(()=>{let i=this._findContainer(n.path);i&&i.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,i){Eh.then(()=>{this.form.get(n.path).setValue(i)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),IU(this.form,this._directives),this.ngSubmit.emit(n),this.form._events.next(new iv(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1),this.form._events.next(new rv(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static \u0275fac=function(i){return new(i||t)(V(Ah,10),V(lv,10),V(Rl,8))};static \u0275dir=Ne({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){i&1&&ae("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[ei([vZ]),Jt]})}return t})();function rU(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function sU(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Dh=class extends Dl{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,i){super(q1(n),Y1(i,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),uv(n)&&(n.nonNullable||n.initialValueIsDefault)&&(sU(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){rU(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){rU(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){sU(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var _Z=t=>t instanceof Dh;var yZ={provide:qs,useExisting:Yn(()=>Q1)},oU=Promise.resolve(),Q1=(()=>{class t extends qs{_changeDetectorRef;callSetDisabledState;control=new Dh;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new re;constructor(n,i,r,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this._parent=n,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=SU(this,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let i=n.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),EU(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){sv(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){oU.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let i=n.isDisabled.currentValue,r=i!==0&&xs(i);oU.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?bU(n,this._parent):[n]}static \u0275fac=function(i){return new(i||t)(V(ns,9),V(Ah,10),V(lv,10),V(Fl,10),V(ti,8),V(Rl,8))};static \u0275dir=Ne({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[ei([yZ]),Jt,ut]})}return t})();var Pl=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275dir=Ne({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})();var wZ={provide:Fl,useExisting:Yn(()=>Z1),multi:!0};var xZ=(()=>{class t{_accessors=[];add(n,i){this._accessors.push([n,i])}remove(n){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===n){this._accessors.splice(i,1);return}}select(n){this._accessors.forEach(i=>{this._isSameGroup(i,n)&&i[1]!==n&&i[1].fireUncheck(n.value)})}_isSameGroup(n,i){return n[0].control?n[0]._parent===i._control._parent&&n[1].name===i.name:!1}static \u0275fac=function(i){return new(i||t)};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Z1=(()=>{class t extends cv{_registry;_injector;_state;_control;_fn;setDisabledStateFired=!1;onChange=()=>{};name;formControlName;value;callSetDisabledState=R(Rl,{optional:!0})??Fh;constructor(n,i,r,s){super(n,i),this._registry=r,this._injector=s}ngOnInit(){this._control=this._injector.get(qs),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(n){this._state=n===this.value,this.setProperty("checked",this._state)}registerOnChange(n){this._fn=n,this.onChange=()=>{n(this.value),this._registry.select(this)}}setDisabledState(n){(this.setDisabledStateFired||n||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",n),this.setDisabledStateFired=!0}fireUncheck(n){this.writeValue(n)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static \u0275fac=function(i){return new(i||t)(V(Zt),V(et),V(xZ),V(Ke))};static \u0275dir=Ne({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(i,r){i&1&&ae("change",function(){return r.onChange()})("blur",function(){return r.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},standalone:!1,features:[ei([wZ]),Jt]})}return t})();var DU=new W("");var bZ={provide:ns,useExisting:Yn(()=>kh)},kh=(()=>{class t extends ns{callSetDisabledState;get submitted(){return fn(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}_submitted=gi(()=>this._submittedReactive());_submittedReactive=Kn(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new re;constructor(n,i,r){super(),this.callSetDisabledState=r,this._setValidators(n),this._setAsyncValidators(i)}ngOnChanges(n){n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(av(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let i=this.form.get(n.path);return sv(i,n,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),i}getControl(n){return this.form.get(n.path)}removeControl(n){iU(n.control||null,n,!1),gZ(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,i){this.form.get(n.path).setValue(i)}onSubmit(n){return this._submittedReactive.set(!0),IU(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new iv(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this._submittedReactive.set(!1),this.form._events.next(new rv(this.form))}_updateDomValue(){this.directives.forEach(n=>{let i=n.control,r=this.form.get(n.path);i!==r&&(iU(i||null,n),_Z(r)&&(sv(r,n,this.callSetDisabledState),n.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let i=this.form.get(n.path);TU(i,n),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let i=this.form.get(n.path);i&&pZ(i,n)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){K1(this.form,this),this._oldForm&&av(this._oldForm,this)}static \u0275fac=function(i){return new(i||t)(V(Ah,10),V(lv,10),V(Rl,8))};static \u0275dir=Ne({type:t,selectors:[["","formGroup",""]],hostBindings:function(i,r){i&1&&ae("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[ei([bZ]),Jt,ut]})}return t})();var CZ={provide:qs,useExisting:Yn(()=>Mh)},Mh=(()=>{class t extends qs{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(n){}model;update=new re;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(n,i,r,s,o){super(),this._ngModelWarningConfig=o,this._parent=n,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=SU(this,s)}ngOnChanges(n){this._added||this._setUpControl(),EU(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return bU(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(i){return new(i||t)(V(ns,13),V(Ah,10),V(lv,10),V(Fl,10),V(DU,8))};static \u0275dir=Ne({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[ei([CZ]),Jt,ut]})}return t})();var TZ={provide:Fl,useExisting:Yn(()=>dv),multi:!0};function AU(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function EZ(t){return t.split(":")[0]}var dv=(()=>{class t extends cv{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let i=this._getOptionId(n),r=AU(i,n);this.setProperty("value",r)}registerOnChange(n){this.onChange=i=>{this.value=this._getOptionValue(i),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),n))return i;return null}_getOptionValue(n){let i=EZ(n);return this._optionMap.has(i)?this._optionMap.get(i):n}static \u0275fac=(()=>{let n;return function(r){return(n||(n=$i(t)))(r||t)}})();static \u0275dir=Ne({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){i&1&&ae("change",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[ei([TZ]),Jt]})}return t})(),FU=(()=>{class t{_element;_renderer;_select;id;constructor(n,i,r){this._element=n,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(AU(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(i){return new(i||t)(V(et),V(Zt),V(dv,9))};static \u0275dir=Ne({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})(),IZ={provide:Fl,useExisting:Yn(()=>kU),multi:!0};function aU(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function SZ(t){return t.split(":")[0]}var kU=(()=>{class t extends cv{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let i;if(Array.isArray(n)){let r=n.map(s=>this._getOptionId(s));i=(s,o)=>{s._setSelected(r.indexOf(o.toString())>-1)}}else i=(r,s)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(n){this.onChange=i=>{let r=[],s=i.selectedOptions;if(s!==void 0){let o=s;for(let a=0;a<o.length;a++){let c=o[a],u=this._getOptionValue(c.value);r.push(u)}}else{let o=i.options;for(let a=0;a<o.length;a++){let c=o[a];if(c.selected){let u=this._getOptionValue(c.value);r.push(u)}}}this.value=r,n(r)}}_registerOption(n){let i=(this._idCounter++).toString();return this._optionMap.set(i,n),i}_getOptionId(n){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,n))return i;return null}_getOptionValue(n){let i=SZ(n);return this._optionMap.has(i)?this._optionMap.get(i)._value:n}static \u0275fac=(()=>{let n;return function(r){return(n||(n=$i(t)))(r||t)}})();static \u0275dir=Ne({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){i&1&&ae("change",function(o){return r.onChange(o.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[ei([IZ]),Jt]})}return t})(),MU=(()=>{class t{_element;_renderer;_select;id;_value;constructor(n,i,r){this._element=n,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(aU(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(aU(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(i){return new(i||t)(V(et),V(Zt),V(kU,9))};static \u0275dir=Ne({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})();var DZ=(()=>{class t{_validator=Z0;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let i=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Z0,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(i){return new(i||t)};static \u0275dir=Ne({type:t,features:[ut]})}return t})();var AZ={provide:Ah,useExisting:Yn(()=>J1),multi:!0};var J1=(()=>{class t extends DZ{required;inputName="required";normalizeInput=xs;createValidator=n=>uU;enabled(n){return n}static \u0275fac=(()=>{let n;return function(r){return(n||(n=$i(t)))(r||t)}})();static \u0275dir=Ne({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){i&2&&Pn("required",r._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[ei([AZ]),Jt]})}return t})();var RU=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=He({type:t});static \u0275inj=$e({})}return t})(),$1=class extends Dl{constructor(e,n,i){super(q1(n),Y1(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,i={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,n={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),n&&(this.controls.splice(r,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){xU(this,!1,e),e.forEach((i,r)=>{wU(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,i)=>i._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,i)=>{e(n,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function cU(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var hv=(()=>{class t{useNonNullable=!1;get nonNullable(){let n=new t;return n.useNonNullable=!0,n}group(n,i=null){let r=this._reduceControls(n),s={};return cU(i)?s=i:i!==null&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new Al(r,s)}record(n,i=null){let r=this._reduceControls(n);return new j1(r,i)}control(n,i,r){let s={};return this.useNonNullable?(cU(i)?s=i:(s.validators=i,s.asyncValidators=r),new Dh(n,se(U({},s),{nonNullable:!0}))):new Dh(n,i,r)}array(n,i,r){let s=n.map(o=>this._createControl(o));return new $1(s,i,r)}_reduceControls(n){let i={};return Object.keys(n).forEach(r=>{i[r]=this._createControl(n[r])}),i}_createControl(n){if(n instanceof Dh)return n;if(n instanceof Dl)return n;if(Array.isArray(n)){let i=n[0],r=n.length>1?n[1]:null,s=n.length>2?n[2]:null;return this.control(i,r,s)}else return this.control(n)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var fv=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Rl,useValue:n.callSetDisabledState??Fh}]}}static \u0275fac=function(i){return new(i||t)};static \u0275mod=He({type:t});static \u0275inj=$e({imports:[RU]})}return t})(),pv=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:DU,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Rl,useValue:n.callSetDisabledState??Fh}]}}static \u0275fac=function(i){return new(i||t)};static \u0275mod=He({type:t});static \u0275inj=$e({imports:[RU]})}return t})();function FZ(t,e){if(t&1&&(F(0,"div",2),L(1),k()),t&2){let n=ee();O(),ke(n.errorMessage)}}var mv=class t{fb=R(hv);http=R(Ec);authService=R(on);router=R(qe);form=this.fb.nonNullable.group({username:["",Di.required],email:["",[Di.required,Di.email]],password:["",[Di.required,Di.minLength(6)]]});errorMessage=null;onSubmit(){if(this.form.invalid){this.errorMessage="Please fill in all fields correctly (ensure email is valid and password is at least 6 characters).";return}let e=this.form.getRawValue();this.authService.register(e.email,e.username,e.password).subscribe({next:()=>{this.router.navigateByUrl("/login")},error:n=>{console.error("Registration error:",n),n.code==="auth/email-already-in-use"?this.errorMessage="The email address is already in use by another account.":n.code==="auth/weak-password"?this.errorMessage="The password is too weak. Please choose a stronger one.":n.message?this.errorMessage=n.message:this.errorMessage="An unknown error occurred during registration."}})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Me({type:t,selectors:[["app-register"]],decls:19,vars:2,consts:[[1,"register-page-container"],[1,"register-card"],[1,"error-message"],[1,"register-form",3,"ngSubmit","formGroup"],[1,"form-group"],["type","text","placeholder","Username","formControlName","username"],["type","text","placeholder","Email","formControlName","email"],["type","password","placeholder","Password","formControlName","password"],[1,"form-actions"],["type","submit",1,"submit-button"],[1,"login-prompt"],["routerLink","/login"]],template:function(n,i){n&1&&(F(0,"div",0)(1,"div",1)(2,"h1"),L(3,"Register"),k(),Se(4,FZ,2,1,"div",2),F(5,"form",3),ae("ngSubmit",function(){return i.onSubmit()}),F(6,"div",4),Te(7,"input",5),k(),F(8,"div",4),Te(9,"input",6),k(),F(10,"div",4),Te(11,"input",7),k(),F(12,"div",8)(13,"button",9),L(14,"Sign Up"),k()()(),F(15,"p",10),L(16," Already have an account? "),F(17,"a",11),L(18,"Login here"),k()()()()),n&2&&(O(4),On(i.errorMessage?4:-1),O(),Y("formGroup",i.form))},dependencies:[pv,Pl,Ks,kl,Ml,kh,Mh,Ur,ri],styles:['@font-face{font-family:Roboto;font-style:normal;font-weight:300;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3GUBGEe.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Roboto;font-style:normal;font-weight:300;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3iUBGEe.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Roboto;font-style:normal;font-weight:300;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3CUBGEe.woff2) format("woff2");unicode-range:U+1F00-1FFF}@font-face{font-family:Roboto;font-style:normal;font-weight:300;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3-UBGEe.woff2) format("woff2");unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:Roboto;font-style:normal;font-weight:300;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMawCUBGEe.woff2) format("woff2");unicode-range:U+0302-0303,U+0305,U+0307-0308,U+0310,U+0312,U+0315,U+031A,U+0326-0327,U+032C,U+032F-0330,U+0332-0333,U+0338,U+033A,U+0346,U+034D,U+0391-03A1,U+03A3-03A9,U+03B1-03C9,U+03D1,U+03D5-03D6,U+03F0-03F1,U+03F4-03F5,U+2016-2017,U+2034-2038,U+203C,U+2040,U+2043,U+2047,U+2050,U+2057,U+205F,U+2070-2071,U+2074-208E,U+2090-209C,U+20D0-20DC,U+20E1,U+20E5-20EF,U+2100-2112,U+2114-2115,U+2117-2121,U+2123-214F,U+2190,U+2192,U+2194-21AE,U+21B0-21E5,U+21F1-21F2,U+21F4-2211,U+2213-2214,U+2216-22FF,U+2308-230B,U+2310,U+2319,U+231C-2321,U+2336-237A,U+237C,U+2395,U+239B-23B7,U+23D0,U+23DC-23E1,U+2474-2475,U+25AF,U+25B3,U+25B7,U+25BD,U+25C1,U+25CA,U+25CC,U+25FB,U+266D-266F,U+27C0-27FF,U+2900-2AFF,U+2B0E-2B11,U+2B30-2B4C,U+2BFE,U+3030,U+FF5B,U+FF5D,U+1D400-1D7FF,U+1EE00-1EEFF}@font-face{font-family:Roboto;font-style:normal;font-weight:300;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMaxKUBGEe.woff2) format("woff2");unicode-range:U+0001-000C,U+000E-001F,U+007F-009F,U+20DD-20E0,U+20E2-20E4,U+2150-218F,U+2190,U+2192,U+2194-2199,U+21AF,U+21E6-21F0,U+21F3,U+2218-2219,U+2299,U+22C4-22C6,U+2300-243F,U+2440-244A,U+2460-24FF,U+25A0-27BF,U+2800-28FF,U+2921-2922,U+2981,U+29BF,U+29EB,U+2B00-2BFF,U+4DC0-4DFF,U+FFF9-FFFB,U+10140-1018E,U+10190-1019C,U+101A0,U+101D0-101FD,U+102E0-102FB,U+10E60-10E7E,U+1D2C0-1D2D3,U+1D2E0-1D37F,U+1F000-1F0FF,U+1F100-1F1AD,U+1F1E6-1F1FF,U+1F30D-1F30F,U+1F315,U+1F31C,U+1F31E,U+1F320-1F32C,U+1F336,U+1F378,U+1F37D,U+1F382,U+1F393-1F39F,U+1F3A7-1F3A8,U+1F3AC-1F3AF,U+1F3C2,U+1F3C4-1F3C6,U+1F3CA-1F3CE,U+1F3D4-1F3E0,U+1F3ED,U+1F3F1-1F3F3,U+1F3F5-1F3F7,U+1F408,U+1F415,U+1F41F,U+1F426,U+1F43F,U+1F441-1F442,U+1F444,U+1F446-1F449,U+1F44C-1F44E,U+1F453,U+1F46A,U+1F47D,U+1F4A3,U+1F4B0,U+1F4B3,U+1F4B9,U+1F4BB,U+1F4BF,U+1F4C8-1F4CB,U+1F4D6,U+1F4DA,U+1F4DF,U+1F4E3-1F4E6,U+1F4EA-1F4ED,U+1F4F7,U+1F4F9-1F4FB,U+1F4FD-1F4FE,U+1F503,U+1F507-1F50B,U+1F50D,U+1F512-1F513,U+1F53E-1F54A,U+1F54F-1F5FA,U+1F610,U+1F650-1F67F,U+1F687,U+1F68D,U+1F691,U+1F694,U+1F698,U+1F6AD,U+1F6B2,U+1F6B9-1F6BA,U+1F6BC,U+1F6C6-1F6CF,U+1F6D3-1F6D7,U+1F6E0-1F6EA,U+1F6F0-1F6F3,U+1F6F7-1F6FC,U+1F700-1F7FF,U+1F800-1F80B,U+1F810-1F847,U+1F850-1F859,U+1F860-1F887,U+1F890-1F8AD,U+1F8B0-1F8BB,U+1F8C0-1F8C1,U+1F900-1F90B,U+1F93B,U+1F946,U+1F984,U+1F996,U+1F9E9,U+1FA00-1FA6F,U+1FA70-1FA7C,U+1FA80-1FA89,U+1FA8F-1FAC6,U+1FACE-1FADC,U+1FADF-1FAE9,U+1FAF0-1FAF8,U+1FB00-1FBFF}@font-face{font-family:Roboto;font-style:normal;font-weight:300;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3OUBGEe.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Roboto;font-style:normal;font-weight:300;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3KUBGEe.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Roboto;font-style:normal;font-weight:300;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3yUBA.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Roboto;font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3GUBGEe.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Roboto;font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3iUBGEe.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Roboto;font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3CUBGEe.woff2) format("woff2");unicode-range:U+1F00-1FFF}@font-face{font-family:Roboto;font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3-UBGEe.woff2) format("woff2");unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:Roboto;font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMawCUBGEe.woff2) format("woff2");unicode-range:U+0302-0303,U+0305,U+0307-0308,U+0310,U+0312,U+0315,U+031A,U+0326-0327,U+032C,U+032F-0330,U+0332-0333,U+0338,U+033A,U+0346,U+034D,U+0391-03A1,U+03A3-03A9,U+03B1-03C9,U+03D1,U+03D5-03D6,U+03F0-03F1,U+03F4-03F5,U+2016-2017,U+2034-2038,U+203C,U+2040,U+2043,U+2047,U+2050,U+2057,U+205F,U+2070-2071,U+2074-208E,U+2090-209C,U+20D0-20DC,U+20E1,U+20E5-20EF,U+2100-2112,U+2114-2115,U+2117-2121,U+2123-214F,U+2190,U+2192,U+2194-21AE,U+21B0-21E5,U+21F1-21F2,U+21F4-2211,U+2213-2214,U+2216-22FF,U+2308-230B,U+2310,U+2319,U+231C-2321,U+2336-237A,U+237C,U+2395,U+239B-23B7,U+23D0,U+23DC-23E1,U+2474-2475,U+25AF,U+25B3,U+25B7,U+25BD,U+25C1,U+25CA,U+25CC,U+25FB,U+266D-266F,U+27C0-27FF,U+2900-2AFF,U+2B0E-2B11,U+2B30-2B4C,U+2BFE,U+3030,U+FF5B,U+FF5D,U+1D400-1D7FF,U+1EE00-1EEFF}@font-face{font-family:Roboto;font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMaxKUBGEe.woff2) format("woff2");unicode-range:U+0001-000C,U+000E-001F,U+007F-009F,U+20DD-20E0,U+20E2-20E4,U+2150-218F,U+2190,U+2192,U+2194-2199,U+21AF,U+21E6-21F0,U+21F3,U+2218-2219,U+2299,U+22C4-22C6,U+2300-243F,U+2440-244A,U+2460-24FF,U+25A0-27BF,U+2800-28FF,U+2921-2922,U+2981,U+29BF,U+29EB,U+2B00-2BFF,U+4DC0-4DFF,U+FFF9-FFFB,U+10140-1018E,U+10190-1019C,U+101A0,U+101D0-101FD,U+102E0-102FB,U+10E60-10E7E,U+1D2C0-1D2D3,U+1D2E0-1D37F,U+1F000-1F0FF,U+1F100-1F1AD,U+1F1E6-1F1FF,U+1F30D-1F30F,U+1F315,U+1F31C,U+1F31E,U+1F320-1F32C,U+1F336,U+1F378,U+1F37D,U+1F382,U+1F393-1F39F,U+1F3A7-1F3A8,U+1F3AC-1F3AF,U+1F3C2,U+1F3C4-1F3C6,U+1F3CA-1F3CE,U+1F3D4-1F3E0,U+1F3ED,U+1F3F1-1F3F3,U+1F3F5-1F3F7,U+1F408,U+1F415,U+1F41F,U+1F426,U+1F43F,U+1F441-1F442,U+1F444,U+1F446-1F449,U+1F44C-1F44E,U+1F453,U+1F46A,U+1F47D,U+1F4A3,U+1F4B0,U+1F4B3,U+1F4B9,U+1F4BB,U+1F4BF,U+1F4C8-1F4CB,U+1F4D6,U+1F4DA,U+1F4DF,U+1F4E3-1F4E6,U+1F4EA-1F4ED,U+1F4F7,U+1F4F9-1F4FB,U+1F4FD-1F4FE,U+1F503,U+1F507-1F50B,U+1F50D,U+1F512-1F513,U+1F53E-1F54A,U+1F54F-1F5FA,U+1F610,U+1F650-1F67F,U+1F687,U+1F68D,U+1F691,U+1F694,U+1F698,U+1F6AD,U+1F6B2,U+1F6B9-1F6BA,U+1F6BC,U+1F6C6-1F6CF,U+1F6D3-1F6D7,U+1F6E0-1F6EA,U+1F6F0-1F6F3,U+1F6F7-1F6FC,U+1F700-1F7FF,U+1F800-1F80B,U+1F810-1F847,U+1F850-1F859,U+1F860-1F887,U+1F890-1F8AD,U+1F8B0-1F8BB,U+1F8C0-1F8C1,U+1F900-1F90B,U+1F93B,U+1F946,U+1F984,U+1F996,U+1F9E9,U+1FA00-1FA6F,U+1FA70-1FA7C,U+1FA80-1FA89,U+1FA8F-1FAC6,U+1FACE-1FADC,U+1FADF-1FAE9,U+1FAF0-1FAF8,U+1FB00-1FBFF}@font-face{font-family:Roboto;font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3OUBGEe.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Roboto;font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3KUBGEe.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Roboto;font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3yUBA.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Roboto;font-style:normal;font-weight:700;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3GUBGEe.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Roboto;font-style:normal;font-weight:700;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3iUBGEe.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Roboto;font-style:normal;font-weight:700;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3CUBGEe.woff2) format("woff2");unicode-range:U+1F00-1FFF}@font-face{font-family:Roboto;font-style:normal;font-weight:700;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3-UBGEe.woff2) format("woff2");unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:Roboto;font-style:normal;font-weight:700;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMawCUBGEe.woff2) format("woff2");unicode-range:U+0302-0303,U+0305,U+0307-0308,U+0310,U+0312,U+0315,U+031A,U+0326-0327,U+032C,U+032F-0330,U+0332-0333,U+0338,U+033A,U+0346,U+034D,U+0391-03A1,U+03A3-03A9,U+03B1-03C9,U+03D1,U+03D5-03D6,U+03F0-03F1,U+03F4-03F5,U+2016-2017,U+2034-2038,U+203C,U+2040,U+2043,U+2047,U+2050,U+2057,U+205F,U+2070-2071,U+2074-208E,U+2090-209C,U+20D0-20DC,U+20E1,U+20E5-20EF,U+2100-2112,U+2114-2115,U+2117-2121,U+2123-214F,U+2190,U+2192,U+2194-21AE,U+21B0-21E5,U+21F1-21F2,U+21F4-2211,U+2213-2214,U+2216-22FF,U+2308-230B,U+2310,U+2319,U+231C-2321,U+2336-237A,U+237C,U+2395,U+239B-23B7,U+23D0,U+23DC-23E1,U+2474-2475,U+25AF,U+25B3,U+25B7,U+25BD,U+25C1,U+25CA,U+25CC,U+25FB,U+266D-266F,U+27C0-27FF,U+2900-2AFF,U+2B0E-2B11,U+2B30-2B4C,U+2BFE,U+3030,U+FF5B,U+FF5D,U+1D400-1D7FF,U+1EE00-1EEFF}@font-face{font-family:Roboto;font-style:normal;font-weight:700;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMaxKUBGEe.woff2) format("woff2");unicode-range:U+0001-000C,U+000E-001F,U+007F-009F,U+20DD-20E0,U+20E2-20E4,U+2150-218F,U+2190,U+2192,U+2194-2199,U+21AF,U+21E6-21F0,U+21F3,U+2218-2219,U+2299,U+22C4-22C6,U+2300-243F,U+2440-244A,U+2460-24FF,U+25A0-27BF,U+2800-28FF,U+2921-2922,U+2981,U+29BF,U+29EB,U+2B00-2BFF,U+4DC0-4DFF,U+FFF9-FFFB,U+10140-1018E,U+10190-1019C,U+101A0,U+101D0-101FD,U+102E0-102FB,U+10E60-10E7E,U+1D2C0-1D2D3,U+1D2E0-1D37F,U+1F000-1F0FF,U+1F100-1F1AD,U+1F1E6-1F1FF,U+1F30D-1F30F,U+1F315,U+1F31C,U+1F31E,U+1F320-1F32C,U+1F336,U+1F378,U+1F37D,U+1F382,U+1F393-1F39F,U+1F3A7-1F3A8,U+1F3AC-1F3AF,U+1F3C2,U+1F3C4-1F3C6,U+1F3CA-1F3CE,U+1F3D4-1F3E0,U+1F3ED,U+1F3F1-1F3F3,U+1F3F5-1F3F7,U+1F408,U+1F415,U+1F41F,U+1F426,U+1F43F,U+1F441-1F442,U+1F444,U+1F446-1F449,U+1F44C-1F44E,U+1F453,U+1F46A,U+1F47D,U+1F4A3,U+1F4B0,U+1F4B3,U+1F4B9,U+1F4BB,U+1F4BF,U+1F4C8-1F4CB,U+1F4D6,U+1F4DA,U+1F4DF,U+1F4E3-1F4E6,U+1F4EA-1F4ED,U+1F4F7,U+1F4F9-1F4FB,U+1F4FD-1F4FE,U+1F503,U+1F507-1F50B,U+1F50D,U+1F512-1F513,U+1F53E-1F54A,U+1F54F-1F5FA,U+1F610,U+1F650-1F67F,U+1F687,U+1F68D,U+1F691,U+1F694,U+1F698,U+1F6AD,U+1F6B2,U+1F6B9-1F6BA,U+1F6BC,U+1F6C6-1F6CF,U+1F6D3-1F6D7,U+1F6E0-1F6EA,U+1F6F0-1F6F3,U+1F6F7-1F6FC,U+1F700-1F7FF,U+1F800-1F80B,U+1F810-1F847,U+1F850-1F859,U+1F860-1F887,U+1F890-1F8AD,U+1F8B0-1F8BB,U+1F8C0-1F8C1,U+1F900-1F90B,U+1F93B,U+1F946,U+1F984,U+1F996,U+1F9E9,U+1FA00-1FA6F,U+1FA70-1FA7C,U+1FA80-1FA89,U+1FA8F-1FAC6,U+1FACE-1FADC,U+1FADF-1FAE9,U+1FAF0-1FAF8,U+1FB00-1FBFF}@font-face{font-family:Roboto;font-style:normal;font-weight:700;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3OUBGEe.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Roboto;font-style:normal;font-weight:700;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3KUBGEe.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Roboto;font-style:normal;font-weight:700;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3yUBA.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}.register-page-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background-color:#f0f2f5;font-family:Roboto,sans-serif;color:#333;padding:16px;box-sizing:border-box}.register-card[_ngcontent-%COMP%]{background-color:#fff;padding:32px;border-radius:8px;box-shadow:0 4px 20px #0000001a;width:100%;max-width:400px;text-align:center;box-sizing:border-box}h1[_ngcontent-%COMP%]{font-size:2.5em;color:#4caf50;margin-bottom:24px;font-weight:700;letter-spacing:-.5px}.error-message[_ngcontent-%COMP%]{background-color:#fbecec;color:#d32f2f;border:1px solid #d32f2f;padding:8px;border-radius:4px;margin-bottom:16px;font-size:.9em;text-align:left}.register-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.form-group[_ngcontent-%COMP%]{width:100%}input[type=text][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{width:100%;padding:12.8px 16px;border:1px solid #e0e0e0;border-radius:5px;font-size:1em;color:#333;background-color:#fdfdfd;transition:border-color .3s ease,box-shadow .3s ease;box-sizing:border-box}input[type=text][_ngcontent-%COMP%]:focus, input[type=password][_ngcontent-%COMP%]:focus{border-color:#4caf50;box-shadow:0 0 0 3px #4caf5033;outline:none}input[type=text][_ngcontent-%COMP%]::placeholder, input[type=password][_ngcontent-%COMP%]::placeholder{color:#666;opacity:.8}.form-actions[_ngcontent-%COMP%]{margin-top:8px}.submit-button[_ngcontent-%COMP%]{width:100%;padding:16px;background-color:#4caf50;color:#fff;border:none;border-radius:5px;font-size:1.1em;font-weight:700;cursor:pointer;transition:background-color .3s ease,box-shadow .3s ease}.submit-button[_ngcontent-%COMP%]:hover{background-color:#3d8b40;box-shadow:0 2px 8px #4caf5066}.submit-button[_ngcontent-%COMP%]:active{background-color:#357a38;transform:translateY(1px)}.submit-button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed;box-shadow:none}.login-prompt[_ngcontent-%COMP%]{margin-top:16px;font-size:.95em;color:#666}.login-prompt[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#0056b3;text-decoration:none;font-weight:500;transition:color .3s ease}.login-prompt[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#003d80;text-decoration:underline}@media (max-width: 600px){.register-card[_ngcontent-%COMP%]{margin:16px;padding:24px}h1[_ngcontent-%COMP%]{font-size:2em}.submit-button[_ngcontent-%COMP%]{font-size:1em;padding:12.8px}}']})};function kZ(t,e){if(t&1&&(F(0,"div",2),L(1),k()),t&2){let n=ee();O(),ke(n.errorMessage)}}var gv=class t{fb=R(hv);http=R(Ec);router=R(qe);route=R(Dn);authService=R(on);form=this.fb.nonNullable.group({email:["",Di.required],password:["",Di.required]});errorMessage=null;returnUrl="/";ngOnInit(){this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/"}onSubmit(){if(this.form.invalid){this.errorMessage="Please enter a valid email and password.";return}let e=this.form.getRawValue();this.authService.login(e.email,e.password).subscribe({next:n=>{console.log("Logged in user:",n),this.router.navigateByUrl(this.returnUrl)},error:n=>{console.error("Login error:",n),this.errorMessage=n.message||"An unknown error occurred. Please check your credentials."}})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Me({type:t,selectors:[["app-login"]],decls:17,vars:2,consts:[[1,"login-page-container"],[1,"login-card"],[1,"error-message"],[1,"login-form",3,"ngSubmit","formGroup"],[1,"form-group"],["type","text","placeholder","Email","formControlName","email"],["type","password","placeholder","Password","formControlName","password"],[1,"form-actions"],["type","submit",1,"submit-button"],[1,"register-prompt"],["routerLink","/register"]],template:function(n,i){n&1&&(F(0,"div",0)(1,"div",1)(2,"h1"),L(3,"Login"),k(),Se(4,kZ,2,1,"div",2),F(5,"form",3),ae("ngSubmit",function(){return i.onSubmit()}),F(6,"div",4),Te(7,"input",5),k(),F(8,"div",4),Te(9,"input",6),k(),F(10,"div",7)(11,"button",8),L(12,"Sign In"),k()()(),F(13,"p",9),L(14," Don't have an account? "),F(15,"a",10),L(16,"Register here"),k()()()()),n&2&&(O(4),On(i.errorMessage?4:-1),O(),Y("formGroup",i.form))},dependencies:[pv,Pl,Ks,kl,Ml,kh,Mh,Ur,ri],styles:['@font-face{font-family:Roboto;font-style:normal;font-weight:300;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3GUBGEe.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Roboto;font-style:normal;font-weight:300;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3iUBGEe.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Roboto;font-style:normal;font-weight:300;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3CUBGEe.woff2) format("woff2");unicode-range:U+1F00-1FFF}@font-face{font-family:Roboto;font-style:normal;font-weight:300;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3-UBGEe.woff2) format("woff2");unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:Roboto;font-style:normal;font-weight:300;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMawCUBGEe.woff2) format("woff2");unicode-range:U+0302-0303,U+0305,U+0307-0308,U+0310,U+0312,U+0315,U+031A,U+0326-0327,U+032C,U+032F-0330,U+0332-0333,U+0338,U+033A,U+0346,U+034D,U+0391-03A1,U+03A3-03A9,U+03B1-03C9,U+03D1,U+03D5-03D6,U+03F0-03F1,U+03F4-03F5,U+2016-2017,U+2034-2038,U+203C,U+2040,U+2043,U+2047,U+2050,U+2057,U+205F,U+2070-2071,U+2074-208E,U+2090-209C,U+20D0-20DC,U+20E1,U+20E5-20EF,U+2100-2112,U+2114-2115,U+2117-2121,U+2123-214F,U+2190,U+2192,U+2194-21AE,U+21B0-21E5,U+21F1-21F2,U+21F4-2211,U+2213-2214,U+2216-22FF,U+2308-230B,U+2310,U+2319,U+231C-2321,U+2336-237A,U+237C,U+2395,U+239B-23B7,U+23D0,U+23DC-23E1,U+2474-2475,U+25AF,U+25B3,U+25B7,U+25BD,U+25C1,U+25CA,U+25CC,U+25FB,U+266D-266F,U+27C0-27FF,U+2900-2AFF,U+2B0E-2B11,U+2B30-2B4C,U+2BFE,U+3030,U+FF5B,U+FF5D,U+1D400-1D7FF,U+1EE00-1EEFF}@font-face{font-family:Roboto;font-style:normal;font-weight:300;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMaxKUBGEe.woff2) format("woff2");unicode-range:U+0001-000C,U+000E-001F,U+007F-009F,U+20DD-20E0,U+20E2-20E4,U+2150-218F,U+2190,U+2192,U+2194-2199,U+21AF,U+21E6-21F0,U+21F3,U+2218-2219,U+2299,U+22C4-22C6,U+2300-243F,U+2440-244A,U+2460-24FF,U+25A0-27BF,U+2800-28FF,U+2921-2922,U+2981,U+29BF,U+29EB,U+2B00-2BFF,U+4DC0-4DFF,U+FFF9-FFFB,U+10140-1018E,U+10190-1019C,U+101A0,U+101D0-101FD,U+102E0-102FB,U+10E60-10E7E,U+1D2C0-1D2D3,U+1D2E0-1D37F,U+1F000-1F0FF,U+1F100-1F1AD,U+1F1E6-1F1FF,U+1F30D-1F30F,U+1F315,U+1F31C,U+1F31E,U+1F320-1F32C,U+1F336,U+1F378,U+1F37D,U+1F382,U+1F393-1F39F,U+1F3A7-1F3A8,U+1F3AC-1F3AF,U+1F3C2,U+1F3C4-1F3C6,U+1F3CA-1F3CE,U+1F3D4-1F3E0,U+1F3ED,U+1F3F1-1F3F3,U+1F3F5-1F3F7,U+1F408,U+1F415,U+1F41F,U+1F426,U+1F43F,U+1F441-1F442,U+1F444,U+1F446-1F449,U+1F44C-1F44E,U+1F453,U+1F46A,U+1F47D,U+1F4A3,U+1F4B0,U+1F4B3,U+1F4B9,U+1F4BB,U+1F4BF,U+1F4C8-1F4CB,U+1F4D6,U+1F4DA,U+1F4DF,U+1F4E3-1F4E6,U+1F4EA-1F4ED,U+1F4F7,U+1F4F9-1F4FB,U+1F4FD-1F4FE,U+1F503,U+1F507-1F50B,U+1F50D,U+1F512-1F513,U+1F53E-1F54A,U+1F54F-1F5FA,U+1F610,U+1F650-1F67F,U+1F687,U+1F68D,U+1F691,U+1F694,U+1F698,U+1F6AD,U+1F6B2,U+1F6B9-1F6BA,U+1F6BC,U+1F6C6-1F6CF,U+1F6D3-1F6D7,U+1F6E0-1F6EA,U+1F6F0-1F6F3,U+1F6F7-1F6FC,U+1F700-1F7FF,U+1F800-1F80B,U+1F810-1F847,U+1F850-1F859,U+1F860-1F887,U+1F890-1F8AD,U+1F8B0-1F8BB,U+1F8C0-1F8C1,U+1F900-1F90B,U+1F93B,U+1F946,U+1F984,U+1F996,U+1F9E9,U+1FA00-1FA6F,U+1FA70-1FA7C,U+1FA80-1FA89,U+1FA8F-1FAC6,U+1FACE-1FADC,U+1FADF-1FAE9,U+1FAF0-1FAF8,U+1FB00-1FBFF}@font-face{font-family:Roboto;font-style:normal;font-weight:300;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3OUBGEe.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Roboto;font-style:normal;font-weight:300;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3KUBGEe.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Roboto;font-style:normal;font-weight:300;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3yUBA.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Roboto;font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3GUBGEe.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Roboto;font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3iUBGEe.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Roboto;font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3CUBGEe.woff2) format("woff2");unicode-range:U+1F00-1FFF}@font-face{font-family:Roboto;font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3-UBGEe.woff2) format("woff2");unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:Roboto;font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMawCUBGEe.woff2) format("woff2");unicode-range:U+0302-0303,U+0305,U+0307-0308,U+0310,U+0312,U+0315,U+031A,U+0326-0327,U+032C,U+032F-0330,U+0332-0333,U+0338,U+033A,U+0346,U+034D,U+0391-03A1,U+03A3-03A9,U+03B1-03C9,U+03D1,U+03D5-03D6,U+03F0-03F1,U+03F4-03F5,U+2016-2017,U+2034-2038,U+203C,U+2040,U+2043,U+2047,U+2050,U+2057,U+205F,U+2070-2071,U+2074-208E,U+2090-209C,U+20D0-20DC,U+20E1,U+20E5-20EF,U+2100-2112,U+2114-2115,U+2117-2121,U+2123-214F,U+2190,U+2192,U+2194-21AE,U+21B0-21E5,U+21F1-21F2,U+21F4-2211,U+2213-2214,U+2216-22FF,U+2308-230B,U+2310,U+2319,U+231C-2321,U+2336-237A,U+237C,U+2395,U+239B-23B7,U+23D0,U+23DC-23E1,U+2474-2475,U+25AF,U+25B3,U+25B7,U+25BD,U+25C1,U+25CA,U+25CC,U+25FB,U+266D-266F,U+27C0-27FF,U+2900-2AFF,U+2B0E-2B11,U+2B30-2B4C,U+2BFE,U+3030,U+FF5B,U+FF5D,U+1D400-1D7FF,U+1EE00-1EEFF}@font-face{font-family:Roboto;font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMaxKUBGEe.woff2) format("woff2");unicode-range:U+0001-000C,U+000E-001F,U+007F-009F,U+20DD-20E0,U+20E2-20E4,U+2150-218F,U+2190,U+2192,U+2194-2199,U+21AF,U+21E6-21F0,U+21F3,U+2218-2219,U+2299,U+22C4-22C6,U+2300-243F,U+2440-244A,U+2460-24FF,U+25A0-27BF,U+2800-28FF,U+2921-2922,U+2981,U+29BF,U+29EB,U+2B00-2BFF,U+4DC0-4DFF,U+FFF9-FFFB,U+10140-1018E,U+10190-1019C,U+101A0,U+101D0-101FD,U+102E0-102FB,U+10E60-10E7E,U+1D2C0-1D2D3,U+1D2E0-1D37F,U+1F000-1F0FF,U+1F100-1F1AD,U+1F1E6-1F1FF,U+1F30D-1F30F,U+1F315,U+1F31C,U+1F31E,U+1F320-1F32C,U+1F336,U+1F378,U+1F37D,U+1F382,U+1F393-1F39F,U+1F3A7-1F3A8,U+1F3AC-1F3AF,U+1F3C2,U+1F3C4-1F3C6,U+1F3CA-1F3CE,U+1F3D4-1F3E0,U+1F3ED,U+1F3F1-1F3F3,U+1F3F5-1F3F7,U+1F408,U+1F415,U+1F41F,U+1F426,U+1F43F,U+1F441-1F442,U+1F444,U+1F446-1F449,U+1F44C-1F44E,U+1F453,U+1F46A,U+1F47D,U+1F4A3,U+1F4B0,U+1F4B3,U+1F4B9,U+1F4BB,U+1F4BF,U+1F4C8-1F4CB,U+1F4D6,U+1F4DA,U+1F4DF,U+1F4E3-1F4E6,U+1F4EA-1F4ED,U+1F4F7,U+1F4F9-1F4FB,U+1F4FD-1F4FE,U+1F503,U+1F507-1F50B,U+1F50D,U+1F512-1F513,U+1F53E-1F54A,U+1F54F-1F5FA,U+1F610,U+1F650-1F67F,U+1F687,U+1F68D,U+1F691,U+1F694,U+1F698,U+1F6AD,U+1F6B2,U+1F6B9-1F6BA,U+1F6BC,U+1F6C6-1F6CF,U+1F6D3-1F6D7,U+1F6E0-1F6EA,U+1F6F0-1F6F3,U+1F6F7-1F6FC,U+1F700-1F7FF,U+1F800-1F80B,U+1F810-1F847,U+1F850-1F859,U+1F860-1F887,U+1F890-1F8AD,U+1F8B0-1F8BB,U+1F8C0-1F8C1,U+1F900-1F90B,U+1F93B,U+1F946,U+1F984,U+1F996,U+1F9E9,U+1FA00-1FA6F,U+1FA70-1FA7C,U+1FA80-1FA89,U+1FA8F-1FAC6,U+1FACE-1FADC,U+1FADF-1FAE9,U+1FAF0-1FAF8,U+1FB00-1FBFF}@font-face{font-family:Roboto;font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3OUBGEe.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Roboto;font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3KUBGEe.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Roboto;font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3yUBA.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Roboto;font-style:normal;font-weight:700;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3GUBGEe.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Roboto;font-style:normal;font-weight:700;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3iUBGEe.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Roboto;font-style:normal;font-weight:700;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3CUBGEe.woff2) format("woff2");unicode-range:U+1F00-1FFF}@font-face{font-family:Roboto;font-style:normal;font-weight:700;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3-UBGEe.woff2) format("woff2");unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:Roboto;font-style:normal;font-weight:700;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMawCUBGEe.woff2) format("woff2");unicode-range:U+0302-0303,U+0305,U+0307-0308,U+0310,U+0312,U+0315,U+031A,U+0326-0327,U+032C,U+032F-0330,U+0332-0333,U+0338,U+033A,U+0346,U+034D,U+0391-03A1,U+03A3-03A9,U+03B1-03C9,U+03D1,U+03D5-03D6,U+03F0-03F1,U+03F4-03F5,U+2016-2017,U+2034-2038,U+203C,U+2040,U+2043,U+2047,U+2050,U+2057,U+205F,U+2070-2071,U+2074-208E,U+2090-209C,U+20D0-20DC,U+20E1,U+20E5-20EF,U+2100-2112,U+2114-2115,U+2117-2121,U+2123-214F,U+2190,U+2192,U+2194-21AE,U+21B0-21E5,U+21F1-21F2,U+21F4-2211,U+2213-2214,U+2216-22FF,U+2308-230B,U+2310,U+2319,U+231C-2321,U+2336-237A,U+237C,U+2395,U+239B-23B7,U+23D0,U+23DC-23E1,U+2474-2475,U+25AF,U+25B3,U+25B7,U+25BD,U+25C1,U+25CA,U+25CC,U+25FB,U+266D-266F,U+27C0-27FF,U+2900-2AFF,U+2B0E-2B11,U+2B30-2B4C,U+2BFE,U+3030,U+FF5B,U+FF5D,U+1D400-1D7FF,U+1EE00-1EEFF}@font-face{font-family:Roboto;font-style:normal;font-weight:700;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMaxKUBGEe.woff2) format("woff2");unicode-range:U+0001-000C,U+000E-001F,U+007F-009F,U+20DD-20E0,U+20E2-20E4,U+2150-218F,U+2190,U+2192,U+2194-2199,U+21AF,U+21E6-21F0,U+21F3,U+2218-2219,U+2299,U+22C4-22C6,U+2300-243F,U+2440-244A,U+2460-24FF,U+25A0-27BF,U+2800-28FF,U+2921-2922,U+2981,U+29BF,U+29EB,U+2B00-2BFF,U+4DC0-4DFF,U+FFF9-FFFB,U+10140-1018E,U+10190-1019C,U+101A0,U+101D0-101FD,U+102E0-102FB,U+10E60-10E7E,U+1D2C0-1D2D3,U+1D2E0-1D37F,U+1F000-1F0FF,U+1F100-1F1AD,U+1F1E6-1F1FF,U+1F30D-1F30F,U+1F315,U+1F31C,U+1F31E,U+1F320-1F32C,U+1F336,U+1F378,U+1F37D,U+1F382,U+1F393-1F39F,U+1F3A7-1F3A8,U+1F3AC-1F3AF,U+1F3C2,U+1F3C4-1F3C6,U+1F3CA-1F3CE,U+1F3D4-1F3E0,U+1F3ED,U+1F3F1-1F3F3,U+1F3F5-1F3F7,U+1F408,U+1F415,U+1F41F,U+1F426,U+1F43F,U+1F441-1F442,U+1F444,U+1F446-1F449,U+1F44C-1F44E,U+1F453,U+1F46A,U+1F47D,U+1F4A3,U+1F4B0,U+1F4B3,U+1F4B9,U+1F4BB,U+1F4BF,U+1F4C8-1F4CB,U+1F4D6,U+1F4DA,U+1F4DF,U+1F4E3-1F4E6,U+1F4EA-1F4ED,U+1F4F7,U+1F4F9-1F4FB,U+1F4FD-1F4FE,U+1F503,U+1F507-1F50B,U+1F50D,U+1F512-1F513,U+1F53E-1F54A,U+1F54F-1F5FA,U+1F610,U+1F650-1F67F,U+1F687,U+1F68D,U+1F691,U+1F694,U+1F698,U+1F6AD,U+1F6B2,U+1F6B9-1F6BA,U+1F6BC,U+1F6C6-1F6CF,U+1F6D3-1F6D7,U+1F6E0-1F6EA,U+1F6F0-1F6F3,U+1F6F7-1F6FC,U+1F700-1F7FF,U+1F800-1F80B,U+1F810-1F847,U+1F850-1F859,U+1F860-1F887,U+1F890-1F8AD,U+1F8B0-1F8BB,U+1F8C0-1F8C1,U+1F900-1F90B,U+1F93B,U+1F946,U+1F984,U+1F996,U+1F9E9,U+1FA00-1FA6F,U+1FA70-1FA7C,U+1FA80-1FA89,U+1FA8F-1FAC6,U+1FACE-1FADC,U+1FADF-1FAE9,U+1FAF0-1FAF8,U+1FB00-1FBFF}@font-face{font-family:Roboto;font-style:normal;font-weight:700;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3OUBGEe.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Roboto;font-style:normal;font-weight:700;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3KUBGEe.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Roboto;font-style:normal;font-weight:700;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3yUBA.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}.login-page-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background-color:#f0f2f5;font-family:Roboto,sans-serif;color:#333;padding:16px;box-sizing:border-box}.login-card[_ngcontent-%COMP%]{background-color:#fff;padding:32px;border-radius:8px;box-shadow:0 4px 20px #0000001a;width:100%;max-width:400px;text-align:center;box-sizing:border-box}h1[_ngcontent-%COMP%]{font-size:2.5em;color:#4caf50;margin-bottom:24px;font-weight:700;letter-spacing:-.5px}.error-message[_ngcontent-%COMP%]{background-color:#fbecec;color:#d32f2f;border:1px solid #d32f2f;padding:8px;border-radius:4px;margin-bottom:16px;font-size:.9em;text-align:left}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.form-group[_ngcontent-%COMP%]{width:100%}input[type=text][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{width:100%;padding:12.8px 16px;border:1px solid #e0e0e0;border-radius:5px;font-size:1em;color:#333;background-color:#fdfdfd;transition:border-color .3s ease,box-shadow .3s ease;box-sizing:border-box}input[type=text][_ngcontent-%COMP%]:focus, input[type=password][_ngcontent-%COMP%]:focus{border-color:#4caf50;box-shadow:0 0 0 3px #4caf5033;outline:none}input[type=text][_ngcontent-%COMP%]::placeholder, input[type=password][_ngcontent-%COMP%]::placeholder{color:#666;opacity:.8}.form-actions[_ngcontent-%COMP%]{margin-top:8px}.submit-button[_ngcontent-%COMP%]{width:100%;padding:16px;background-color:#4caf50;color:#fff;border:none;border-radius:5px;font-size:1.1em;font-weight:700;cursor:pointer;transition:background-color .3s ease,box-shadow .3s ease}.submit-button[_ngcontent-%COMP%]:hover{background-color:#3d8b40;box-shadow:0 2px 8px #4caf5066}.submit-button[_ngcontent-%COMP%]:active{background-color:#357a38;transform:translateY(1px)}.submit-button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed;box-shadow:none}.register-prompt[_ngcontent-%COMP%]{margin-top:16px;font-size:.95em;color:#666}.register-prompt[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#0056b3;text-decoration:none;font-weight:500;transition:color .3s ease}.register-prompt[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#003d80;text-decoration:underline}@media (max-width: 600px){.login-card[_ngcontent-%COMP%]{margin:16px;padding:24px}h1[_ngcontent-%COMP%]{font-size:2em}.submit-button[_ngcontent-%COMP%]{font-size:1em;padding:12.8px}}']})};var vv,MZ=new Uint8Array(16);function tI(){if(!vv&&(vv=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!vv))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return vv(MZ)}var PU=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function RZ(t){return typeof t=="string"&&PU.test(t)}var OU=RZ;var jt=[];for(_v=0;_v<256;++_v)jt.push((_v+256).toString(16).substr(1));var _v;function PZ(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(jt[t[e+0]]+jt[t[e+1]]+jt[t[e+2]]+jt[t[e+3]]+"-"+jt[t[e+4]]+jt[t[e+5]]+"-"+jt[t[e+6]]+jt[t[e+7]]+"-"+jt[t[e+8]]+jt[t[e+9]]+"-"+jt[t[e+10]]+jt[t[e+11]]+jt[t[e+12]]+jt[t[e+13]]+jt[t[e+14]]+jt[t[e+15]]).toLowerCase();if(!OU(n))throw TypeError("Stringified UUID is invalid");return n}var NU=PZ;function OZ(t,e,n){t=t||{};var i=t.random||(t.rng||tI)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,e){n=n||0;for(var r=0;r<16;++r)e[n+r]=i[r];return e}return NU(i)}var nI=OZ;var Ol=class t{selectedTemplateSource=new Tt(null);currentSelectedTemplate=this.selectedTemplateSource.asObservable();constructor(){}setSelectedTemplate(e){this.selectedTemplateSource.next(e)}getAndClearSelectedTemplate(){let e=this.selectedTemplateSource.getValue();return this.selectedTemplateSource.next(null),e}static \u0275fac=function(n){return new(n||t)};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})};var NZ=(t,e,n,i)=>({"font-family":t,color:e,"background-color":n,"text-align":i});function LZ(t,e){if(t&1&&(F(0,"p",29),L(1),k()),t&2){let n=ee();O(),ke(n.errorMessage)}}function UZ(t,e){if(t&1&&(F(0,"li"),L(1),k()),t&2){let n=e.$implicit;O(),ke(n)}}function VZ(t,e){if(t&1){let n=hn();F(0,"button",30),ae("click",function(){be(n);let r=ee();return Ce(r.onImageUpload(null))}),L(1,"Remove Image"),k()}}function BZ(t,e){if(t&1&&(F(0,"option",31),L(1),k()),t&2){let n=e.$implicit;Y("value",n),O(),ke(n.split(",")[0])}}function jZ(t,e){if(t&1){let n=hn();F(0,"input",32),Wi("ngModelChange",function(r){be(n);let s=ee();return kr(s.customStyles.textAlign,r)||(s.customStyles.textAlign=r),Ce(r)}),ae("change",function(r){be(n);let s=ee();return Ce(s.onCustomStyleChange("textAlign",r))}),k(),F(1,"label",33),L(2),Rr(3,"titlecase"),k()}if(t&2){let n=e.$implicit,i=ee();Po("id","textAlign-",n,""),Y("value",n),zi("ngModel",i.customStyles.textAlign),O(),Po("for","textAlign-",n,""),O(),ke(ws(3,7,n))}}function $Z(t,e){if(t&1&&Te(0,"img",34),t&2){let n=ee();Y("src",n.uploadedImage,Gi)}}var yv=class t{constructor(e,n,i,r){this.firestore=e;this.auth=n;this.router=i;this.templateSelectionService=r}invitation={title:"",date:"",description:"",invitees:[]};designs=[{id:"1",name:"Classic",styles:{fontFamily:"Arial, sans-serif",textColor:"#333333",backgroundColor:"#f9f9f9",textAlign:"center"}},{id:"2",name:"Modern",styles:{fontFamily:"Verdana, sans-serif",textColor:"#0056b3",backgroundColor:"#e0f7fa",textAlign:"left"}},{id:"3",name:"Minimalist",styles:{fontFamily:"Georgia, serif",textColor:"#555555",backgroundColor:"#ffffff",textAlign:"justify"}},{id:"template-custom",name:"Selected Template / Custom",styles:{}}];inviteesInput="";errorMessage=null;selectedDesignId="1";uploadedImage=null;uploadedImageFile=null;customStyles={};fontFamilies=["Arial, sans-serif","Verdana, sans-serif","Georgia, serif","Times New Roman, serif","Courier New, monospace","Trebuchet MS, sans-serif","Roboto, sans-serif"];textAlignOptions=["left","center","right","justify"];currentUser=null;ngOnInit(){this.auth.onAuthStateChanged(n=>{this.currentUser=n});let e=this.templateSelectionService.getAndClearSelectedTemplate();console.log("DEBUG (CreateInvitationComponent): Template received from service:",e),e?(this.invitation.title=e.invitationDetails.title,this.invitation.description=e.invitationDetails.description,this.invitation.date=e.invitationDetails.date,this.invitation.invitees=[],this.customStyles=U({},e.customStyles),this.selectedDesignId="template-custom",this.uploadedImage=e.imageUrl,this.uploadedImageFile=null,console.log("DEBUG (CreateInvitationComponent): customStyles after applying template:",this.customStyles),console.log("DEBUG (CreateInvitationComponent): selectedDesignId after applying template:",this.selectedDesignId)):(console.log("DEBUG (CreateInvitationComponent): No template data from service. Applying default design styles."),this.selectedDesignId="1",this.applySelectedDesignStyles()),console.log("DEBUG (CreateInvitationComponent): Final customStyles at end of ngOnInit:",this.customStyles),console.log("DEBUG (CreateInvitationComponent): Final selectedDesignId at end of ngOnInit:",this.selectedDesignId)}applySelectedDesignStyles(){let e=this.designs.find(n=>n.id==="1");e?(this.customStyles=U({},e.styles),this.selectedDesignId="1"):(this.customStyles={},this.selectedDesignId=""),this.uploadedImage=null,this.uploadedImageFile=null,console.log("DEBUG (CreateInvitationComponent): customStyles after applySelectedDesignStyles called:",this.customStyles),console.log("DEBUG (CreateInvitationComponent): selectedDesignId after applySelectedDesignStyles called:",this.selectedDesignId)}onCustomStyleChange(e,n){let i=n.target,r=null;i&&"value"in i&&(r=i.value),r!==null?(this.customStyles=se(U({},this.customStyles),{[e]:r}),this.selectedDesignId="template-custom"):console.warn(`Could not get value from event target for property ${e}:`,n.target),console.log("DEBUG (CreateInvitationComponent): customStyles after manual change:",this.customStyles)}resetCustomStyles(){this.selectedDesignId="1",this.applySelectedDesignStyles(),console.log("DEBUG (CreateInvitationComponent): Resetting custom styles via button.")}onImageUpload(e){let n=e?e.target.files?.[0]:null;if(n){this.uploadedImageFile=n;let i=new FileReader;i.onload=()=>{this.uploadedImage=i.result},i.readAsDataURL(n),this.selectedDesignId="template-custom"}else this.uploadedImage=null,this.uploadedImageFile=null}addInvitees(){let e=this.inviteesInput.match(/[^a-zA-Z0-9@.\s;]/g);if(e){this.errorMessage=`Invalid characters detected: ${e.join(", ")}`;return}this.errorMessage=null;let n=this.inviteesInput.split(/[\s;]+/).filter(r=>r.trim()!=="").map(r=>r.trim()),i=n.filter(r=>!this.isValidEmail(r));if(i.length>0){this.errorMessage=`Invalid email(s): ${i.join(", ")}`;return}n.forEach(r=>{this.invitation.invitees.includes(r)||this.invitation.invitees.push(r)}),this.inviteesInput=""}isValidEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}onSubmit(){return _(this,null,function*(){if(!this.currentUser){console.error("No user is currently logged in! Cannot save invitation.");return}let e=Ws(this.firestore,"invitations");try{let n=this.currentUser.uid,i={title:this.invitation.title,date:this.invitation.date,description:this.invitation.description,invitees:this.invitation.invitees,userId:n,createdAt:new Date,selectedDesignId:this.selectedDesignId,customStyles:this.customStyles,uploadedImageBase64:this.uploadedImage},s=(yield Y0(e,i)).id,o=Ws(this.firestore,`invitations/${s}/responses`);for(let a of this.invitation.invitees){let c=nI(),u={email:a,status:"pending",inviteLink:`http://localhost:4200/respond/${s}/${c}`},d=El(o,c);yield XL(d,u),console.log(`Invite link for ${a}: ${u.inviteLink}`)}console.log("Invitation and responses saved successfully!"),this.resetForm()}catch(n){console.error("Error saving invitation:",n)}})}resetForm(){this.invitation={title:"",date:"",description:"",invitees:[]},this.inviteesInput="",this.errorMessage=null,this.uploadedImage=null,this.uploadedImageFile=null,this.selectedDesignId="1",this.applySelectedDesignStyles()}static \u0275fac=function(n){return new(n||t)(V(Si),V(Kr),V(qe),V(Ol))};static \u0275cmp=Me({type:t,selectors:[["app-create-invitation"]],decls:56,vars:25,consts:[["eventForm","ngForm"],[1,"event-creation"],[1,"event-form",3,"ngSubmit"],["for","title"],["type","text","id","title","name","title","required","",3,"ngModelChange","ngModel"],["for","date"],["type","date","id","date","name","date","required","",3,"ngModelChange","ngModel"],["for","description"],["id","description","name","description",3,"ngModelChange","ngModel"],["for","invitees"],["type","text","id","invitees","name","invitees","placeholder","Enter emails separated by space or ;",3,"ngModelChange","ngModel"],["type","button",3,"click"],["class","error",4,"ngIf"],[4,"ngFor","ngForOf"],["for","image"],["type","file","id","image",3,"change"],["type","button","class","remove-image-button",3,"click",4,"ngIf"],["for","fontFamily"],["id","fontFamily","name","fontFamily",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for","textColor"],["type","color","id","textColor","name","textColor",3,"ngModelChange","change","ngModel"],["for","backgroundColor"],["type","color","id","backgroundColor","name","backgroundColor",3,"ngModelChange","change","ngModel"],[1,"text-align-options"],["type","button",1,"reset-styles-button",3,"click"],["type","submit",3,"disabled"],[1,"invitation-preview",3,"ngClass","ngStyle"],["alt","Custom Invitation Image",3,"src",4,"ngIf"],[1,"error"],["type","button",1,"remove-image-button",3,"click"],[3,"value"],["type","radio","name","textAlign",3,"ngModelChange","change","id","value","ngModel"],[3,"for"],["alt","Custom Invitation Image",3,"src"]],template:function(n,i){if(n&1){let r=hn();F(0,"div",1)(1,"h2"),L(2,"Create Your Event Invitation"),k(),F(3,"form",2,0),ae("ngSubmit",function(){return be(r),Ce(i.onSubmit())}),F(5,"label",3),L(6,"Event Title:"),k(),F(7,"input",4),Wi("ngModelChange",function(o){return be(r),kr(i.invitation.title,o)||(i.invitation.title=o),Ce(o)}),k(),F(8,"label",5),L(9,"Event Date:"),k(),F(10,"input",6),Wi("ngModelChange",function(o){return be(r),kr(i.invitation.date,o)||(i.invitation.date=o),Ce(o)}),k(),F(11,"label",7),L(12,"Description:"),k(),F(13,"textarea",8),Wi("ngModelChange",function(o){return be(r),kr(i.invitation.description,o)||(i.invitation.description=o),Ce(o)}),k(),F(14,"label",9),L(15,"Invitees:"),k(),F(16,"input",10),Wi("ngModelChange",function(o){return be(r),kr(i.inviteesInput,o)||(i.inviteesInput=o),Ce(o)}),k(),F(17,"button",11),ae("click",function(){return be(r),Ce(i.addInvitees())}),L(18,"Add Invitees"),k(),Se(19,LZ,2,1,"p",12),F(20,"ul"),Se(21,UZ,2,1,"li",13),k(),F(22,"label",14),L(23,"Upload Custom Image:"),k(),F(24,"input",15),ae("change",function(o){return be(r),Ce(i.onImageUpload(o))}),k(),Se(25,VZ,2,0,"button",16),F(26,"h3"),L(27,"Customize Design"),k(),F(28,"label",17),L(29,"Font Family:"),k(),F(30,"select",18),Wi("ngModelChange",function(o){return be(r),kr(i.customStyles.fontFamily,o)||(i.customStyles.fontFamily=o),Ce(o)}),ae("change",function(o){return be(r),Ce(i.onCustomStyleChange("fontFamily",o))}),Se(31,BZ,2,2,"option",19),k(),F(32,"label",20),L(33,"Text Color:"),k(),F(34,"input",21),Wi("ngModelChange",function(o){return be(r),kr(i.customStyles.textColor,o)||(i.customStyles.textColor=o),Ce(o)}),ae("change",function(o){return be(r),Ce(i.onCustomStyleChange("textColor",o))}),k(),F(35,"label",22),L(36,"Background Color:"),k(),F(37,"input",23),Wi("ngModelChange",function(o){return be(r),kr(i.customStyles.backgroundColor,o)||(i.customStyles.backgroundColor=o),Ce(o)}),ae("change",function(o){return be(r),Ce(i.onCustomStyleChange("backgroundColor",o))}),k(),F(38,"label"),L(39,"Text Alignment:"),k(),F(40,"div",24),Ar(41,jZ,4,9,null,null,fM),k(),F(43,"button",25),ae("click",function(){return be(r),Ce(i.resetCustomStyles())}),L(44,"Reset Custom Styles"),k(),F(45,"button",26),L(46,"Create Invitation"),k()(),F(47,"div",27),Se(48,$Z,1,1,"img",28),F(49,"h3"),L(50),k(),F(51,"p"),L(52),Rr(53,"date"),k(),F(54,"p"),L(55),k()()()}if(n&2){let r=Fx(4);O(7),zi("ngModel",i.invitation.title),O(3),zi("ngModel",i.invitation.date),O(3),zi("ngModel",i.invitation.description),O(3),zi("ngModel",i.inviteesInput),O(3),Y("ngIf",i.errorMessage),O(2),Y("ngForOf",i.invitation.invitees),O(4),Y("ngIf",i.uploadedImage),O(5),zi("ngModel",i.customStyles.fontFamily),O(),Y("ngForOf",i.fontFamilies),O(3),zi("ngModel",i.customStyles.textColor),O(3),zi("ngModel",i.customStyles.backgroundColor),O(4),Fr(i.textAlignOptions),O(4),Y("disabled",!r.valid),O(2),Y("ngClass","design-"+i.selectedDesignId)("ngStyle",im(20,NZ,i.customStyles.fontFamily,i.customStyles.textColor,i.customStyles.backgroundColor,i.customStyles.textAlign)),O(),Y("ngIf",i.uploadedImage),O(2),ke(i.invitation.title),O(2),ke(ws(53,18,i.invitation.date)),O(3),ke(i.invitation.description)}},dependencies:[rt,Nr,Cs,Ln,Oo,No,id,fv,Pl,FU,MU,Ks,dv,Z1,kl,Ml,J1,Q1,X1],styles:[".event-creation[_ngcontent-%COMP%]{max-width:600px;margin:20px auto;font-family:Arial,sans-serif;padding:20px;box-shadow:0 0 10px #0000001a;border-radius:8px;background-color:#fcfcfc}.event-creation[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:1.5rem;font-size:2em}.event-creation[_ngcontent-%COMP%]   .event-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;padding:1.5rem;border:1px solid #eee;border-radius:8px;background-color:#fff;box-shadow:0 2px 4px #0000000d}.event-creation[_ngcontent-%COMP%]   .event-form[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:1.5rem;margin-bottom:.8rem;color:#007bff;border-bottom:1px solid #eee;padding-bottom:.5rem;font-size:1.3em}.event-creation[_ngcontent-%COMP%]   .event-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:.2rem;display:block;color:#444;font-size:.95em}.event-creation[_ngcontent-%COMP%]   .event-form[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .event-creation[_ngcontent-%COMP%]   .event-form[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%], .event-creation[_ngcontent-%COMP%]   .event-form[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%], .event-creation[_ngcontent-%COMP%]   .event-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .event-creation[_ngcontent-%COMP%]   .event-form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:.75rem;border:1px solid #ccc;border-radius:4px;font-size:1rem;width:calc(100% - 1.5rem);box-sizing:border-box}.event-creation[_ngcontent-%COMP%]   .event-form[_ngcontent-%COMP%]   input[type=color][_ngcontent-%COMP%]{padding:0;height:40px;width:100%;border-radius:4px;border:1px solid #ccc;cursor:pointer;background:none;box-sizing:border-box}.event-creation[_ngcontent-%COMP%]   .event-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.75rem 1.25rem;background-color:#007bff;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:1rem;transition:background-color .3s ease;margin-top:.5rem}.event-creation[_ngcontent-%COMP%]   .event-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#0056b3}.event-creation[_ngcontent-%COMP%]   .event-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.event-creation[_ngcontent-%COMP%]   .event-form[_ngcontent-%COMP%]   button[type=button][_ngcontent-%COMP%]{background-color:#6c757d}.event-creation[_ngcontent-%COMP%]   .event-form[_ngcontent-%COMP%]   button[type=button][_ngcontent-%COMP%]:hover:not(:disabled){background-color:#5a6268}.event-creation[_ngcontent-%COMP%]   .event-form[_ngcontent-%COMP%]   .remove-image-button[_ngcontent-%COMP%]{background-color:#dc3545}.event-creation[_ngcontent-%COMP%]   .event-form[_ngcontent-%COMP%]   .remove-image-button[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#c82333}.event-creation[_ngcontent-%COMP%]   .event-form[_ngcontent-%COMP%]   .reset-styles-button[_ngcontent-%COMP%]{background-color:#ffc107;color:#333}.event-creation[_ngcontent-%COMP%]   .event-form[_ngcontent-%COMP%]   .reset-styles-button[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#e0a800}.event-creation[_ngcontent-%COMP%]   .event-form[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:#dc3545;font-size:.9rem;margin-top:-.5rem;margin-bottom:1rem;font-weight:700}.event-creation[_ngcontent-%COMP%]   .event-form[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin-top:.5rem;border:1px solid #eee;border-radius:4px;max-height:120px;overflow-y:auto;background-color:#fafafa}.event-creation[_ngcontent-%COMP%]   .event-form[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:#e9ecef;padding:.6rem 1rem;margin-bottom:2px;border-radius:3px;display:flex;justify-content:space-between;align-items:center;font-size:.95em;color:#555}.event-creation[_ngcontent-%COMP%]   .event-form[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-bottom:0}.event-creation[_ngcontent-%COMP%]   .event-form[_ngcontent-%COMP%]   .text-align-options[_ngcontent-%COMP%]{display:flex;gap:10px;margin-top:.5rem;flex-wrap:wrap}.event-creation[_ngcontent-%COMP%]   .event-form[_ngcontent-%COMP%]   .text-align-options[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{position:absolute;opacity:0;width:0;height:0}.event-creation[_ngcontent-%COMP%]   .event-form[_ngcontent-%COMP%]   .text-align-options[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{cursor:pointer;padding:8px 15px;border:1px solid #ccc;border-radius:20px;background-color:#f0f0f0;transition:all .2s ease-in-out;font-weight:400;font-size:.9em;color:#555;text-align:center;min-width:70px}.event-creation[_ngcontent-%COMP%]   .event-form[_ngcontent-%COMP%]   .text-align-options[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border-color:#007bff}.event-creation[_ngcontent-%COMP%]   .event-form[_ngcontent-%COMP%]   .text-align-options[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:hover + label[_ngcontent-%COMP%]{background-color:#e2e6ea}.event-creation[_ngcontent-%COMP%]   .event-form[_ngcontent-%COMP%]   .text-align-options[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:checked:hover + label[_ngcontent-%COMP%]{background-color:#0056b3}.event-creation[_ngcontent-%COMP%]   .invitation-preview[_ngcontent-%COMP%]{margin-top:2rem;border:1px solid #ccc;border-radius:8px;padding:2rem;min-height:350px;display:flex;flex-direction:column;justify-content:center;align-items:center;overflow:hidden;box-shadow:0 4px 12px #00000026;transition:all .3s ease-in-out}.event-creation[_ngcontent-%COMP%]   .invitation-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto;margin-bottom:1.5rem;border-radius:6px;box-shadow:0 2px 4px #0000001a}.event-creation[_ngcontent-%COMP%]   .invitation-preview[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:2.2rem;line-height:1.2;word-break:break-word}.event-creation[_ngcontent-%COMP%]   .invitation-preview[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.75rem 0;font-size:1.1rem;line-height:1.4;word-break:break-word}.event-creation[_ngcontent-%COMP%]   .invitation-preview.design-1[_ngcontent-%COMP%]{border-color:#007bff}.event-creation[_ngcontent-%COMP%]   .invitation-preview.design-2[_ngcontent-%COMP%]{border-color:#28a745}.event-creation[_ngcontent-%COMP%]   .invitation-preview.design-3[_ngcontent-%COMP%]{border-color:#6c757d}.event-creation[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{position:relative;width:500px;height:500px;margin:20px auto;border:2px dashed #ccc;background-color:#f9f9f9;overflow:hidden}.event-creation[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]{position:absolute}.event-creation[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]   img.uploaded-image[_ngcontent-%COMP%]{position:absolute;cursor:move}"]})};var HZ=(t,e)=>e.id;function GZ(t,e){if(t&1&&Te(0,"img",9),t&2){let n=ee().$implicit;Po("alt","",n.name," image"),Y("src",n.imageUrl,Gi)}}function zZ(t,e){t&1&&(F(0,"div",10),L(1,"No Image"),k())}function WZ(t,e){if(t&1){let n=hn();F(0,"div",3),ae("click",function(){let r=be(n).$implicit,s=ee();return Ce(s.selectTemplate(r))}),F(1,"div",4),Se(2,GZ,1,3,"img",5)(3,zZ,2,0,"div",6),k(),F(4,"div",7)(5,"h3"),L(6),k(),F(7,"p"),L(8),k(),F(9,"div",8)(10,"p"),L(11,"Example text with template style"),k()()()()}if(t&2){let n=e.$implicit;O(2),Y("ngIf",n.imageUrl),O(),Y("ngIf",!n.imageUrl),O(3),ke(n.name),O(2),ke(n.description),O(),Y("ngStyle",n.customStyles)}}var wv=class t{constructor(e,n){this.router=e;this.templateSelectionService=n}templates=[{id:"template-4th-july",name:"4th of July Celebration",description:"A patriotic invitation for a summer gathering.",invitationDetails:{title:"Independence Day Picnic!",description:"Join us for a fun-filled 4th of July celebration with BBQ, games, and fireworks!",date:this.getFutureDate(7,4)},customStyles:{fontFamily:"Georgia, serif",textColor:"#FFFFFF",backgroundColor:"#DC3545",textAlign:"center"},imageUrl:"assets/images/Fireworks.png"},{id:"template-birthday-bash",name:"Birthday Bash",description:"Bright and vibrant invite for a birthday party!",invitationDetails:{title:"It's My Birthday Bash!",description:"Come celebrate with me! There will be cake, music, and great company!",date:this.getFutureDate(8,20)},customStyles:{fontFamily:"Verdana, sans-serif",textColor:"#8A2BE2",backgroundColor:"#FFFACD",textAlign:"left"},imageUrl:"assets/images/BirthdayBash.png"},{id:"template-formal-gala",name:"Formal Gala",description:"Elegant invitation for a sophisticated event.",invitationDetails:{title:"Annual Charity Gala",description:"An evening of elegance and philanthropy in support of a noble cause.",date:this.getFutureDate(11,15)},customStyles:{fontFamily:"Times New Roman, serif",textColor:"#2F4F4F",backgroundColor:"#F8F8F8",textAlign:"justify"},imageUrl:"assets/images/Gala.jpeg"}];ngOnInit(){}getFutureDate(e,n){let i=new Date,r=i.getFullYear();return(i.getMonth()+1>e||i.getMonth()+1===e&&i.getDate()>n)&&r++,new Date(r,e-1,n).toISOString().split("T")[0]}selectTemplate(e){this.templateSelectionService.setSelectedTemplate(e),console.log("DEBUG: Template set in service:",e.name),this.router.navigate(["/create-invitation"])}static \u0275fac=function(n){return new(n||t)(V(qe),V(Ol))};static \u0275cmp=Me({type:t,selectors:[["app-templates"]],decls:6,vars:0,consts:[[1,"templates-page"],[1,"template-list"],[1,"template-card"],[1,"template-card",3,"click"],[1,"template-preview-image"],[3,"src","alt",4,"ngIf"],["class","no-image-placeholder",4,"ngIf"],[1,"template-details"],[1,"template-style-preview",3,"ngStyle"],[3,"src","alt"],[1,"no-image-placeholder"]],template:function(n,i){n&1&&(F(0,"div",0)(1,"h2"),L(2,"Choose a Template"),k(),F(3,"div",1),Ar(4,WZ,12,5,"div",2,HZ),k()()),n&2&&(O(4),Fr(i.templates))},dependencies:[rt,Ln,Oo],styles:[".templates-page[_ngcontent-%COMP%]{max-width:960px;margin:30px auto;padding:20px;font-family:Arial,sans-serif}.templates-page[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:2rem;font-size:2.5em}.template-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:25px;padding:10px}.template-card[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #e0e0e0;border-radius:10px;overflow:hidden;box-shadow:0 4px 15px #0000001a;cursor:pointer;transition:transform .2s ease,box-shadow .2s ease;display:flex;flex-direction:column}.template-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 8px 25px #00000026}.template-preview-image[_ngcontent-%COMP%]{width:100%;height:180px;background-color:#f0f0f0;display:flex;justify-content:center;align-items:center;overflow:hidden;border-bottom:1px solid #e9ecef}.template-preview-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:cover}.template-preview-image[_ngcontent-%COMP%]   .no-image-placeholder[_ngcontent-%COMP%]{color:#888;font-style:italic}.template-details[_ngcontent-%COMP%]{padding:15px;flex-grow:1;display:flex;flex-direction:column}.template-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;margin-bottom:10px;color:#007bff;font-size:1.4em;text-align:center}.template-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.95em;color:#555;line-height:1.4;margin-bottom:15px;text-align:center}.template-style-preview[_ngcontent-%COMP%]{margin-top:auto;padding:10px;border:1px dashed #ccc;border-radius:5px;font-size:.85em;min-height:60px;display:flex;align-items:center;justify-content:center;word-break:break-word}.template-style-preview[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1em;color:inherit;font-family:inherit;text-align:inherit}"]})};var Rh=class t{constructor(e,n){this.authService=e;this.router=n}canActivate(){return _(this,null,function*(){console.log("Checking if user is logged in...");let e=yield this.authService.currentUserSig();for(;e===void 0;)console.log("currentUserSig is undefined, waiting..."),yield new Promise(n=>setTimeout(n,100)),e=yield this.authService.currentUserSig();return console.log("currentUserSig:",e),e!==null?(console.log("User is logged in, allowing access to /create-invitation"),!0):(console.log("User is not logged in, redirecting to login page"),this.router.navigate(["/login"]),!1)})}static \u0275fac=function(n){return new(n||t)(K(on),K(qe))};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})};var qZ=(t,e,n,i)=>({"font-family":t,color:e,"background-color":n,"text-align":i}),YZ=(t,e,n)=>({"status-accepted":t,"status-declined":e,"status-pending":n});function KZ(t,e){if(t&1&&Te(0,"img",14),t&2){let n=ee(2);Y("src",n.invitation.uploadedImageBase64,Gi)}}function XZ(t,e){if(t&1){let n=hn();F(0,"div",3)(1,"div",4),Se(2,KZ,1,1,"img",5),F(3,"h1"),L(4),k()(),F(5,"div",6)(6,"p",7),L(7),Rr(8,"date"),k(),F(9,"p",8),L(10),k(),F(11,"p",9),L(12,"You are invited as: "),F(13,"strong"),L(14),k()(),F(15,"p",10),L(16,"Your current status: "),F(17,"strong",11),L(18),Rr(19,"titlecase"),k()()(),F(20,"div",12)(21,"button",13),ae("click",function(){be(n);let r=ee();return Ce(r.respond("accepted"))}),L(22),k(),F(23,"button",13),ae("click",function(){be(n);let r=ee();return Ce(r.respond("declined"))}),L(24),k()()()}if(t&2){let n=ee();Y("ngClass","design-"+n.invitation.selectedDesignId)("ngStyle",im(18,qZ,n.invitation.customStyles.fontFamily,n.invitation.customStyles.textColor,n.invitation.customStyles.backgroundColor,n.invitation.customStyles.textAlign)),O(2),Y("ngIf",n.invitation.uploadedImageBase64),O(2),ke(n.invitation.title),O(3),Nn("Date: ",TM(8,13,n.invitation.date,"fullDate"),""),O(3),ke(n.invitation.description),O(4),ke(n.inviteeResponse.email),O(3),Y("ngClass",kx(23,YZ,n.inviteeResponse.status==="accepted",n.inviteeResponse.status==="declined",n.inviteeResponse.status==="pending")),O(),ke(ws(19,16,n.inviteeResponse.status)),O(3),Y("disabled",n.inviteeResponse.status==="accepted"),O(),Nn(" ",n.inviteeResponse.status==="accepted"?"Accepted!":"Accept Invitation"," "),O(),Y("disabled",n.inviteeResponse.status==="declined"),O(),Nn(" ",n.inviteeResponse.status==="declined"?"Declined!":"Decline Invitation"," ")}}function QZ(t,e){t&1&&(F(0,"div",15)(1,"p"),L(2,"Loading invitation details..."),k()())}function ZZ(t,e){if(t&1&&(F(0,"div",16)(1,"p"),L(2),k(),F(3,"p"),L(4,"Please check the link or try again later."),k()()),t&2){let n=ee();O(2),Nn("Error: ",n.error,"")}}var xv=class t{constructor(e,n,i){this.route=e;this.firestore=n;this.router=i}invitation=null;inviteeResponse=null;loading=!0;error=null;eventId;inviteId;ngOnInit(){return _(this,null,function*(){if(this.eventId=this.route.snapshot.paramMap.get("eventId")||"",this.inviteId=this.route.snapshot.paramMap.get("inviteId")||"",!this.eventId||!this.inviteId){this.error="Invalid invitation link: Missing event or invite ID.",this.loading=!1;return}try{let e=El(this.firestore,"invitations",this.eventId),n=yield U1(e);if(n.exists())this.invitation=n.data();else{this.error="Invitation not found.",this.loading=!1;return}let i=El(this.firestore,`invitations/${this.eventId}/responses/${this.inviteId}`),r=yield U1(i);if(r.exists())this.inviteeResponse=r.data();else{this.error="Your specific invitation response record was not found.",this.loading=!1;return}this.loading=!1}catch(e){console.error("Error fetching invitation or response:",e),this.error="An error occurred while loading the invitation. Please try again later.",this.loading=!1}})}respond(e){return _(this,null,function*(){if(!this.eventId||!this.inviteId){this.error="Error: Missing invitation details for response.";return}try{let n=El(this.firestore,`invitations/${this.eventId}/responses/${this.inviteId}`);yield QL(n,{status:e}),this.inviteeResponse&&(this.inviteeResponse.status=e),console.log(`Response updated to: ${e}`)}catch(n){console.error("Error updating response status:",n),this.error="Failed to update your response. Please try again."}})}static \u0275fac=function(n){return new(n||t)(V(Dn),V(Si),V(qe))};static \u0275cmp=Me({type:t,selectors:[["app-respond"]],decls:3,vars:3,consts:[["class","invitation-container",3,"ngClass","ngStyle",4,"ngIf"],["class","message",4,"ngIf"],["class","message error",4,"ngIf"],[1,"invitation-container",3,"ngClass","ngStyle"],[1,"invitation-header"],["alt","Custom Invitation Image","class","invitation-image",3,"src",4,"ngIf"],[1,"invitation-details"],[1,"date"],[1,"description"],[1,"invitee-email"],[1,"current-status"],[3,"ngClass"],[1,"response-actions"],[3,"click","disabled"],["alt","Custom Invitation Image",1,"invitation-image",3,"src"],[1,"message"],[1,"message","error"]],template:function(n,i){n&1&&Se(0,XZ,25,27,"div",0)(1,QZ,3,0,"div",1)(2,ZZ,5,1,"div",2),n&2&&(Y("ngIf",!i.loading&&!i.error&&i.invitation&&i.inviteeResponse),O(),Y("ngIf",i.loading),O(),Y("ngIf",i.error))},dependencies:[rt,Nr,Ln,Oo,No,id,fv],styles:[".invitation-container[_ngcontent-%COMP%]{padding:20px;margin:20px auto;max-width:800px;border-radius:8px;box-shadow:0 4px 8px #0000001a;transition:all .3s ease}.invitation-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.invitation-image[_ngcontent-%COMP%]{max-width:100%;height:auto;border-radius:8px;margin-bottom:15px}h1[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:10px}.invitation-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1em;line-height:1.6;margin-bottom:10px}.date[_ngcontent-%COMP%]{font-style:italic}.response-actions[_ngcontent-%COMP%]{text-align:center;margin-top:30px}.response-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:12px 25px;margin:0 10px;border:none;border-radius:5px;cursor:pointer;font-size:1.1em;font-weight:700;transition:background-color .3s ease}.response-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not([disabled]){opacity:.9}.response-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.response-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{background-color:#4caf50;color:#fff}.response-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{background-color:#f44336;color:#fff}.message[_ngcontent-%COMP%]{text-align:center;padding:20px;font-size:1.2em;color:#555}.message.error[_ngcontent-%COMP%]{color:#d32f2f;background-color:#ffebee;border:1px solid #d32f2f;border-radius:5px}.status-accepted[_ngcontent-%COMP%]{color:green}.status-declined[_ngcontent-%COMP%]{color:red}.status-pending[_ngcontent-%COMP%]{color:orange}.design-1[_ngcontent-%COMP%]{border:1px solid #eee}.design-2[_ngcontent-%COMP%]{border:2px solid #0056b3;box-shadow:0 6px 12px #0056b333}.design-3[_ngcontent-%COMP%]{border:none;box-shadow:none;background-color:#fafafa}",".invitation-container[_ngcontent-%COMP%]{padding:20px;margin:20px auto;max-width:800px;border-radius:8px;box-shadow:0 4px 8px #0000001a;transition:all .3s ease}.invitation-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.invitation-image[_ngcontent-%COMP%]{max-width:100%;height:auto;border-radius:8px;margin-bottom:15px}h1[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:10px}.invitation-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1em;line-height:1.6;margin-bottom:10px}.date[_ngcontent-%COMP%]{font-style:italic}.response-actions[_ngcontent-%COMP%]{text-align:center;margin-top:30px}.response-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:12px 25px;margin:0 10px;border:none;border-radius:5px;cursor:pointer;font-size:1.1em;font-weight:700;transition:background-color .3s ease}.response-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not([disabled]){opacity:.9}.response-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.response-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{background-color:#4caf50;color:#fff}.response-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{background-color:#f44336;color:#fff}.message[_ngcontent-%COMP%]{text-align:center;padding:20px;font-size:1.2em;color:#555}.message.error[_ngcontent-%COMP%]{color:#d32f2f;background-color:#ffebee;border:1px solid #d32f2f;border-radius:5px}.status-accepted[_ngcontent-%COMP%]{color:green}.status-declined[_ngcontent-%COMP%]{color:red}.status-pending[_ngcontent-%COMP%]{color:orange}"]})};function iI(t,e){!e?.injector&&Hp(iI);let n=e?.injector??R(Ke),i=new wu(1),r=Px(()=>{let s;try{s=t()}catch(o){fn(()=>i.error(o));return}fn(()=>i.next(s))},{injector:n,manualCleanup:!0});return n.get(Hi).onDestroy(()=>{r.destroy(),i.complete()}),i.asObservable()}var Nl=class{_attachedHost;attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},Ll=class extends Nl{component;viewContainerRef;injector;componentFactoryResolver;projectableNodes;constructor(e,n,i,r,s){super(),this.component=e,this.viewContainerRef=n,this.injector=i,this.projectableNodes=s}},bv=class extends Nl{templateRef;viewContainerRef;context;injector;constructor(e,n,i,r){super(),this.templateRef=e,this.viewContainerRef=n,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,n=this.context){return this.context=n,super.attach(e)}detach(){return this.context=void 0,super.detach()}},Cv=class extends Nl{element;constructor(e){super(),this.element=e instanceof et?e.nativeElement:e}},Tv=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof Ll)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof bv)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof Cv)return this._attachedPortal=e,this.attachDomPortal(e)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var Ph=class extends Tv{outletElement;_appRef;_defaultInjector;_document;constructor(e,n,i,r,s){super(),this.outletElement=e,this._appRef=i,this._defaultInjector=r,this._document=s}attachComponentPortal(e){let n;if(e.viewContainerRef){let i=e.injector||e.viewContainerRef.injector,r=i.get(vs,null,{optional:!0})||void 0;n=e.viewContainerRef.createComponent(e.component,{index:e.viewContainerRef.length,injector:i,ngModuleRef:r,projectableNodes:e.projectableNodes||void 0}),this.setDisposeFn(()=>n.destroy())}else{let i=this._appRef,r=e.injector||this._defaultInjector||Ke.NULL,s=r.get(Mt,i.injector);n=FM(e.component,{elementInjector:r,environmentInjector:s,projectableNodes:e.projectableNodes||void 0}),i.attachView(n.hostView),this.setDisposeFn(()=>{i.viewCount>0&&i.detachView(n.hostView),n.destroy()})}return this.outletElement.appendChild(this._getComponentRootNode(n)),this._attachedPortal=e,n}attachTemplatePortal(e){let n=e.viewContainerRef,i=n.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=n.indexOf(i);r!==-1&&n.remove(r)}),this._attachedPortal=e,i}attachDomPortal=e=>{let n=e.element;n.parentNode;let i=this._document.createComment("dom-portal");n.parentNode.insertBefore(i,n),this.outletElement.appendChild(n),this._attachedPortal=e,super.setDisposeFn(()=>{i.parentNode&&i.parentNode.replaceChild(n,i)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}};var Ev="http://www.w3.org/1999/xhtml",rI={svg:"http://www.w3.org/2000/svg",xhtml:Ev,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function is(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),rI.hasOwnProperty(e)?{space:rI[e],local:t}:t}function JZ(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Ev&&e.documentElement.namespaceURI===Ev?e.createElement(t):e.createElementNS(n,t)}}function eJ(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Iv(t){var e=is(t);return(e.local?eJ:JZ)(e)}function tJ(){}function xa(t){return t==null?tJ:function(){return this.querySelector(t)}}function UU(t){typeof t!="function"&&(t=xa(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var s=e[r],o=s.length,a=i[r]=new Array(o),c,u,d=0;d<o;++d)(c=s[d])&&(u=t.call(c,c.__data__,d,s))&&("__data__"in c&&(u.__data__=c.__data__),a[d]=u);return new ht(i,this._parents)}function sI(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function nJ(){return[]}function Oh(t){return t==null?nJ:function(){return this.querySelectorAll(t)}}function iJ(t){return function(){return sI(t.apply(this,arguments))}}function VU(t){typeof t=="function"?t=iJ(t):t=Oh(t);for(var e=this._groups,n=e.length,i=[],r=[],s=0;s<n;++s)for(var o=e[s],a=o.length,c,u=0;u<a;++u)(c=o[u])&&(i.push(t.call(c,c.__data__,u,o)),r.push(c));return new ht(i,r)}function Nh(t){return function(){return this.matches(t)}}function Sv(t){return function(e){return e.matches(t)}}var rJ=Array.prototype.find;function sJ(t){return function(){return rJ.call(this.children,t)}}function oJ(){return this.firstElementChild}function BU(t){return this.select(t==null?oJ:sJ(typeof t=="function"?t:Sv(t)))}var aJ=Array.prototype.filter;function cJ(){return Array.from(this.children)}function lJ(t){return function(){return aJ.call(this.children,t)}}function jU(t){return this.selectAll(t==null?cJ:lJ(typeof t=="function"?t:Sv(t)))}function $U(t){typeof t!="function"&&(t=Nh(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var s=e[r],o=s.length,a=i[r]=[],c,u=0;u<o;++u)(c=s[u])&&t.call(c,c.__data__,u,s)&&a.push(c);return new ht(i,this._parents)}function Dv(t){return new Array(t.length)}function HU(){return new ht(this._enter||this._groups.map(Dv),this._parents)}function Lh(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Lh.prototype={constructor:Lh,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function GU(t){return function(){return t}}function uJ(t,e,n,i,r,s){for(var o=0,a,c=e.length,u=s.length;o<u;++o)(a=e[o])?(a.__data__=s[o],i[o]=a):n[o]=new Lh(t,s[o]);for(;o<c;++o)(a=e[o])&&(r[o]=a)}function dJ(t,e,n,i,r,s,o){var a,c,u=new Map,d=e.length,f=s.length,m=new Array(d),g;for(a=0;a<d;++a)(c=e[a])&&(m[a]=g=o.call(c,c.__data__,a,e)+"",u.has(g)?r[a]=c:u.set(g,c));for(a=0;a<f;++a)g=o.call(t,s[a],a,s)+"",(c=u.get(g))?(i[a]=c,c.__data__=s[a],u.delete(g)):n[a]=new Lh(t,s[a]);for(a=0;a<d;++a)(c=e[a])&&u.get(m[a])===c&&(r[a]=c)}function hJ(t){return t.__data__}function zU(t,e){if(!arguments.length)return Array.from(this,hJ);var n=e?dJ:uJ,i=this._parents,r=this._groups;typeof t!="function"&&(t=GU(t));for(var s=r.length,o=new Array(s),a=new Array(s),c=new Array(s),u=0;u<s;++u){var d=i[u],f=r[u],m=f.length,g=fJ(t.call(d,d&&d.__data__,u,i)),w=g.length,E=a[u]=new Array(w),D=o[u]=new Array(w),P=c[u]=new Array(m);n(d,f,E,D,P,g,e);for(var H=0,B=0,Q,J;H<w;++H)if(Q=E[H]){for(H>=B&&(B=H+1);!(J=D[B])&&++B<w;);Q._next=J||null}}return o=new ht(o,i),o._enter=a,o._exit=c,o}function fJ(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function WU(){return new ht(this._exit||this._groups.map(Dv),this._parents)}function qU(t,e,n){var i=this.enter(),r=this,s=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),e!=null&&(r=e(r),r&&(r=r.selection())),n==null?s.remove():n(s),i&&r?i.merge(r).order():r}function YU(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,r=n.length,s=i.length,o=Math.min(r,s),a=new Array(r),c=0;c<o;++c)for(var u=n[c],d=i[c],f=u.length,m=a[c]=new Array(f),g,w=0;w<f;++w)(g=u[w]||d[w])&&(m[w]=g);for(;c<r;++c)a[c]=n[c];return new ht(a,this._parents)}function KU(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i=t[e],r=i.length-1,s=i[r],o;--r>=0;)(o=i[r])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function XU(t){t||(t=pJ);function e(f,m){return f&&m?t(f.__data__,m.__data__):!f-!m}for(var n=this._groups,i=n.length,r=new Array(i),s=0;s<i;++s){for(var o=n[s],a=o.length,c=r[s]=new Array(a),u,d=0;d<a;++d)(u=o[d])&&(c[d]=u);c.sort(e)}return new ht(r,this._parents).order()}function pJ(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function QU(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function ZU(){return Array.from(this)}function JU(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,s=i.length;r<s;++r){var o=i[r];if(o)return o}return null}function eV(){let t=0;for(let e of this)++t;return t}function tV(){return!this.node()}function nV(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var r=e[n],s=0,o=r.length,a;s<o;++s)(a=r[s])&&t.call(a,a.__data__,s,r);return this}function mJ(t){return function(){this.removeAttribute(t)}}function gJ(t){return function(){this.removeAttributeNS(t.space,t.local)}}function vJ(t,e){return function(){this.setAttribute(t,e)}}function _J(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function yJ(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function wJ(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function iV(t,e){var n=is(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((e==null?n.local?gJ:mJ:typeof e=="function"?n.local?wJ:yJ:n.local?_J:vJ)(n,e))}function Av(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function xJ(t){return function(){this.style.removeProperty(t)}}function bJ(t,e,n){return function(){this.style.setProperty(t,e,n)}}function CJ(t,e,n){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function rV(t,e,n){return arguments.length>1?this.each((e==null?xJ:typeof e=="function"?CJ:bJ)(t,e,n??"")):Xs(this.node(),t)}function Xs(t,e){return t.style.getPropertyValue(e)||Av(t).getComputedStyle(t,null).getPropertyValue(e)}function TJ(t){return function(){delete this[t]}}function EJ(t,e){return function(){this[t]=e}}function IJ(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function sV(t,e){return arguments.length>1?this.each((e==null?TJ:typeof e=="function"?IJ:EJ)(t,e)):this.node()[t]}function oV(t){return t.trim().split(/^|\s+/)}function oI(t){return t.classList||new aV(t)}function aV(t){this._node=t,this._names=oV(t.getAttribute("class")||"")}aV.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function cV(t,e){for(var n=oI(t),i=-1,r=e.length;++i<r;)n.add(e[i])}function lV(t,e){for(var n=oI(t),i=-1,r=e.length;++i<r;)n.remove(e[i])}function SJ(t){return function(){cV(this,t)}}function DJ(t){return function(){lV(this,t)}}function AJ(t,e){return function(){(e.apply(this,arguments)?cV:lV)(this,t)}}function uV(t,e){var n=oV(t+"");if(arguments.length<2){for(var i=oI(this.node()),r=-1,s=n.length;++r<s;)if(!i.contains(n[r]))return!1;return!0}return this.each((typeof e=="function"?AJ:e?SJ:DJ)(n,e))}function FJ(){this.textContent=""}function kJ(t){return function(){this.textContent=t}}function MJ(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function dV(t){return arguments.length?this.each(t==null?FJ:(typeof t=="function"?MJ:kJ)(t)):this.node().textContent}function RJ(){this.innerHTML=""}function PJ(t){return function(){this.innerHTML=t}}function OJ(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function hV(t){return arguments.length?this.each(t==null?RJ:(typeof t=="function"?OJ:PJ)(t)):this.node().innerHTML}function NJ(){this.nextSibling&&this.parentNode.appendChild(this)}function fV(){return this.each(NJ)}function LJ(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function pV(){return this.each(LJ)}function mV(t){var e=typeof t=="function"?t:Iv(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function UJ(){return null}function gV(t,e){var n=typeof t=="function"?t:Iv(t),i=e==null?UJ:typeof e=="function"?e:xa(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function VJ(){var t=this.parentNode;t&&t.removeChild(this)}function vV(){return this.each(VJ)}function BJ(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function jJ(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function _V(t){return this.select(t?jJ:BJ)}function yV(t){return arguments.length?this.property("__data__",t):this.node().__data__}function $J(t){return function(e){t.call(this,e,this.__data__)}}function HJ(t){return t.trim().split(/^|\s+/).map(function(e){var n="",i=e.indexOf(".");return i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),{type:e,name:n}})}function GJ(t){return function(){var e=this.__on;if(e){for(var n=0,i=-1,r=e.length,s;n<r;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++i]=s;++i?e.length=i:delete this.__on}}}function zJ(t,e,n){return function(){var i=this.__on,r,s=$J(e);if(i){for(var o=0,a=i.length;o<a;++o)if((r=i[o]).type===t.type&&r.name===t.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=s,r.options=n),r.value=e;return}}this.addEventListener(t.type,s,n),r={type:t.type,name:t.name,value:e,listener:s,options:n},i?i.push(r):this.__on=[r]}}function wV(t,e,n){var i=HJ(t+""),r,s=i.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var c=0,u=a.length,d;c<u;++c)for(r=0,d=a[c];r<s;++r)if((o=i[r]).type===d.type&&o.name===d.name)return d.value}return}for(a=e?zJ:GJ,r=0;r<s;++r)this.each(a(i[r],e,n));return this}function xV(t,e,n){var i=Av(t),r=i.CustomEvent;typeof r=="function"?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}function WJ(t,e){return function(){return xV(this,t,e)}}function qJ(t,e){return function(){return xV(this,t,e.apply(this,arguments))}}function bV(t,e){return this.each((typeof e=="function"?qJ:WJ)(t,e))}function*CV(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,s=i.length,o;r<s;++r)(o=i[r])&&(yield o)}var aI=[null];function ht(t,e){this._groups=t,this._parents=e}function TV(){return new ht([[document.documentElement]],aI)}function YJ(){return this}ht.prototype=TV.prototype={constructor:ht,select:UU,selectAll:VU,selectChild:BU,selectChildren:jU,filter:$U,data:zU,enter:HU,exit:WU,join:qU,merge:YU,selection:YJ,order:KU,sort:XU,call:QU,nodes:ZU,node:JU,size:eV,empty:tV,each:nV,attr:iV,style:rV,property:sV,classed:uV,text:dV,html:hV,raise:fV,lower:pV,append:mV,insert:gV,remove:vV,clone:_V,datum:yV,on:wV,dispatch:bV,[Symbol.iterator]:CV};var rs=TV;function Fv(t){return typeof t=="string"?new ht([[document.querySelector(t)]],[document.documentElement]):new ht([[t]],aI)}var KJ={value:()=>{}};function IV(){for(var t=0,e=arguments.length,n={},i;t<e;++t){if(!(i=arguments[t]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new kv(n)}function kv(t){this._=t}function XJ(t,e){return t.trim().split(/^|\s+/).map(function(n){var i="",r=n.indexOf(".");if(r>=0&&(i=n.slice(r+1),n=n.slice(0,r)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}kv.prototype=IV.prototype={constructor:kv,on:function(t,e){var n=this._,i=XJ(t+"",n),r,s=-1,o=i.length;if(arguments.length<2){for(;++s<o;)if((r=(t=i[s]).type)&&(r=QJ(n[r],t.name)))return r;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(r=(t=i[s]).type)n[r]=EV(n[r],t.name,e);else if(e==null)for(r in n)n[r]=EV(n[r],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new kv(t)},call:function(t,e){if((r=arguments.length-2)>0)for(var n=new Array(r),i=0,r,s;i<r;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],i=0,r=s.length;i<r;++i)s[i].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,s=i.length;r<s;++r)i[r].value.apply(e,n)}};function QJ(t,e){for(var n=0,i=t.length,r;n<i;++n)if((r=t[n]).name===e)return r.value}function EV(t,e,n){for(var i=0,r=t.length;i<r;++i)if(t[i].name===e){t[i]=KJ,t=t.slice(0,i).concat(t.slice(i+1));break}return n!=null&&t.push({name:e,value:n}),t}var cI=IV;function Mv(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function lI(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function Bh(){}var Uh=.7,Ov=1/Uh,Ul="\\s*([+-]?\\d+)\\s*",Vh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",lr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ZJ=/^#([0-9a-f]{3,8})$/,JJ=new RegExp(`^rgb\\(${Ul},${Ul},${Ul}\\)$`),eee=new RegExp(`^rgb\\(${lr},${lr},${lr}\\)$`),tee=new RegExp(`^rgba\\(${Ul},${Ul},${Ul},${Vh}\\)$`),nee=new RegExp(`^rgba\\(${lr},${lr},${lr},${Vh}\\)$`),iee=new RegExp(`^hsl\\(${Vh},${lr},${lr}\\)$`),ree=new RegExp(`^hsla\\(${Vh},${lr},${lr},${Vh}\\)$`),SV={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Mv(Bh,Fi,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:DV,formatHex:DV,formatHex8:see,formatHsl:oee,formatRgb:AV,toString:AV});function DV(){return this.rgb().formatHex()}function see(){return this.rgb().formatHex8()}function oee(){return OV(this).formatHsl()}function AV(){return this.rgb().formatRgb()}function Fi(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=ZJ.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?FV(e):n===3?new An(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Rv(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Rv(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=JJ.exec(t))?new An(e[1],e[2],e[3],1):(e=eee.exec(t))?new An(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=tee.exec(t))?Rv(e[1],e[2],e[3],e[4]):(e=nee.exec(t))?Rv(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=iee.exec(t))?RV(e[1],e[2]/100,e[3]/100,1):(e=ree.exec(t))?RV(e[1],e[2]/100,e[3]/100,e[4]):SV.hasOwnProperty(t)?FV(SV[t]):t==="transparent"?new An(NaN,NaN,NaN,0):null}function FV(t){return new An(t>>16&255,t>>8&255,t&255,1)}function Rv(t,e,n,i){return i<=0&&(t=e=n=NaN),new An(t,e,n,i)}function aee(t){return t instanceof Bh||(t=Fi(t)),t?(t=t.rgb(),new An(t.r,t.g,t.b,t.opacity)):new An}function Vl(t,e,n,i){return arguments.length===1?aee(t):new An(t,e,n,i??1)}function An(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}Mv(An,Vl,lI(Bh,{brighter(t){return t=t==null?Ov:Math.pow(Ov,t),new An(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Uh:Math.pow(Uh,t),new An(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new An(Ca(this.r),Ca(this.g),Ca(this.b),Nv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:kV,formatHex:kV,formatHex8:cee,formatRgb:MV,toString:MV}));function kV(){return`#${ba(this.r)}${ba(this.g)}${ba(this.b)}`}function cee(){return`#${ba(this.r)}${ba(this.g)}${ba(this.b)}${ba((isNaN(this.opacity)?1:this.opacity)*255)}`}function MV(){let t=Nv(this.opacity);return`${t===1?"rgb(":"rgba("}${Ca(this.r)}, ${Ca(this.g)}, ${Ca(this.b)}${t===1?")":`, ${t})`}`}function Nv(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ca(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ba(t){return t=Ca(t),(t<16?"0":"")+t.toString(16)}function RV(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ai(t,e,n,i)}function OV(t){if(t instanceof Ai)return new Ai(t.h,t.s,t.l,t.opacity);if(t instanceof Bh||(t=Fi(t)),!t)return new Ai;if(t instanceof Ai)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),s=Math.max(e,n,i),o=NaN,a=s-r,c=(s+r)/2;return a?(e===s?o=(n-i)/a+(n<i)*6:n===s?o=(i-e)/a+2:o=(e-n)/a+4,a/=c<.5?s+r:2-s-r,o*=60):a=c>0&&c<1?0:o,new Ai(o,a,c,t.opacity)}function NV(t,e,n,i){return arguments.length===1?OV(t):new Ai(t,e,n,i??1)}function Ai(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}Mv(Ai,NV,lI(Bh,{brighter(t){return t=t==null?Ov:Math.pow(Ov,t),new Ai(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Uh:Math.pow(Uh,t),new Ai(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new An(uI(t>=240?t-240:t+120,r,i),uI(t,r,i),uI(t<120?t+240:t-120,r,i),this.opacity)},clamp(){return new Ai(PV(this.h),Pv(this.s),Pv(this.l),Nv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let t=Nv(this.opacity);return`${t===1?"hsl(":"hsla("}${PV(this.h)}, ${Pv(this.s)*100}%, ${Pv(this.l)*100}%${t===1?")":`, ${t})`}`}}));function PV(t){return t=(t||0)%360,t<0?t+360:t}function Pv(t){return Math.max(0,Math.min(1,t||0))}function uI(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}function dI(t,e,n,i,r){var s=t*t,o=s*t;return((1-3*t+3*s-o)*e+(4-6*s+3*o)*n+(1+3*t+3*s-3*o)*i+o*r)/6}function LV(t){var e=t.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),r=t[i],s=t[i+1],o=i>0?t[i-1]:2*r-s,a=i<e-1?t[i+2]:2*s-r;return dI((n-i/e)*e,o,r,s,a)}}function UV(t){var e=t.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*e),r=t[(i+e-1)%e],s=t[i%e],o=t[(i+1)%e],a=t[(i+2)%e];return dI((n-i/e)*e,r,s,o,a)}}var jh=t=>()=>t;function lee(t,e){return function(n){return t+n*e}}function uee(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function VV(t){return(t=+t)==1?Lv:function(e,n){return n-e?uee(e,n,t):jh(isNaN(e)?n:e)}}function Lv(t,e){var n=e-t;return n?lee(t,n):jh(isNaN(t)?e:t)}var Ta=function t(e){var n=VV(e);function i(r,s){var o=n((r=Vl(r)).r,(s=Vl(s)).r),a=n(r.g,s.g),c=n(r.b,s.b),u=Lv(r.opacity,s.opacity);return function(d){return r.r=o(d),r.g=a(d),r.b=c(d),r.opacity=u(d),r+""}}return i.gamma=t,i}(1);function BV(t){return function(e){var n=e.length,i=new Array(n),r=new Array(n),s=new Array(n),o,a;for(o=0;o<n;++o)a=Vl(e[o]),i[o]=a.r||0,r[o]=a.g||0,s[o]=a.b||0;return i=t(i),r=t(r),s=t(s),a.opacity=1,function(c){return a.r=i(c),a.g=r(c),a.b=s(c),a+""}}}var dee=BV(LV),hee=BV(UV);function jV(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,i=e.slice(),r;return function(s){for(r=0;r<n;++r)i[r]=t[r]*(1-s)+e[r]*s;return i}}function $V(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function HV(t,e){var n=e?e.length:0,i=t?Math.min(n,t.length):0,r=new Array(i),s=new Array(n),o;for(o=0;o<i;++o)r[o]=ki(t[o],e[o]);for(;o<n;++o)s[o]=e[o];return function(a){for(o=0;o<i;++o)s[o]=r[o](a);return s}}function GV(t,e){var n=new Date;return t=+t,e=+e,function(i){return n.setTime(t*(1-i)+e*i),n}}function $t(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function zV(t,e){var n={},i={},r;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(r in e)r in t?n[r]=ki(t[r],e[r]):i[r]=e[r];return function(s){for(r in n)i[r]=n[r](s);return i}}var fI=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hI=new RegExp(fI.source,"g");function fee(t){return function(){return t}}function pee(t){return function(e){return t(e)+""}}function $h(t,e){var n=fI.lastIndex=hI.lastIndex=0,i,r,s,o=-1,a=[],c=[];for(t=t+"",e=e+"";(i=fI.exec(t))&&(r=hI.exec(e));)(s=r.index)>n&&(s=e.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(i=i[0])===(r=r[0])?a[o]?a[o]+=r:a[++o]=r:(a[++o]=null,c.push({i:o,x:$t(i,r)})),n=hI.lastIndex;return n<e.length&&(s=e.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?c[0]?pee(c[0].x):fee(e):(e=c.length,function(u){for(var d=0,f;d<e;++d)a[(f=c[d]).i]=f.x(u);return a.join("")})}function ki(t,e){var n=typeof e,i;return e==null||n==="boolean"?jh(e):(n==="number"?$t:n==="string"?(i=Fi(e))?(e=i,Ta):$h:e instanceof Fi?Ta:e instanceof Date?GV:$V(e)?jV:Array.isArray(e)?HV:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?zV:$t)(t,e)}function pI(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var WV=180/Math.PI,Uv={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function mI(t,e,n,i,r,s){var o,a,c;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(c=t*n+e*i)&&(n-=t*c,i-=e*c),(a=Math.sqrt(n*n+i*i))&&(n/=a,i/=a,c/=a),t*i<e*n&&(t=-t,e=-e,c=-c,o=-o),{translateX:r,translateY:s,rotate:Math.atan2(e,t)*WV,skewX:Math.atan(c)*WV,scaleX:o,scaleY:a}}var Vv;function qV(t){let e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Uv:mI(e.a,e.b,e.c,e.d,e.e,e.f)}function YV(t){return t==null?Uv:(Vv||(Vv=document.createElementNS("http://www.w3.org/2000/svg","g")),Vv.setAttribute("transform",t),(t=Vv.transform.baseVal.consolidate())?(t=t.matrix,mI(t.a,t.b,t.c,t.d,t.e,t.f)):Uv)}function KV(t,e,n,i){function r(u){return u.length?u.pop()+" ":""}function s(u,d,f,m,g,w){if(u!==f||d!==m){var E=g.push("translate(",null,e,null,n);w.push({i:E-4,x:$t(u,f)},{i:E-2,x:$t(d,m)})}else(f||m)&&g.push("translate("+f+e+m+n)}function o(u,d,f,m){u!==d?(u-d>180?d+=360:d-u>180&&(u+=360),m.push({i:f.push(r(f)+"rotate(",null,i)-2,x:$t(u,d)})):d&&f.push(r(f)+"rotate("+d+i)}function a(u,d,f,m){u!==d?m.push({i:f.push(r(f)+"skewX(",null,i)-2,x:$t(u,d)}):d&&f.push(r(f)+"skewX("+d+i)}function c(u,d,f,m,g,w){if(u!==f||d!==m){var E=g.push(r(g)+"scale(",null,",",null,")");w.push({i:E-4,x:$t(u,f)},{i:E-2,x:$t(d,m)})}else(f!==1||m!==1)&&g.push(r(g)+"scale("+f+","+m+")")}return function(u,d){var f=[],m=[];return u=t(u),d=t(d),s(u.translateX,u.translateY,d.translateX,d.translateY,f,m),o(u.rotate,d.rotate,f,m),a(u.skewX,d.skewX,f,m),c(u.scaleX,u.scaleY,d.scaleX,d.scaleY,f,m),u=d=null,function(g){for(var w=-1,E=m.length,D;++w<E;)f[(D=m[w]).i]=D.x(g);return f.join("")}}}var gI=KV(qV,"px, ","px)","deg)"),vI=KV(YV,", ",")",")");var Bl=0,Gh=0,Hh=0,QV=1e3,Bv,zh,jv=0,Ea=0,$v=0,Wh=typeof performance=="object"&&performance.now?performance:Date,ZV=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Yh(){return Ea||(ZV(mee),Ea=Wh.now()+$v)}function mee(){Ea=0}function qh(){this._call=this._time=this._next=null}qh.prototype=Hv.prototype={constructor:qh,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Yh():+n)+(e==null?0:+e),!this._next&&zh!==this&&(zh?zh._next=this:Bv=this,zh=this),this._call=t,this._time=n,_I()},stop:function(){this._call&&(this._call=null,this._time=1/0,_I())}};function Hv(t,e,n){var i=new qh;return i.restart(t,e,n),i}function JV(){Yh(),++Bl;for(var t=Bv,e;t;)(e=Ea-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Bl}function XV(){Ea=(jv=Wh.now())+$v,Bl=Gh=0;try{JV()}finally{Bl=0,vee(),Ea=0}}function gee(){var t=Wh.now(),e=t-jv;e>QV&&($v-=e,jv=t)}function vee(){for(var t,e=Bv,n,i=1/0;e;)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Bv=n);zh=t,_I(i)}function _I(t){if(!Bl){Gh&&(Gh=clearTimeout(Gh));var e=t-Ea;e>24?(t<1/0&&(Gh=setTimeout(XV,t-Wh.now()-$v)),Hh&&(Hh=clearInterval(Hh))):(Hh||(jv=Wh.now(),Hh=setInterval(gee,QV)),Bl=1,ZV(XV))}}function Gv(t,e,n){var i=new qh;return e=e==null?0:+e,i.restart(r=>{i.stop(),t(r+e)},e,n),i}var _ee=cI("start","end","cancel","interrupt"),yee=[],n3=0,e3=1,Wv=2,zv=3,t3=4,qv=5,Kh=6;function Qs(t,e,n,i,r,s){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;wee(t,n,{name:e,index:i,group:r,on:_ee,tween:yee,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:n3})}function Xh(t,e){var n=At(t,e);if(n.state>n3)throw new Error("too late; already scheduled");return n}function Ht(t,e){var n=At(t,e);if(n.state>zv)throw new Error("too late; already running");return n}function At(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function wee(t,e,n){var i=t.__transition,r;i[e]=n,n.timer=Hv(s,0,n.time);function s(u){n.state=e3,n.timer.restart(o,n.delay,n.time),n.delay<=u&&o(u-n.delay)}function o(u){var d,f,m,g;if(n.state!==e3)return c();for(d in i)if(g=i[d],g.name===n.name){if(g.state===zv)return Gv(o);g.state===t3?(g.state=Kh,g.timer.stop(),g.on.call("interrupt",t,t.__data__,g.index,g.group),delete i[d]):+d<e&&(g.state=Kh,g.timer.stop(),g.on.call("cancel",t,t.__data__,g.index,g.group),delete i[d])}if(Gv(function(){n.state===zv&&(n.state=t3,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=Wv,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Wv){for(n.state=zv,r=new Array(m=n.tween.length),d=0,f=-1;d<m;++d)(g=n.tween[d].value.call(t,t.__data__,n.index,n.group))&&(r[++f]=g);r.length=f+1}}function a(u){for(var d=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(c),n.state=qv,1),f=-1,m=r.length;++f<m;)r[f].call(t,d);n.state===qv&&(n.on.call("end",t,t.__data__,n.index,n.group),c())}function c(){n.state=Kh,n.timer.stop(),delete i[e];for(var u in i)return;delete t.__transition}}function yI(t,e){var n=t.__transition,i,r,s=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((i=n[o]).name!==e){s=!1;continue}r=i.state>Wv&&i.state<qv,i.state=Kh,i.timer.stop(),i.on.call(r?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete n[o]}s&&delete t.__transition}}function i3(t){return this.each(function(){yI(this,t)})}function xee(t,e){var n,i;return function(){var r=Ht(this,t),s=r.tween;if(s!==n){i=n=s;for(var o=0,a=i.length;o<a;++o)if(i[o].name===e){i=i.slice(),i.splice(o,1);break}}r.tween=i}}function bee(t,e,n){var i,r;if(typeof n!="function")throw new Error;return function(){var s=Ht(this,t),o=s.tween;if(o!==i){r=(i=o).slice();for(var a={name:e,value:n},c=0,u=r.length;c<u;++c)if(r[c].name===e){r[c]=a;break}c===u&&r.push(a)}s.tween=r}}function r3(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i=At(this.node(),n).tween,r=0,s=i.length,o;r<s;++r)if((o=i[r]).name===t)return o.value;return null}return this.each((e==null?xee:bee)(n,t,e))}function jl(t,e,n){var i=t._id;return t.each(function(){var r=Ht(this,i);(r.value||(r.value={}))[e]=n.apply(this,arguments)}),function(r){return At(r,i).value[e]}}function Yv(t,e){var n;return(typeof e=="number"?$t:e instanceof Fi?Ta:(n=Fi(e))?(e=n,Ta):$h)(t,e)}function Cee(t){return function(){this.removeAttribute(t)}}function Tee(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Eee(t,e,n){var i,r=n+"",s;return function(){var o=this.getAttribute(t);return o===r?null:o===i?s:s=e(i=o,n)}}function Iee(t,e,n){var i,r=n+"",s;return function(){var o=this.getAttributeNS(t.space,t.local);return o===r?null:o===i?s:s=e(i=o,n)}}function See(t,e,n){var i,r,s;return function(){var o,a=n(this),c;return a==null?void this.removeAttribute(t):(o=this.getAttribute(t),c=a+"",o===c?null:o===i&&c===r?s:(r=c,s=e(i=o,a)))}}function Dee(t,e,n){var i,r,s;return function(){var o,a=n(this),c;return a==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),c=a+"",o===c?null:o===i&&c===r?s:(r=c,s=e(i=o,a)))}}function s3(t,e){var n=is(t),i=n==="transform"?vI:Yv;return this.attrTween(t,typeof e=="function"?(n.local?Dee:See)(n,i,jl(this,"attr."+t,e)):e==null?(n.local?Tee:Cee)(n):(n.local?Iee:Eee)(n,i,e))}function Aee(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Fee(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function kee(t,e){var n,i;function r(){var s=e.apply(this,arguments);return s!==i&&(n=(i=s)&&Fee(t,s)),n}return r._value=e,r}function Mee(t,e){var n,i;function r(){var s=e.apply(this,arguments);return s!==i&&(n=(i=s)&&Aee(t,s)),n}return r._value=e,r}function o3(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var i=is(t);return this.tween(n,(i.local?kee:Mee)(i,e))}function Ree(t,e){return function(){Xh(this,t).delay=+e.apply(this,arguments)}}function Pee(t,e){return e=+e,function(){Xh(this,t).delay=e}}function a3(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Ree:Pee)(e,t)):At(this.node(),e).delay}function Oee(t,e){return function(){Ht(this,t).duration=+e.apply(this,arguments)}}function Nee(t,e){return e=+e,function(){Ht(this,t).duration=e}}function c3(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Oee:Nee)(e,t)):At(this.node(),e).duration}function Lee(t,e){if(typeof e!="function")throw new Error;return function(){Ht(this,t).ease=e}}function l3(t){var e=this._id;return arguments.length?this.each(Lee(e,t)):At(this.node(),e).ease}function Uee(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Ht(this,t).ease=n}}function u3(t){if(typeof t!="function")throw new Error;return this.each(Uee(this._id,t))}function d3(t){typeof t!="function"&&(t=Nh(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var s=e[r],o=s.length,a=i[r]=[],c,u=0;u<o;++u)(c=s[u])&&t.call(c,c.__data__,u,s)&&a.push(c);return new mn(i,this._parents,this._name,this._id)}function h3(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,r=n.length,s=Math.min(i,r),o=new Array(i),a=0;a<s;++a)for(var c=e[a],u=n[a],d=c.length,f=o[a]=new Array(d),m,g=0;g<d;++g)(m=c[g]||u[g])&&(f[g]=m);for(;a<i;++a)o[a]=e[a];return new mn(o,this._parents,this._name,this._id)}function Vee(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Bee(t,e,n){var i,r,s=Vee(e)?Xh:Ht;return function(){var o=s(this,t),a=o.on;a!==i&&(r=(i=a).copy()).on(e,n),o.on=r}}function f3(t,e){var n=this._id;return arguments.length<2?At(this.node(),n).on.on(t):this.each(Bee(n,t,e))}function jee(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function p3(){return this.on("end.remove",jee(this._id))}function m3(t){var e=this._name,n=this._id;typeof t!="function"&&(t=xa(t));for(var i=this._groups,r=i.length,s=new Array(r),o=0;o<r;++o)for(var a=i[o],c=a.length,u=s[o]=new Array(c),d,f,m=0;m<c;++m)(d=a[m])&&(f=t.call(d,d.__data__,m,a))&&("__data__"in d&&(f.__data__=d.__data__),u[m]=f,Qs(u[m],e,n,m,u,At(d,n)));return new mn(s,this._parents,e,n)}function g3(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Oh(t));for(var i=this._groups,r=i.length,s=[],o=[],a=0;a<r;++a)for(var c=i[a],u=c.length,d,f=0;f<u;++f)if(d=c[f]){for(var m=t.call(d,d.__data__,f,c),g,w=At(d,n),E=0,D=m.length;E<D;++E)(g=m[E])&&Qs(g,e,n,E,m,w);s.push(m),o.push(d)}return new mn(s,o,e,n)}var $ee=rs.prototype.constructor;function v3(){return new $ee(this._groups,this._parents)}function Hee(t,e){var n,i,r;return function(){var s=Xs(this,t),o=(this.style.removeProperty(t),Xs(this,t));return s===o?null:s===n&&o===i?r:r=e(n=s,i=o)}}function _3(t){return function(){this.style.removeProperty(t)}}function Gee(t,e,n){var i,r=n+"",s;return function(){var o=Xs(this,t);return o===r?null:o===i?s:s=e(i=o,n)}}function zee(t,e,n){var i,r,s;return function(){var o=Xs(this,t),a=n(this),c=a+"";return a==null&&(c=a=(this.style.removeProperty(t),Xs(this,t))),o===c?null:o===i&&c===r?s:(r=c,s=e(i=o,a))}}function Wee(t,e){var n,i,r,s="style."+e,o="end."+s,a;return function(){var c=Ht(this,t),u=c.on,d=c.value[s]==null?a||(a=_3(e)):void 0;(u!==n||r!==d)&&(i=(n=u).copy()).on(o,r=d),c.on=i}}function y3(t,e,n){var i=(t+="")=="transform"?gI:Yv;return e==null?this.styleTween(t,Hee(t,i)).on("end.style."+t,_3(t)):typeof e=="function"?this.styleTween(t,zee(t,i,jl(this,"style."+t,e))).each(Wee(this._id,t)):this.styleTween(t,Gee(t,i,e),n).on("end.style."+t,null)}function qee(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function Yee(t,e,n){var i,r;function s(){var o=e.apply(this,arguments);return o!==r&&(i=(r=o)&&qee(t,o,n)),i}return s._value=e,s}function w3(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,Yee(t,e,n??""))}function Kee(t){return function(){this.textContent=t}}function Xee(t){return function(){var e=t(this);this.textContent=e??""}}function x3(t){return this.tween("text",typeof t=="function"?Xee(jl(this,"text",t)):Kee(t==null?"":t+""))}function Qee(t){return function(e){this.textContent=t.call(this,e)}}function Zee(t){var e,n;function i(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&Qee(r)),e}return i._value=t,i}function b3(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Zee(t))}function C3(){for(var t=this._name,e=this._id,n=Kv(),i=this._groups,r=i.length,s=0;s<r;++s)for(var o=i[s],a=o.length,c,u=0;u<a;++u)if(c=o[u]){var d=At(c,e);Qs(c,t,n,u,o,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new mn(i,this._parents,t,n)}function T3(){var t,e,n=this,i=n._id,r=n.size();return new Promise(function(s,o){var a={value:o},c={value:function(){--r===0&&s()}};n.each(function(){var u=Ht(this,i),d=u.on;d!==t&&(e=(t=d).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(c)),u.on=e}),r===0&&s()})}var Jee=0;function mn(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function E3(t){return rs().transition(t)}function Kv(){return++Jee}var ss=rs.prototype;mn.prototype=E3.prototype={constructor:mn,select:m3,selectAll:g3,selectChild:ss.selectChild,selectChildren:ss.selectChildren,filter:d3,merge:h3,selection:v3,transition:C3,call:ss.call,nodes:ss.nodes,node:ss.node,size:ss.size,empty:ss.empty,each:ss.each,on:f3,attr:s3,attrTween:o3,style:y3,styleTween:w3,text:x3,textTween:b3,remove:p3,tween:r3,delay:a3,duration:c3,ease:l3,easeVarying:u3,end:T3,[Symbol.iterator]:ss[Symbol.iterator]};function Xv(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var ete={time:null,delay:0,duration:250,ease:Xv};function tte(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function I3(t){var e,n;t instanceof mn?(e=t._id,t=t._name):(e=Kv(),(n=ete).time=Yh(),t=t==null?null:t+"");for(var i=this._groups,r=i.length,s=0;s<r;++s)for(var o=i[s],a=o.length,c,u=0;u<a;++u)(c=o[u])&&Qs(c,t,e,u,o,n||tte(c,e));return new mn(i,this._parents,t,e)}rs.prototype.interrupt=i3;rs.prototype.transition=I3;var{abs:D1e,max:A1e,min:F1e}=Math;function S3(t){return[+t[0],+t[1]]}function nte(t){return[S3(t[0]),S3(t[1])]}var k1e={name:"x",handles:["w","e"].map(wI),input:function(t,e){return t==null?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},M1e={name:"y",handles:["n","s"].map(wI),input:function(t,e){return t==null?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},R1e={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(wI),input:function(t){return t==null?null:nte(t)},output:function(t){return t}};function wI(t){return{type:t}}function ur(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function xI(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Qv(t){let e,n,i;t.length!==2?(e=ur,n=(a,c)=>ur(t(a),c),i=(a,c)=>t(a)-c):(e=t===ur||t===xI?t:rte,n=t,i=t);function r(a,c,u=0,d=a.length){if(u<d){if(e(c,c)!==0)return d;do{let f=u+d>>>1;n(a[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(a,c,u=0,d=a.length){if(u<d){if(e(c,c)!==0)return d;do{let f=u+d>>>1;n(a[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(a,c,u=0,d=a.length){let f=r(a,c,u,d-1);return f>u&&i(a[f-1],c)>-i(a[f],c)?f-1:f}return{left:r,center:o,right:s}}function rte(){return 0}function Qh(t){return t===null?NaN:+t}var D3=Qv(ur),A3=D3.right,ste=D3.left,ote=Qv(Qh).center,Zh=A3;var $l=class extends Map{constructor(e,n=lte){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(let[i,r]of e)this.set(i,r)}get(e){return super.get(F3(this,e))}has(e){return super.has(F3(this,e))}set(e,n){return super.set(ate(this,e),n)}delete(e){return super.delete(cte(this,e))}};function F3({_intern:t,_key:e},n){let i=e(n);return t.has(i)?t.get(i):n}function ate({_intern:t,_key:e},n){let i=e(n);return t.has(i)?t.get(i):(t.set(i,n),n)}function cte({_intern:t,_key:e},n){let i=e(n);return t.has(i)&&(n=t.get(i),t.delete(i)),n}function lte(t){return t!==null&&typeof t=="object"?t.valueOf():t}var ute=Math.sqrt(50),dte=Math.sqrt(10),hte=Math.sqrt(2);function Zv(t,e,n){let i=(e-t)/Math.max(0,n),r=Math.floor(Math.log10(i)),s=i/Math.pow(10,r),o=s>=ute?10:s>=dte?5:s>=hte?2:1,a,c,u;return r<0?(u=Math.pow(10,-r)/o,a=Math.round(t*u),c=Math.round(e*u),a/u<t&&++a,c/u>e&&--c,u=-u):(u=Math.pow(10,r)*o,a=Math.round(t/u),c=Math.round(e/u),a*u<t&&++a,c*u>e&&--c),c<a&&.5<=n&&n<2?Zv(t,e,n*2):[a,c,u]}function Jv(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];let i=e<t,[r,s,o]=i?Zv(e,t,n):Zv(t,e,n);if(!(s>=r))return[];let a=s-r+1,c=new Array(a);if(i)if(o<0)for(let u=0;u<a;++u)c[u]=(s-u)/-o;else for(let u=0;u<a;++u)c[u]=(s-u)*o;else if(o<0)for(let u=0;u<a;++u)c[u]=(r+u)/-o;else for(let u=0;u<a;++u)c[u]=(r+u)*o;return c}function Jh(t,e,n){return e=+e,t=+t,n=+n,Zv(t,e,n)[2]}function bI(t,e,n){e=+e,t=+t,n=+n;let i=e<t,r=i?Jh(e,t,n):Jh(t,e,n);return(i?-1:1)*(r<0?1/-r:r)}function e_(t,e){let n;if(e===void 0)for(let i of t)i!=null&&(n<i||n===void 0&&i>=i)&&(n=i);else{let i=-1;for(let r of t)(r=e(r,++i,t))!=null&&(n<r||n===void 0&&r>=r)&&(n=r)}return n}function CI(t,e,n=Qh){if(!(!(i=t.length)||isNaN(e=+e))){if(e<=0||i<2)return+n(t[0],0,t);if(e>=1)return+n(t[i-1],i-1,t);var i,r=(i-1)*e,s=Math.floor(r),o=+n(t[s],s,t),a=+n(t[s+1],s+1,t);return o+(a-o)*(r-s)}}function Hl(t,e,n){t=+t,e=+e,n=(r=arguments.length)<2?(e=t,t=0,1):r<3?1:+n;for(var i=-1,r=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(r);++i<r;)s[i]=t+i*n;return s}function Zs(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}var TI=Symbol("implicit");function Ia(){var t=new $l,e=[],n=[],i=TI;function r(s){let o=t.get(s);if(o===void 0){if(i!==TI)return i;t.set(s,o=e.push(s)-1)}return n[o%n.length]}return r.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new $l;for(let o of s)t.has(o)||t.set(o,e.push(o)-1);return r},r.range=function(s){return arguments.length?(n=Array.from(s),r):n.slice()},r.unknown=function(s){return arguments.length?(i=s,r):i},r.copy=function(){return Ia(e,n).unknown(i)},Zs.apply(r,arguments),r}function ef(){var t=Ia().unknown(void 0),e=t.domain,n=t.range,i=0,r=1,s,o,a=!1,c=0,u=0,d=.5;delete t.unknown;function f(){var m=e().length,g=r<i,w=g?r:i,E=g?i:r;s=(E-w)/Math.max(1,m-c+u*2),a&&(s=Math.floor(s)),w+=(E-w-s*(m-c))*d,o=s*(1-c),a&&(w=Math.round(w),o=Math.round(o));var D=Hl(m).map(function(P){return w+s*P});return n(g?D.reverse():D)}return t.domain=function(m){return arguments.length?(e(m),f()):e()},t.range=function(m){return arguments.length?([i,r]=m,i=+i,r=+r,f()):[i,r]},t.rangeRound=function(m){return[i,r]=m,i=+i,r=+r,a=!0,f()},t.bandwidth=function(){return o},t.step=function(){return s},t.round=function(m){return arguments.length?(a=!!m,f()):a},t.padding=function(m){return arguments.length?(c=Math.min(1,u=+m),f()):c},t.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),f()):c},t.paddingOuter=function(m){return arguments.length?(u=+m,f()):u},t.align=function(m){return arguments.length?(d=Math.max(0,Math.min(1,m)),f()):d},t.copy=function(){return ef(e(),[i,r]).round(a).paddingInner(c).paddingOuter(u).align(d)},Zs.apply(f(),arguments)}function EI(t){return function(){return t}}function II(t){return+t}var k3=[0,1];function Gl(t){return t}function SI(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:EI(isNaN(e)?NaN:.5)}function pte(t,e){var n;return t>e&&(n=t,t=e,e=n),function(i){return Math.max(t,Math.min(e,i))}}function mte(t,e,n){var i=t[0],r=t[1],s=e[0],o=e[1];return r<i?(i=SI(r,i),s=n(o,s)):(i=SI(i,r),s=n(s,o)),function(a){return s(i(a))}}function gte(t,e,n){var i=Math.min(t.length,e.length)-1,r=new Array(i),s=new Array(i),o=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<i;)r[o]=SI(t[o],t[o+1]),s[o]=n(e[o],e[o+1]);return function(a){var c=Zh(t,a,1,i)-1;return s[c](r[c](a))}}function M3(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function vte(){var t=k3,e=k3,n=ki,i,r,s,o=Gl,a,c,u;function d(){var m=Math.min(t.length,e.length);return o!==Gl&&(o=pte(t[0],t[m-1])),a=m>2?gte:mte,c=u=null,f}function f(m){return m==null||isNaN(m=+m)?s:(c||(c=a(t.map(i),e,n)))(i(o(m)))}return f.invert=function(m){return o(r((u||(u=a(e,t.map(i),$t)))(m)))},f.domain=function(m){return arguments.length?(t=Array.from(m,II),d()):t.slice()},f.range=function(m){return arguments.length?(e=Array.from(m),d()):e.slice()},f.rangeRound=function(m){return e=Array.from(m),n=pI,d()},f.clamp=function(m){return arguments.length?(o=m?!0:Gl,d()):o!==Gl},f.interpolate=function(m){return arguments.length?(n=m,d()):n},f.unknown=function(m){return arguments.length?(s=m,f):s},function(m,g){return i=m,r=g,d()}}function DI(){return vte()(Gl,Gl)}function R3(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Sa(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]}function dr(t){return t=Sa(Math.abs(t)),t?t[1]:NaN}function P3(t,e){return function(n,i){for(var r=n.length,s=[],o=0,a=t[0],c=0;r>0&&a>0&&(c+a+1>i&&(a=Math.max(1,i-c)),s.push(n.substring(r-=a,r+a)),!((c+=a+1)>i));)a=t[o=(o+1)%t.length];return s.reverse().join(e)}}function O3(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var _te=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Js(t){if(!(e=_te.exec(t)))throw new Error("invalid format: "+t);var e;return new t_({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Js.prototype=t_.prototype;function t_(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}t_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function N3(t){e:for(var e=t.length,n=1,i=-1,r;n<e;++n)switch(t[n]){case".":i=r=n;break;case"0":i===0&&(i=n),r=n;break;default:if(!+t[n])break e;i>0&&(i=0);break}return i>0?t.slice(0,i)+t.slice(r+1):t}var AI;function L3(t,e){var n=Sa(t,e);if(!n)return t+"";var i=n[0],r=n[1],s=r-(AI=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,o=i.length;return s===o?i:s>o?i+new Array(s-o+1).join("0"):s>0?i.slice(0,s)+"."+i.slice(s):"0."+new Array(1-s).join("0")+Sa(t,Math.max(0,e+s-1))[0]}function FI(t,e){var n=Sa(t,e);if(!n)return t+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}var kI={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:R3,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>FI(t*100,e),r:FI,s:L3,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function MI(t){return t}var U3=Array.prototype.map,V3=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function B3(t){var e=t.grouping===void 0||t.thousands===void 0?MI:P3(U3.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",i=t.currency===void 0?"":t.currency[1]+"",r=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?MI:O3(U3.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"\u2212":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(f){f=Js(f);var m=f.fill,g=f.align,w=f.sign,E=f.symbol,D=f.zero,P=f.width,H=f.comma,B=f.precision,Q=f.trim,J=f.type;J==="n"?(H=!0,J="g"):kI[J]||(B===void 0&&(B=12),Q=!0,J="g"),(D||m==="0"&&g==="=")&&(D=!0,m="0",g="=");var te=E==="$"?n:E==="#"&&/[boxX]/.test(J)?"0"+J.toLowerCase():"",I=E==="$"?i:/[%p]/.test(J)?o:"",x=kI[J],b=/[defgprs%]/.test(J);B=B===void 0?6:/[gprs]/.test(J)?Math.max(1,Math.min(21,B)):Math.max(0,Math.min(20,B));function T(C){var S=te,y=I,ue,Wt,ai;if(J==="c")y=x(C)+y,C="";else{C=+C;var Nt=C<0||1/C<0;if(C=isNaN(C)?c:x(Math.abs(C),B),Q&&(C=N3(C)),Nt&&+C==0&&w!=="+"&&(Nt=!1),S=(Nt?w==="("?w:a:w==="-"||w==="("?"":w)+S,y=(J==="s"?V3[8+AI/3]:"")+y+(Nt&&w==="("?")":""),b){for(ue=-1,Wt=C.length;++ue<Wt;)if(ai=C.charCodeAt(ue),48>ai||ai>57){y=(ai===46?r+C.slice(ue+1):C.slice(ue))+y,C=C.slice(0,ue);break}}}H&&!D&&(C=e(C,1/0));var Lt=S.length+C.length+y.length,Ft=Lt<P?new Array(P-Lt+1).join(m):"";switch(H&&D&&(C=e(Ft+C,Ft.length?P-y.length:1/0),Ft=""),g){case"<":C=S+C+y+Ft;break;case"=":C=S+Ft+C+y;break;case"^":C=Ft.slice(0,Lt=Ft.length>>1)+S+C+y+Ft.slice(Lt);break;default:C=Ft+S+C+y;break}return s(C)}return T.toString=function(){return f+""},T}function d(f,m){var g=u((f=Js(f),f.type="f",f)),w=Math.max(-8,Math.min(8,Math.floor(dr(m)/3)))*3,E=Math.pow(10,-w),D=V3[8+w/3];return function(P){return g(E*P)+D}}return{format:u,formatPrefix:d}}var n_,i_,r_;RI({thousands:",",grouping:[3],currency:["$",""]});function RI(t){return n_=B3(t),i_=n_.format,r_=n_.formatPrefix,n_}function PI(t){return Math.max(0,-dr(Math.abs(t)))}function OI(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(dr(e)/3)))*3-dr(Math.abs(t)))}function NI(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,dr(e)-dr(t))+1}function LI(t,e,n,i){var r=bI(t,e,n),s;switch(i=Js(i??",f"),i.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return i.precision==null&&!isNaN(s=OI(r,o))&&(i.precision=s),r_(i,o)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(s=NI(r,Math.max(Math.abs(t),Math.abs(e))))&&(i.precision=s-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(s=PI(r))&&(i.precision=s-(i.type==="%")*2);break}}return i_(i)}function yte(t){var e=t.domain;return t.ticks=function(n){var i=e();return Jv(i[0],i[i.length-1],n??10)},t.tickFormat=function(n,i){var r=e();return LI(r[0],r[r.length-1],n??10,i)},t.nice=function(n){n==null&&(n=10);var i=e(),r=0,s=i.length-1,o=i[r],a=i[s],c,u,d=10;for(a<o&&(u=o,o=a,a=u,u=r,r=s,s=u);d-- >0;){if(u=Jh(o,a,n),u===c)return i[r]=o,i[s]=a,e(i);if(u>0)o=Math.floor(o/u)*u,a=Math.ceil(a/u)*u;else if(u<0)o=Math.ceil(o*u)/u,a=Math.floor(a*u)/u;else break;c=u}return t},t}function Da(){var t=DI();return t.copy=function(){return M3(t,Da())},Zs.apply(t,arguments),yte(t)}function tf(){var t=[],e=[],n=[],i;function r(){var o=0,a=Math.max(1,e.length);for(n=new Array(a-1);++o<a;)n[o-1]=CI(t,o/a);return s}function s(o){return o==null||isNaN(o=+o)?i:e[Zh(n,o)]}return s.invertExtent=function(o){var a=e.indexOf(o);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},s.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let a of o)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(ur),r()},s.range=function(o){return arguments.length?(e=Array.from(o),r()):e.slice()},s.unknown=function(o){return arguments.length?(i=o,s):i},s.quantiles=function(){return n.slice()},s.copy=function(){return tf().domain(t).range(e).unknown(i)},Zs.apply(s,arguments)}function Gt(t){return function(){return t}}var UI=Math.abs,zt=Math.atan2,eo=Math.cos,j3=Math.max,s_=Math.min,Mi=Math.sin,Aa=Math.sqrt,gn=1e-12,zl=Math.PI,nf=zl/2,Wl=2*zl;function $3(t){return t>1?0:t<-1?zl:Math.acos(t)}function VI(t){return t>=1?nf:t<=-1?-nf:Math.asin(t)}var BI=Math.PI,jI=2*BI,Fa=1e-6,xte=jI-Fa;function H3(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function bte(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return H3;let n=10**e;return function(i){this._+=i[0];for(let r=1,s=i.length;r<s;++r)this._+=Math.round(arguments[r]*n)/n+i[r]}}var ka=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?H3:bte(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,i,r){this._append`Q${+e},${+n},${this._x1=+i},${this._y1=+r}`}bezierCurveTo(e,n,i,r,s,o){this._append`C${+e},${+n},${+i},${+r},${this._x1=+s},${this._y1=+o}`}arcTo(e,n,i,r,s){if(e=+e,n=+n,i=+i,r=+r,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,a=this._y1,c=i-e,u=r-n,d=o-e,f=a-n,m=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(m>Fa)if(!(Math.abs(f*c-u*d)>Fa)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let g=i-o,w=r-a,E=c*c+u*u,D=g*g+w*w,P=Math.sqrt(E),H=Math.sqrt(m),B=s*Math.tan((BI-Math.acos((E+m-D)/(2*P*H)))/2),Q=B/H,J=B/P;Math.abs(Q-1)>Fa&&this._append`L${e+Q*d},${n+Q*f}`,this._append`A${s},${s},0,0,${+(f*g>d*w)},${this._x1=e+J*c},${this._y1=n+J*u}`}}arc(e,n,i,r,s,o){if(e=+e,n=+n,i=+i,o=!!o,i<0)throw new Error(`negative radius: ${i}`);let a=i*Math.cos(r),c=i*Math.sin(r),u=e+a,d=n+c,f=1^o,m=o?r-s:s-r;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Fa||Math.abs(this._y1-d)>Fa)&&this._append`L${u},${d}`,i&&(m<0&&(m=m%jI+jI),m>xte?this._append`A${i},${i},0,1,${f},${e-a},${n-c}A${i},${i},0,1,${f},${this._x1=u},${this._y1=d}`:m>Fa&&this._append`A${i},${i},0,${+(m>=BI)},${f},${this._x1=e+i*Math.cos(s)},${this._y1=n+i*Math.sin(s)}`)}rect(e,n,i,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${i=+i}v${+r}h${-i}Z`}toString(){return this._}};function G3(){return new ka}G3.prototype=ka.prototype;function z3(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{let i=Math.floor(n);if(!(i>=0))throw new RangeError(`invalid digits: ${n}`);e=i}return t},()=>new ka(e)}function Cte(t){return t.innerRadius}function Tte(t){return t.outerRadius}function Ete(t){return t.startAngle}function Ite(t){return t.endAngle}function Ste(t){return t&&t.padAngle}function Dte(t,e,n,i,r,s,o,a){var c=n-t,u=i-e,d=o-r,f=a-s,m=f*c-d*u;if(!(m*m<gn))return m=(d*(e-s)-f*(t-r))/m,[t+m*c,e+m*u]}function o_(t,e,n,i,r,s,o){var a=t-n,c=e-i,u=(o?s:-s)/Aa(a*a+c*c),d=u*c,f=-u*a,m=t+d,g=e+f,w=n+d,E=i+f,D=(m+w)/2,P=(g+E)/2,H=w-m,B=E-g,Q=H*H+B*B,J=r-s,te=m*E-w*g,I=(B<0?-1:1)*Aa(j3(0,J*J*Q-te*te)),x=(te*B-H*I)/Q,b=(-te*H-B*I)/Q,T=(te*B+H*I)/Q,C=(-te*H+B*I)/Q,S=x-D,y=b-P,ue=T-D,Wt=C-P;return S*S+y*y>ue*ue+Wt*Wt&&(x=T,b=C),{cx:x,cy:b,x01:-d,y01:-f,x11:x*(r/J-1),y11:b*(r/J-1)}}function rf(){var t=Cte,e=Tte,n=Gt(0),i=null,r=Ete,s=Ite,o=Ste,a=null,c=z3(u);function u(){var d,f,m=+t.apply(this,arguments),g=+e.apply(this,arguments),w=r.apply(this,arguments)-nf,E=s.apply(this,arguments)-nf,D=UI(E-w),P=E>w;if(a||(a=d=c()),g<m&&(f=g,g=m,m=f),!(g>gn))a.moveTo(0,0);else if(D>Wl-gn)a.moveTo(g*eo(w),g*Mi(w)),a.arc(0,0,g,w,E,!P),m>gn&&(a.moveTo(m*eo(E),m*Mi(E)),a.arc(0,0,m,E,w,P));else{var H=w,B=E,Q=w,J=E,te=D,I=D,x=o.apply(this,arguments)/2,b=x>gn&&(i?+i.apply(this,arguments):Aa(m*m+g*g)),T=s_(UI(g-m)/2,+n.apply(this,arguments)),C=T,S=T,y,ue;if(b>gn){var Wt=VI(b/m*Mi(x)),ai=VI(b/g*Mi(x));(te-=Wt*2)>gn?(Wt*=P?1:-1,Q+=Wt,J-=Wt):(te=0,Q=J=(w+E)/2),(I-=ai*2)>gn?(ai*=P?1:-1,H+=ai,B-=ai):(I=0,H=B=(w+E)/2)}var Nt=g*eo(H),Lt=g*Mi(H),Ft=m*eo(J),no=m*Mi(J);if(T>gn){var Ma=g*eo(B),Fn=g*Mi(B),mt=m*eo(Q),Yl=m*Mi(Q),an;if(D<zl)if(an=Dte(Nt,Lt,mt,Yl,Ma,Fn,Ft,no)){var Kl=Nt-an[0],hr=Lt-an[1],Xl=Ma-an[0],Ql=Fn-an[1],io=1/Mi($3((Kl*Xl+hr*Ql)/(Aa(Kl*Kl+hr*hr)*Aa(Xl*Xl+Ql*Ql)))/2),ro=Aa(an[0]*an[0]+an[1]*an[1]);C=s_(T,(m-ro)/(io-1)),S=s_(T,(g-ro)/(io+1))}else C=S=0}I>gn?S>gn?(y=o_(mt,Yl,Nt,Lt,g,S,P),ue=o_(Ma,Fn,Ft,no,g,S,P),a.moveTo(y.cx+y.x01,y.cy+y.y01),S<T?a.arc(y.cx,y.cy,S,zt(y.y01,y.x01),zt(ue.y01,ue.x01),!P):(a.arc(y.cx,y.cy,S,zt(y.y01,y.x01),zt(y.y11,y.x11),!P),a.arc(0,0,g,zt(y.cy+y.y11,y.cx+y.x11),zt(ue.cy+ue.y11,ue.cx+ue.x11),!P),a.arc(ue.cx,ue.cy,S,zt(ue.y11,ue.x11),zt(ue.y01,ue.x01),!P))):(a.moveTo(Nt,Lt),a.arc(0,0,g,H,B,!P)):a.moveTo(Nt,Lt),!(m>gn)||!(te>gn)?a.lineTo(Ft,no):C>gn?(y=o_(Ft,no,Ma,Fn,m,-C,P),ue=o_(Nt,Lt,mt,Yl,m,-C,P),a.lineTo(y.cx+y.x01,y.cy+y.y01),C<T?a.arc(y.cx,y.cy,C,zt(y.y01,y.x01),zt(ue.y01,ue.x01),!P):(a.arc(y.cx,y.cy,C,zt(y.y01,y.x01),zt(y.y11,y.x11),!P),a.arc(0,0,m,zt(y.cy+y.y11,y.cx+y.x11),zt(ue.cy+ue.y11,ue.cx+ue.x11),P),a.arc(ue.cx,ue.cy,C,zt(ue.y11,ue.x11),zt(ue.y01,ue.x01),!P))):a.arc(0,0,m,J,Q,P)}if(a.closePath(),d)return a=null,d+""||null}return u.centroid=function(){var d=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,f=(+r.apply(this,arguments)+ +s.apply(this,arguments))/2-zl/2;return[eo(f)*d,Mi(f)*d]},u.innerRadius=function(d){return arguments.length?(t=typeof d=="function"?d:Gt(+d),u):t},u.outerRadius=function(d){return arguments.length?(e=typeof d=="function"?d:Gt(+d),u):e},u.cornerRadius=function(d){return arguments.length?(n=typeof d=="function"?d:Gt(+d),u):n},u.padRadius=function(d){return arguments.length?(i=d==null?null:typeof d=="function"?d:Gt(+d),u):i},u.startAngle=function(d){return arguments.length?(r=typeof d=="function"?d:Gt(+d),u):r},u.endAngle=function(d){return arguments.length?(s=typeof d=="function"?d:Gt(+d),u):s},u.padAngle=function(d){return arguments.length?(o=typeof d=="function"?d:Gt(+d),u):o},u.context=function(d){return arguments.length?(a=d??null,u):a},u}var jSe=Array.prototype.slice;function W3(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function q3(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function Y3(t){return t}function $I(){var t=Y3,e=q3,n=null,i=Gt(0),r=Gt(Wl),s=Gt(0);function o(a){var c,u=(a=W3(a)).length,d,f,m=0,g=new Array(u),w=new Array(u),E=+i.apply(this,arguments),D=Math.min(Wl,Math.max(-Wl,r.apply(this,arguments)-E)),P,H=Math.min(Math.abs(D)/u,s.apply(this,arguments)),B=H*(D<0?-1:1),Q;for(c=0;c<u;++c)(Q=w[g[c]=c]=+t(a[c],c,a))>0&&(m+=Q);for(e!=null?g.sort(function(J,te){return e(w[J],w[te])}):n!=null&&g.sort(function(J,te){return n(a[J],a[te])}),c=0,f=m?(D-u*B)/m:0;c<u;++c,E=P)d=g[c],Q=w[d],P=E+(Q>0?Q*f:0)+B,w[d]={data:a[d],index:c,value:Q,startAngle:E,endAngle:P,padAngle:H};return w}return o.value=function(a){return arguments.length?(t=typeof a=="function"?a:Gt(+a),o):t},o.sortValues=function(a){return arguments.length?(e=a,n=null,o):e},o.sort=function(a){return arguments.length?(n=a,e=null,o):n},o.startAngle=function(a){return arguments.length?(i=typeof a=="function"?a:Gt(+a),o):i},o.endAngle=function(a){return arguments.length?(r=typeof a=="function"?a:Gt(+a),o):r},o.padAngle=function(a){return arguments.length?(s=typeof a=="function"?a:Gt(+a),o):s},o}var Rte=["caretElm"],Pte=t=>({model:t});function Ote(t,e){}function Nte(t,e){if(t&1&&(F(0,"span"),Se(1,Ote,0,0,"ng-template",5),k()),t&2){let n=ee();O(),Y("ngTemplateOutlet",n.template)("ngTemplateOutletContext",wM(2,Pte,n.context))}}function Lte(t,e){if(t&1&&Te(0,"span",6),t&2){let n=ee();Y("innerHTML",n.title,rk)}}function Ute(t,e){if(t&1&&(F(0,"header",4)(1,"span",5),L(2),k()()),t&2){let n=ee();O(2),ke(n.title)}}function Vte(t,e){if(t&1){let n=hn();F(0,"li",6)(1,"ngx-charts-legend-entry",7),ae("select",function(r){be(n);let s=ee();return Ce(s.labelClick.emit(r))})("activate",function(r){be(n);let s=ee();return Ce(s.activate(r))})("deactivate",function(r){be(n);let s=ee();return Ce(s.deactivate(r))}),k()()}if(t&2){let n=e.$implicit,i=ee();O(),Y("label",n.label)("formattedLabel",n.formattedLabel)("color",n.color)("isActive",i.isActive(n))}}var Bte=["*"];function jte(t,e){if(t&1&&Te(0,"ngx-charts-scale-legend",4),t&2){let n=ee();Y("horizontal",n.legendOptions&&n.legendOptions.position===n.LegendPosition.Below)("valueRange",n.legendOptions.domain)("colors",n.legendOptions.colors)("height",n.view[1])("width",n.legendWidth)}}function $te(t,e){if(t&1){let n=hn();F(0,"ngx-charts-legend",5),ae("labelClick",function(r){be(n);let s=ee();return Ce(s.legendLabelClick.emit(r))})("labelActivate",function(r){be(n);let s=ee();return Ce(s.legendLabelActivate.emit(r))})("labelDeactivate",function(r){be(n);let s=ee();return Ce(s.legendLabelDeactivate.emit(r))}),k()}if(t&2){let n=ee();Y("horizontal",n.legendOptions&&n.legendOptions.position===n.LegendPosition.Below)("data",n.legendOptions.domain)("title",n.legendOptions.title)("colors",n.legendOptions.colors)("height",n.view[1])("width",n.legendWidth)("activeEntries",n.activeEntries)}}var Hte=["ngx-charts-svg-radial-gradient",""];function Gte(t,e){if(t&1&&(ji(),Te(0,"stop")),t&2){let n=e.$implicit;Zn("stop-color",n.color)("stop-opacity",n.opacity),Pn("offset",n.offset+"%")}}var zte=["tooltipTemplate"];var Wte=(t,e)=>[t,e];var qte=`.ngx-charts-outer{animation:chartFadeIn linear .6s}@keyframes chartFadeIn{0%{opacity:0}20%{opacity:0}to{opacity:1}}.ngx-charts{float:left;overflow:visible}.ngx-charts .circle,.ngx-charts .cell,.ngx-charts .bar,.ngx-charts .node,.ngx-charts .link,.ngx-charts .arc{cursor:pointer}.ngx-charts .bar.active,.ngx-charts .bar:hover,.ngx-charts .cell.active,.ngx-charts .cell:hover,.ngx-charts .arc.active,.ngx-charts .arc:hover,.ngx-charts .node.active,.ngx-charts .node:hover,.ngx-charts .link.active,.ngx-charts .link:hover,.ngx-charts .card.active,.ngx-charts .card:hover{opacity:.8;transition:opacity .1s ease-in-out}.ngx-charts .bar:focus,.ngx-charts .cell:focus,.ngx-charts .arc:focus,.ngx-charts .node:focus,.ngx-charts .link:focus,.ngx-charts .card:focus{outline:none}.ngx-charts .bar.hidden,.ngx-charts .cell.hidden,.ngx-charts .arc.hidden,.ngx-charts .node.hidden,.ngx-charts .link.hidden,.ngx-charts .card.hidden{display:none}.ngx-charts g:focus{outline:none}.ngx-charts .line-series.inactive,.ngx-charts .line-series-range.inactive,.ngx-charts .polar-series-path.inactive,.ngx-charts .polar-series-area.inactive,.ngx-charts .area-series.inactive{transition:opacity .1s ease-in-out;opacity:.2}.ngx-charts .line-highlight{display:none}.ngx-charts .line-highlight.active{display:block}.ngx-charts .area{opacity:.6}.ngx-charts .circle:hover{cursor:pointer}.ngx-charts .label{font-size:12px;font-weight:400}.ngx-charts .tooltip-anchor{fill:#000}.ngx-charts .gridline-path{stroke:#ddd;stroke-width:1;fill:none}.ngx-charts .refline-path{stroke:#a8b2c7;stroke-width:1;stroke-dasharray:5;stroke-dashoffset:5}.ngx-charts .refline-label{font-size:9px}.ngx-charts .reference-area{fill-opacity:.05;fill:#000}.ngx-charts .gridline-path-dotted{stroke:#ddd;stroke-width:1;fill:none;stroke-dasharray:1,20;stroke-dashoffset:3}.ngx-charts .grid-panel rect{fill:none}.ngx-charts .grid-panel.odd rect{fill:#0000000d}
`;var Yte=["ngx-charts-pie-label",""];var Kte=["ngx-charts-pie-arc",""];function Xte(t,e){if(t&1&&(ji(),F(0,"defs"),Te(1,"g",3),k()),t&2){let n=ee();O(),Y("color",n.fill)("name",n.radialGradientId)("startOpacity",n.startOpacity)}}var Qte=["ngx-charts-pie-series",""];function Zte(t,e){if(t&1&&(ji(),Te(0,"g",3)),t&2){let n=ee().$implicit,i=ee();Y("data",n)("radius",i.outerRadius)("color",i.color(n))("label",i.labelText(n))("labelTrim",i.trimLabels)("labelTrimSize",i.maxLabelLength)("max",i.max)("value",n.value)("explodeSlices",i.explodeSlices)("animations",i.animations)}}function Jte(t,e){if(t&1){let n=hn();ji(),F(0,"g"),Se(1,Zte,1,10,"g",1),F(2,"g",2),ae("select",function(r){be(n);let s=ee();return Ce(s.onClick(r))})("activate",function(r){be(n);let s=ee();return Ce(s.activate.emit(r))})("deactivate",function(r){be(n);let s=ee();return Ce(s.deactivate.emit(r))})("dblclick",function(r){be(n);let s=ee();return Ce(s.dblclick.emit(r))}),k()()}if(t&2){let n=e.$implicit,i=ee();O(),Y("ngIf",i.labelVisible(n)),O(),Y("startAngle",n.startAngle)("endAngle",n.endAngle)("innerRadius",i.innerRadius)("outerRadius",i.outerRadius)("fill",i.color(n))("value",n.data.value)("gradient",i.gradient)("data",n.data)("max",i.max)("explodeSlices",i.explodeSlices)("isActive",i.isActive(n.data))("animate",i.animations)("tooltipDisabled",i.tooltipDisabled)("tooltipPlacement",i.placementTypes.Top)("tooltipType",i.styleTypes.tooltip)("tooltipTitle",i.getTooltipTitle(n))("tooltipTemplate",i.tooltipTemplate)("tooltipContext",n.data)}}var ene=`.pie-label{font-size:11px}.pie-label.animation{animation:.75s ease-in fadeIn}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.pie-label-line{stroke-dasharray:100%}.pie-label-line.animation{animation:3s linear drawOut;transition:d .75s}@keyframes drawOut{0%{stroke-dashoffset:100%}to{stroke-dashoffset:0}}
`;function tne(t,e,n){n=n||{};let i,r,s,o=null,a=0;function c(){a=n.leading===!1?0:+new Date,o=null,s=t.apply(i,r)}return function(){let u=+new Date;!a&&n.leading===!1&&(a=u);let d=e-(u-a);return i=this,r=arguments,d<=0?(clearTimeout(o),o=null,a=u,s=t.apply(i,r)):!o&&n.trailing!==!1&&(o=setTimeout(c,d)),s}}function nne(t,e){return function(i,r,s){return{configurable:!0,enumerable:s.enumerable,get:function(){return Object.defineProperty(this,r,{configurable:!0,enumerable:s.enumerable,value:tne(s.value,t,e)}),this[r]}}}}var Fe=function(t){return t.Top="top",t.Bottom="bottom",t.Left="left",t.Right="right",t.Center="center",t}(Fe||{}),to=7;function K3(t,e,n){if(n===Fe.Top)return t.top-to;if(n===Fe.Bottom)return t.top+t.height-e.height+to;if(n===Fe.Center)return t.top+t.height/2-e.height/2}function X3(t,e,n){if(n===Fe.Left)return t.left-to;if(n===Fe.Right)return t.left+t.width-e.width+to;if(n===Fe.Center)return t.left+t.width/2-e.width/2}var of=class t{static calculateVerticalAlignment(e,n,i){let r=K3(e,n,i);return r+n.height>window.innerHeight&&(r=window.innerHeight-n.height),r}static calculateVerticalCaret(e,n,i,r){let s;r===Fe.Top&&(s=e.height/2-i.height/2+to),r===Fe.Bottom&&(s=n.height-e.height/2-i.height/2-to),r===Fe.Center&&(s=n.height/2-i.height/2);let o=K3(e,n,r);return o+n.height>window.innerHeight&&(s+=o+n.height-window.innerHeight),s}static calculateHorizontalAlignment(e,n,i){let r=X3(e,n,i);return r+n.width>window.innerWidth&&(r=window.innerWidth-n.width),r}static calculateHorizontalCaret(e,n,i,r){let s;r===Fe.Left&&(s=e.width/2-i.width/2+to),r===Fe.Right&&(s=n.width-e.width/2-i.width/2-to),r===Fe.Center&&(s=n.width/2-i.width/2);let o=X3(e,n,r);return o+n.width>window.innerWidth&&(s+=o+n.width-window.innerWidth),s}static shouldFlip(e,n,i,r){let s=!1;return i===Fe.Right&&e.left+e.width+n.width+r>window.innerWidth&&(s=!0),i===Fe.Left&&e.left-n.width-r<0&&(s=!0),i===Fe.Top&&e.top-n.height-r<0&&(s=!0),i===Fe.Bottom&&e.top+e.height+n.height+r>window.innerHeight&&(s=!0),s}static positionCaret(e,n,i,r,s){let o=0,a=0;return e===Fe.Right?(a=-7,o=t.calculateVerticalCaret(i,n,r,s)):e===Fe.Left?(a=n.width,o=t.calculateVerticalCaret(i,n,r,s)):e===Fe.Top?(o=n.height,a=t.calculateHorizontalCaret(i,n,r,s)):e===Fe.Bottom&&(o=-7,a=t.calculateHorizontalCaret(i,n,r,s)),{top:o,left:a}}static positionContent(e,n,i,r,s){let o=0,a=0;return e===Fe.Right?(a=i.left+i.width+r,o=t.calculateVerticalAlignment(i,n,s)):e===Fe.Left?(a=i.left-n.width-r,o=t.calculateVerticalAlignment(i,n,s)):e===Fe.Top?(o=i.top-n.height-r,a=t.calculateHorizontalAlignment(i,n,s)):e===Fe.Bottom&&(o=i.top+i.height+r,a=t.calculateHorizontalAlignment(i,n,s)),{top:o,left:a}}static determinePlacement(e,n,i,r){if(t.shouldFlip(i,n,e,r)){if(e===Fe.Right)return Fe.Left;if(e===Fe.Left)return Fe.Right;if(e===Fe.Top)return Fe.Bottom;if(e===Fe.Bottom)return Fe.Top}return e}},ine=(()=>{class t{get cssClasses(){let n="ngx-charts-tooltip-content";return n+=` position-${this.placement}`,n+=` type-${this.type}`,n+=` ${this.cssClass}`,n}constructor(n,i,r){this.element=n,this.renderer=i,this.platformId=r}ngAfterViewInit(){setTimeout(this.position.bind(this))}position(){if(!sd(this.platformId))return;let n=this.element.nativeElement,i=this.host.nativeElement.getBoundingClientRect();if(!i.height&&!i.width)return;let r=n.getBoundingClientRect();this.checkFlip(i,r),this.positionContent(n,i,r),this.showCaret&&this.positionCaret(i,r),setTimeout(()=>this.renderer.addClass(n,"animate"),1)}positionContent(n,i,r){let{top:s,left:o}=of.positionContent(this.placement,r,i,this.spacing,this.alignment);this.renderer.setStyle(n,"top",`${s}px`),this.renderer.setStyle(n,"left",`${o}px`)}positionCaret(n,i){let r=this.caretElm.nativeElement,s=r.getBoundingClientRect(),{top:o,left:a}=of.positionCaret(this.placement,i,n,s,this.alignment);this.renderer.setStyle(r,"top",`${o}px`),this.renderer.setStyle(r,"left",`${a}px`)}checkFlip(n,i){this.placement=of.determinePlacement(this.placement,i,n,this.spacing)}onWindowResize(){this.position()}static{this.\u0275fac=function(i){return new(i||t)(V(et),V(Zt),V(Xn))}}static{this.\u0275cmp=Me({type:t,selectors:[["ngx-tooltip-content"]],viewQuery:function(i,r){if(i&1&&vM(Rte,5),i&2){let s;Yu(s=Ku())&&(r.caretElm=s.first)}},hostVars:2,hostBindings:function(i,r){i&1&&ae("resize",function(){return r.onWindowResize()},!1,ok),i&2&&iM(r.cssClasses)},inputs:{host:"host",showCaret:"showCaret",type:"type",placement:"placement",alignment:"alignment",spacing:"spacing",cssClass:"cssClass",title:"title",template:"template",context:"context"},standalone:!1,decls:6,vars:6,consts:[["caretElm",""],[3,"hidden"],[1,"tooltip-content"],[4,"ngIf"],[3,"innerHTML",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"]],template:function(i,r){i&1&&(F(0,"div"),Te(1,"span",1,0),F(3,"div",2),Se(4,Nte,2,4,"span",3)(5,Lte,1,1,"span",4),k()()),i&2&&(O(),dM("tooltip-caret position-",r.placement,""),Y("hidden",!r.showCaret),O(3),Y("ngIf",!r.title),O(),Y("ngIf",r.title))},dependencies:[Ln,Gx],styles:[`.ngx-charts-tooltip-content{position:fixed;border-radius:3px;z-index:5000;display:block;font-weight:400;opacity:0;pointer-events:none!important}.ngx-charts-tooltip-content.type-popover{background:#fff;color:#060709;border:1px solid #72809b;box-shadow:0 1px 3px #0003,0 1px 1px #00000024,0 2px 1px -1px #0000001f;font-size:13px;padding:4px}.ngx-charts-tooltip-content.type-popover .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid #fff}.ngx-charts-tooltip-content.type-tooltip{color:#fff;background:#000000bf;font-size:12px;padding:0 10px;text-align:center;pointer-events:auto}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content .tooltip-label{display:block;line-height:1em;padding:8px 5px 5px;font-size:1em}.ngx-charts-tooltip-content .tooltip-val{display:block;font-size:1.3em;line-height:1em;padding:0 5px 8px}.ngx-charts-tooltip-content .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.position-right{transform:translate3d(10px,0,0)}.ngx-charts-tooltip-content.position-left{transform:translate3d(-10px,0,0)}.ngx-charts-tooltip-content.position-top{transform:translate3d(0,-10px,0)}.ngx-charts-tooltip-content.position-bottom{transform:translate3d(0,10px,0)}.ngx-charts-tooltip-content.animate{opacity:1;transition:opacity .3s,transform .3s;transform:translateZ(0);pointer-events:auto}.area-tooltip-container{padding:5px 0;pointer-events:none}.tooltip-item{text-align:left;line-height:1.2em;padding:5px 0}.tooltip-item .tooltip-item-color{display:inline-block;height:12px;width:12px;margin-right:5px;color:#5b646b;border-radius:3px}
`],encapsulation:2})}}return gD([nne(100)],t.prototype,"onWindowResize",null),t})(),HI=class{constructor(e){this.injectionService=e,this.defaults={},this.components=new Map}getByType(e=this.type){return this.components.get(e)}create(e){return this.createByType(this.type,e)}createByType(e,n){n=this.assignDefaults(n);let i=this.injectComponent(e,n);return this.register(e,i),i}destroy(e){let n=this.components.get(e.componentType);if(n&&n.length){let i=n.indexOf(e);i>-1&&(n[i].destroy(),n.splice(i,1))}}destroyAll(){this.destroyByType(this.type)}destroyByType(e){let n=this.components.get(e);if(n&&n.length){let i=n.length-1;for(;i>=0;)this.destroy(n[i--])}}injectComponent(e,n){return this.injectionService.appendComponent(e,n)}assignDefaults(e){let n=U({},this.defaults.inputs),i=U({},this.defaults.outputs);return!e.inputs&&!e.outputs&&(e={inputs:e}),n&&(e.inputs=U(U({},n),e.inputs)),i&&(e.outputs=U(U({},i),e.outputs)),e}register(e,n){this.components.has(e)||this.components.set(e,[]),this.components.get(e).push(n)}};function rne(t){return t.element}var nB=(()=>{class t{static{this.globalRootViewContainer=null}static setGlobalRootViewContainer(n){t.globalRootViewContainer=n}constructor(n,i,r){this.applicationRef=n,this.componentFactoryResolver=i,this.injector=r}getRootViewContainer(){if(this._container)return this._container;if(t.globalRootViewContainer)return t.globalRootViewContainer;if(this.applicationRef.components.length)return this.applicationRef.components[0];throw new Error("View Container not found! ngUpgrade needs to manually set this via setRootViewContainer or setGlobalRootViewContainer.")}setRootViewContainer(n){this._container=n}getComponentRootNode(n){return rne(n)?n.element.nativeElement:n.hostView&&n.hostView.rootNodes.length>0?n.hostView.rootNodes[0]:n.location.nativeElement}getRootViewContainerNode(n){return this.getComponentRootNode(n)}projectComponentBindings(n,i){if(i){if(i.inputs!==void 0){let r=Object.getOwnPropertyNames(i.inputs);for(let s of r)n.instance[s]=i.inputs[s]}if(i.outputs!==void 0){let r=Object.getOwnPropertyNames(i.outputs);for(let s of r)n.instance[s]=i.outputs[s]}}return n}appendComponent(n,i={},r){r||(r=this.getRootViewContainer());let s=this.getComponentRootNode(r),o=new Ph(s,this.componentFactoryResolver,this.applicationRef,this.injector),a=new Ll(n),c=o.attach(a);return this.projectComponentBindings(c,i),c}static{this.\u0275fac=function(i){return new(i||t)(K(Tr),K(xc),K(Ke))}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac})}}return t})(),YI=(()=>{class t extends HI{constructor(n){super(n),this.type=ine}static{this.\u0275fac=function(i){return new(i||t)(K(nB))}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac})}}return t})(),os=function(t){return t.Right="right",t.Below="below",t}(os||{}),sf=function(t){return t.ScaleLegend="scaleLegend",t.Legend="legend",t}(sf||{}),Qe=function(t){return t.Time="time",t.Linear="linear",t.Ordinal="ordinal",t.Quantile="quantile",t}(Qe||{});function GI(t){return t instanceof Date?t=t.toLocaleDateString():t=t.toLocaleString(),t}function sne(t){return t.toLocaleString().replace(/[&'`"<>]/g,e=>({"&":"&amp;","'":"&#x27;","`":"&#x60;",'"':"&quot;","<":"&lt;",">":"&gt;"})[e])}var one=(()=>{class t{constructor(){this.isActive=!1,this.select=new re,this.activate=new re,this.deactivate=new re,this.toggle=new re}get trimmedLabel(){return this.formattedLabel||"(empty)"}onMouseEnter(){this.activate.emit({name:this.label})}onMouseLeave(){this.deactivate.emit({name:this.label})}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=Me({type:t,selectors:[["ngx-charts-legend-entry"]],hostBindings:function(i,r){i&1&&ae("mouseenter",function(){return r.onMouseEnter()})("mouseleave",function(){return r.onMouseLeave()})},inputs:{color:"color",label:"label",formattedLabel:"formattedLabel",isActive:"isActive"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",toggle:"toggle"},standalone:!1,decls:4,vars:6,consts:[["tabindex","-1",3,"click","title"],[1,"legend-label-color",3,"click"],[1,"legend-label-text"]],template:function(i,r){i&1&&(F(0,"span",0),ae("click",function(){return r.select.emit(r.formattedLabel)}),F(1,"span",1),ae("click",function(){return r.toggle.emit(r.formattedLabel)}),k(),F(2,"span",2),L(3),k()()),i&2&&(mi("active",r.isActive),Y("title",r.formattedLabel),O(),Zn("background-color",r.color),O(2),Nn(" ",r.trimmedLabel," "))},encapsulation:2,changeDetection:0})}}return t})(),ane=(()=>{class t{constructor(n){this.cd=n,this.horizontal=!1,this.labelClick=new re,this.labelActivate=new re,this.labelDeactivate=new re,this.legendEntries=[]}ngOnChanges(n){this.update()}update(){this.cd.markForCheck(),this.legendEntries=this.getLegendEntries()}getLegendEntries(){let n=[];for(let i of this.data){let r=GI(i);n.findIndex(o=>o.label===r)===-1&&n.push({label:i,formattedLabel:r,color:this.colors.getColor(i)})}return n}isActive(n){return this.activeEntries?this.activeEntries.find(r=>n.label===r.name)!==void 0:!1}activate(n){this.labelActivate.emit(n)}deactivate(n){this.labelDeactivate.emit(n)}trackBy(n,i){return i.label}static{this.\u0275fac=function(i){return new(i||t)(V(ti))}}static{this.\u0275cmp=Me({type:t,selectors:[["ngx-charts-legend"]],inputs:{data:"data",title:"title",colors:"colors",height:"height",width:"width",activeEntries:"activeEntries",horizontal:"horizontal"},outputs:{labelClick:"labelClick",labelActivate:"labelActivate",labelDeactivate:"labelDeactivate"},standalone:!1,features:[ut],decls:5,vars:9,consts:[["class","legend-title",4,"ngIf"],[1,"legend-wrap"],[1,"legend-labels"],["class","legend-label",4,"ngFor","ngForOf","ngForTrackBy"],[1,"legend-title"],[1,"legend-title-text"],[1,"legend-label"],[3,"select","activate","deactivate","label","formattedLabel","color","isActive"]],template:function(i,r){i&1&&(F(0,"div"),Se(1,Ute,3,1,"header",0),F(2,"div",1)(3,"ul",2),Se(4,Vte,2,4,"li",3),k()()()),i&2&&(Zn("width",r.width,"px"),O(),Y("ngIf",(r.title==null?null:r.title.length)>0),O(2),Zn("max-height",r.height-45,"px"),mi("horizontal-legend",r.horizontal),O(),Y("ngForOf",r.legendEntries)("ngForTrackBy",r.trackBy))},dependencies:[Cs,Ln,one],styles:[`.chart-legend{display:inline-block;padding:0;width:auto!important}.chart-legend .legend-title{white-space:nowrap;overflow:hidden;margin-left:10px;margin-bottom:5px;font-size:14px;font-weight:700}.chart-legend ul,.chart-legend li{padding:0;margin:0;list-style:none}.chart-legend .horizontal-legend li{display:inline-block}.chart-legend .legend-wrap{width:calc(100% - 10px)}.chart-legend .legend-labels{line-height:85%;list-style:none;text-align:left;float:left;width:100%;border-radius:3px;overflow-y:auto;overflow-x:hidden;white-space:nowrap;background:#0000000d}.chart-legend .legend-label{cursor:pointer;font-size:90%;margin:8px;color:#afb7c8}.chart-legend .legend-label:hover{color:#000;-webkit-transition:.2s;-moz-transition:.2s;transition:.2s}.chart-legend .legend-label .active .legend-label-text{color:#000}.chart-legend .legend-label-color{display:inline-block;height:15px;width:15px;margin-right:5px;color:#5b646b;border-radius:3px}.chart-legend .legend-label-text{display:inline-block;vertical-align:top;line-height:15px;font-size:12px;width:calc(100% - 20px);text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.chart-legend .legend-title-text{vertical-align:bottom;display:inline-block;line-height:16px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}
`],encapsulation:2,changeDetection:0})}}return t})(),cne=(()=>{class t{constructor(){this.horizontal=!1}ngOnChanges(n){let i=this.gradientString(this.colors.range(),this.colors.domain()),r=this.horizontal?"right":"bottom";this.gradient=`linear-gradient(to ${r}, ${i})`}gradientString(n,i){i.push(1);let r=[];return n.reverse().forEach((s,o)=>{r.push(`${s} ${Math.round(i[o]*100)}%`)}),r.join(", ")}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=Me({type:t,selectors:[["ngx-charts-scale-legend"]],inputs:{valueRange:"valueRange",colors:"colors",height:"height",width:"width",horizontal:"horizontal"},standalone:!1,features:[ut],decls:8,vars:10,consts:[[1,"scale-legend"],[1,"scale-legend-label"],[1,"scale-legend-wrap"]],template:function(i,r){i&1&&(F(0,"div",0)(1,"div",1)(2,"span"),L(3),k()(),Te(4,"div",2),F(5,"div",1)(6,"span"),L(7),k()()()),i&2&&(Zn("height",r.horizontal?void 0:r.height,"px")("width",r.width,"px"),mi("horizontal-legend",r.horizontal),O(3),ke(r.valueRange[1].toLocaleString()),O(),Zn("background",r.gradient),O(3),ke(r.valueRange[0].toLocaleString()))},styles:[`.chart-legend{display:inline-block;padding:0;width:auto!important}.chart-legend .scale-legend{text-align:center;display:flex;flex-direction:column}.chart-legend .scale-legend-wrap{display:inline-block;flex:1;width:30px;border-radius:5px;margin:0 auto}.chart-legend .scale-legend-label{font-size:12px}.chart-legend .horizontal-legend.scale-legend{flex-direction:row}.chart-legend .horizontal-legend .scale-legend-wrap{width:auto;height:30px;margin:0 16px}
`],encapsulation:2,changeDetection:0})}}return t})(),lne=(()=>{class t{constructor(){this.showLegend=!1,this.animations=!0,this.legendLabelClick=new re,this.legendLabelActivate=new re,this.legendLabelDeactivate=new re,this.LegendPosition=os,this.LegendType=sf}ngOnChanges(n){this.update()}update(){let n=0;this.showLegend&&(this.legendType=this.getLegendType(),(!this.legendOptions||this.legendOptions.position===os.Right)&&(this.legendType===sf.ScaleLegend?n=1:n=2));let i=12-n;this.chartWidth=Math.floor(this.view[0]*i/12),this.legendWidth=!this.legendOptions||this.legendOptions.position===os.Right?Math.floor(this.view[0]*n/12):this.chartWidth}getLegendType(){return this.legendOptions.scaleType===Qe.Linear?sf.ScaleLegend:sf.Legend}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=Me({type:t,selectors:[["ngx-charts-chart"]],inputs:{view:"view",showLegend:"showLegend",legendOptions:"legendOptions",legendType:"legendType",activeEntries:"activeEntries",animations:"animations"},outputs:{legendLabelClick:"legendLabelClick",legendLabelActivate:"legendLabelActivate",legendLabelDeactivate:"legendLabelDeactivate"},standalone:!1,features:[ei([YI]),ut],ngContentSelectors:Bte,decls:5,vars:8,consts:[[1,"ngx-charts-outer"],[1,"ngx-charts"],["class","chart-legend",3,"horizontal","valueRange","colors","height","width",4,"ngIf"],["class","chart-legend",3,"horizontal","data","title","colors","height","width","activeEntries","labelClick","labelActivate","labelDeactivate",4,"ngIf"],[1,"chart-legend",3,"horizontal","valueRange","colors","height","width"],[1,"chart-legend",3,"labelClick","labelActivate","labelDeactivate","horizontal","data","title","colors","height","width","activeEntries"]],template:function(i,r){i&1&&(mM(),F(0,"div",0),ji(),F(1,"svg",1),gM(2),k(),Se(3,jte,1,5,"ngx-charts-scale-legend",2)(4,$te,1,7,"ngx-charts-legend",3),k()),i&2&&(Zn("width",r.view[0],"px")("height",r.view[1],"px"),O(),Pn("width",r.chartWidth)("height",r.view[1]),O(2),Y("ngIf",r.showLegend&&r.legendType===r.LegendType.ScaleLegend),O(),Y("ngIf",r.showLegend&&r.legendType===r.LegendType.Legend))},dependencies:[Ln,ane,cne],encapsulation:2,changeDetection:0})}}return t})(),une=(()=>{class t{constructor(n,i){this.element=n,this.zone=i,this.visible=new re,this.isVisible=!1,this.runCheck()}destroy(){clearTimeout(this.timeout)}onVisibilityChange(){this.zone.run(()=>{this.isVisible=!0,this.visible.emit(!0)})}runCheck(){let n=()=>{if(!this.element)return;let{offsetHeight:i,offsetWidth:r}=this.element.nativeElement;i&&r?(clearTimeout(this.timeout),this.onVisibilityChange()):(clearTimeout(this.timeout),this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>n(),100)}))};this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>n())})}static{this.\u0275fac=function(i){return new(i||t)(V(et),V(Oe))}}static{this.\u0275dir=Ne({type:t,selectors:[["visibility-observer"]],outputs:{visible:"visible"},standalone:!1})}}return t})();function Q3(t){return toString.call(t)==="[object Date]"}var dne=(()=>{class t{constructor(n,i,r,s){this.chartElement=n,this.zone=i,this.cd=r,this.platformId=s,this.scheme="cool",this.schemeType=Qe.Ordinal,this.animations=!0,this.select=new re}ngOnInit(){Uo(this.platformId)&&(this.animations=!1)}ngAfterViewInit(){this.bindWindowResizeEvent(),this.visibilityObserver=new une(this.chartElement,this.zone),this.visibilityObserver.visible.subscribe(this.update.bind(this))}ngOnDestroy(){this.unbindEvents(),this.visibilityObserver&&(this.visibilityObserver.visible.unsubscribe(),this.visibilityObserver.destroy())}ngOnChanges(n){this.update()}update(){if(this.results?this.results=this.cloneData(this.results):this.results=[],this.view)this.width=this.view[0],this.height=this.view[1];else{let n=this.getContainerDims();n&&(this.width=n.width,this.height=n.height)}this.width||(this.width=600),this.height||(this.height=400),this.width=Math.floor(this.width),this.height=Math.floor(this.height),this.cd&&this.cd.markForCheck()}getContainerDims(){let n,i,r=this.chartElement.nativeElement;if(sd(this.platformId)&&r.parentNode!==null){let s=r.parentNode.getBoundingClientRect();n=s.width,i=s.height}return n&&i?{width:n,height:i}:null}formatDates(){for(let n=0;n<this.results.length;n++){let i=this.results[n];if(i.label=i.name,Q3(i.label)&&(i.label=i.label.toLocaleDateString()),i.series)for(let r=0;r<i.series.length;r++){let s=i.series[r];s.label=s.name,Q3(s.label)&&(s.label=s.label.toLocaleDateString())}}}unbindEvents(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()}bindWindowResizeEvent(){if(!sd(this.platformId))return;let i=Tu(window,"resize").pipe(cy(200)).subscribe(r=>{this.update(),this.cd&&this.cd.markForCheck()});this.resizeSubscription=i}cloneData(n){let i=[];for(let r of n){let s={};if(r.name!==void 0&&(s.name=r.name),r.value!==void 0&&(s.value=r.value),r.series!==void 0){s.series=[];for(let o of r.series){let a=Object.assign({},o);s.series.push(a)}}r.extra!==void 0&&(s.extra=JSON.parse(JSON.stringify(r.extra))),r.source!==void 0&&(s.source=r.source),r.target!==void 0&&(s.target=r.target),i.push(s)}return i}static{this.\u0275fac=function(i){return new(i||t)(V(et),V(Oe),V(ti),V(Xn))}}static{this.\u0275cmp=Me({type:t,selectors:[["base-chart"]],inputs:{results:"results",view:"view",scheme:"scheme",schemeType:"schemeType",customColors:"customColors",animations:"animations"},outputs:{select:"select"},standalone:!1,features:[ut],decls:1,vars:0,template:function(i,r){i&1&&Te(0,"div")},encapsulation:2})}}return t})();function hne(t,e=16){return typeof t!="string"?typeof t=="number"?t+"":"":(t=t.trim(),t.length<=e?t:`${t.slice(0,e)}...`)}var zI=function(t){return t.Start="start",t.Middle="middle",t.End="end",t}(zI||{});var Z3=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=He({type:t})}static{this.\u0275inj=$e({imports:[rt]})}}return t})(),KI=function(t){return t.popover="popover",t.tooltip="tooltip",t}(KI||{}),ql=function(t){return t[t.all="all"]="all",t[t.focus="focus"]="focus",t[t.mouseover="mouseover"]="mouseover",t}(ql||{}),fne=(()=>{class t{get listensForFocus(){return this.tooltipShowEvent===ql.all||this.tooltipShowEvent===ql.focus}get listensForHover(){return this.tooltipShowEvent===ql.all||this.tooltipShowEvent===ql.mouseover}constructor(n,i,r){this.tooltipService=n,this.viewContainerRef=i,this.renderer=r,this.tooltipCssClass="",this.tooltipAppendToBody=!0,this.tooltipSpacing=10,this.tooltipDisabled=!1,this.tooltipShowCaret=!0,this.tooltipPlacement=Fe.Top,this.tooltipAlignment=Fe.Center,this.tooltipType=KI.popover,this.tooltipCloseOnClickOutside=!0,this.tooltipCloseOnMouseLeave=!0,this.tooltipHideTimeout=300,this.tooltipShowTimeout=100,this.tooltipShowEvent=ql.all,this.tooltipImmediateExit=!1,this.show=new re,this.hide=new re}ngOnDestroy(){this.hideTooltip(!0)}onFocus(){this.listensForFocus&&this.showTooltip()}onBlur(){this.listensForFocus&&this.hideTooltip(!0)}onMouseEnter(){this.listensForHover&&this.showTooltip()}onMouseLeave(n){if(this.listensForHover&&this.tooltipCloseOnMouseLeave){if(clearTimeout(this.timeout),this.component&&this.component.instance.element.nativeElement.contains(n))return;this.hideTooltip(this.tooltipImmediateExit)}}onMouseClick(){this.listensForHover&&this.hideTooltip(!0)}showTooltip(n){if(this.component||this.tooltipDisabled)return;let i=n?0:this.tooltipShowTimeout+(navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?400:0);clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.tooltipService.destroyAll();let r=this.createBoundOptions();this.component=this.tooltipService.create(r),setTimeout(()=>{this.component&&this.addHideListeners(this.component.instance.element.nativeElement)},10),this.show.emit(!0)},i)}addHideListeners(n){this.mouseEnterContentEvent=this.renderer.listen(n,"mouseenter",()=>{clearTimeout(this.timeout)}),this.tooltipCloseOnMouseLeave&&(this.mouseLeaveContentEvent=this.renderer.listen(n,"mouseleave",()=>{this.hideTooltip(this.tooltipImmediateExit)})),this.tooltipCloseOnClickOutside&&(this.documentClickEvent=this.renderer.listen("window","click",i=>{n.contains(i.target)||this.hideTooltip()}))}hideTooltip(n=!1){if(!this.component)return;let i=()=>{this.mouseLeaveContentEvent&&this.mouseLeaveContentEvent(),this.mouseEnterContentEvent&&this.mouseEnterContentEvent(),this.documentClickEvent&&this.documentClickEvent(),this.hide.emit(!0),this.tooltipService.destroy(this.component),this.component=void 0};clearTimeout(this.timeout),n?i():this.timeout=setTimeout(i,this.tooltipHideTimeout)}createBoundOptions(){return{title:this.tooltipTitle,template:this.tooltipTemplate,host:this.viewContainerRef.element,placement:this.tooltipPlacement,alignment:this.tooltipAlignment,type:this.tooltipType,showCaret:this.tooltipShowCaret,cssClass:this.tooltipCssClass,spacing:this.tooltipSpacing,context:this.tooltipContext}}static{this.\u0275fac=function(i){return new(i||t)(V(YI),V(Qn),V(Zt))}}static{this.\u0275dir=Ne({type:t,selectors:[["","ngx-tooltip",""]],hostBindings:function(i,r){i&1&&ae("focusin",function(){return r.onFocus()})("blur",function(){return r.onBlur()})("mouseenter",function(){return r.onMouseEnter()})("mouseleave",function(o){return r.onMouseLeave(o.target)})("click",function(){return r.onMouseClick()})},inputs:{tooltipCssClass:"tooltipCssClass",tooltipTitle:"tooltipTitle",tooltipAppendToBody:"tooltipAppendToBody",tooltipSpacing:"tooltipSpacing",tooltipDisabled:"tooltipDisabled",tooltipShowCaret:"tooltipShowCaret",tooltipPlacement:"tooltipPlacement",tooltipAlignment:"tooltipAlignment",tooltipType:"tooltipType",tooltipCloseOnClickOutside:"tooltipCloseOnClickOutside",tooltipCloseOnMouseLeave:"tooltipCloseOnMouseLeave",tooltipHideTimeout:"tooltipHideTimeout",tooltipShowTimeout:"tooltipShowTimeout",tooltipTemplate:"tooltipTemplate",tooltipShowEvent:"tooltipShowEvent",tooltipContext:"tooltipContext",tooltipImmediateExit:"tooltipImmediateExit"},outputs:{show:"show",hide:"hide"},standalone:!1})}}return t})(),J3=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=He({type:t})}static{this.\u0275inj=$e({providers:[nB,YI],imports:[rt]})}}return t})(),eB={};function iB(){let t=("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4);return t=`a${t}`,eB[t]?iB():(eB[t]=!0,t)}var rB=function(t){return t.Vertical="vertical",t.Horizontal="horizontal",t}(rB||{});var pne=(()=>{class t{constructor(){this.endOpacity=1,this.cx=0,this.cy=0}get stops(){return this.stopsInput||this.stopsDefault}set stops(n){this.stopsInput=n}ngOnChanges(n){this.r="30%",("color"in n||"startOpacity"in n||"endOpacity"in n)&&(this.stopsDefault=[{offset:0,color:this.color,opacity:this.startOpacity},{offset:100,color:this.color,opacity:this.endOpacity}])}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=Me({type:t,selectors:[["g","ngx-charts-svg-radial-gradient",""]],inputs:{color:"color",name:"name",startOpacity:"startOpacity",endOpacity:"endOpacity",cx:"cx",cy:"cy",stops:"stops"},standalone:!1,features:[ut],attrs:Hte,decls:2,vars:5,consts:[["gradientUnits","userSpaceOnUse",3,"id"],[3,"stop-color","stop-opacity",4,"ngFor","ngForOf"]],template:function(i,r){i&1&&(ji(),F(0,"radialGradient",0),Se(1,Gte,1,5,"stop",1),k()),i&2&&(Y("id",r.name),Pn("cx",r.cx)("cy",r.cy)("r",r.r),O(),Y("ngForOf",r.stops))},dependencies:[Cs],encapsulation:2,changeDetection:0})}}return t})();var WI;typeof window<"u"?WI=window:typeof global<"u"&&(WI=global);var QDe=WI.MouseEvent;var Gn=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=He({type:t})}static{this.\u0275inj=$e({imports:[rt,Z3,J3,rt,Z3,J3]})}}return t})();function mne({width:t,height:e,margins:n,showXAxis:i=!1,showYAxis:r=!1,xAxisHeight:s=0,yAxisWidth:o=0,showXLabel:a=!1,showYLabel:c=!1,showLegend:u=!1,legendType:d=Qe.Ordinal,legendPosition:f=os.Right,columns:m=12}){let g=n[3],w=t,E=e-n[0]-n[2];return u&&f===os.Right&&(d===Qe.Ordinal?m-=2:m-=1),w=w*m/12,w=w-n[1]-n[3],i&&(E-=5,E-=s,a&&(E-=30)),r&&(w-=5,w-=o,g+=o,g+=10,c&&(w-=30,g+=30)),w=Math.max(0,w),E=Math.max(0,E),{width:Math.floor(w),height:Math.floor(E),xOffset:Math.floor(g)}}var tB=[{name:"vivid",selectable:!0,group:Qe.Ordinal,domain:["#647c8a","#3f51b5","#2196f3","#00b862","#afdf0a","#a7b61a","#f3e562","#ff9800","#ff5722","#ff4514"]},{name:"natural",selectable:!0,group:Qe.Ordinal,domain:["#bf9d76","#e99450","#d89f59","#f2dfa7","#a5d7c6","#7794b1","#afafaf","#707160","#ba9383","#d9d5c3"]},{name:"cool",selectable:!0,group:Qe.Ordinal,domain:["#a8385d","#7aa3e5","#a27ea8","#aae3f5","#adcded","#a95963","#8796c0","#7ed3ed","#50abcc","#ad6886"]},{name:"fire",selectable:!0,group:Qe.Ordinal,domain:["#ff3d00","#bf360c","#ff8f00","#ff6f00","#ff5722","#e65100","#ffca28","#ffab00"]},{name:"solar",selectable:!0,group:Qe.Linear,domain:["#fff8e1","#ffecb3","#ffe082","#ffd54f","#ffca28","#ffc107","#ffb300","#ffa000","#ff8f00","#ff6f00"]},{name:"air",selectable:!0,group:Qe.Linear,domain:["#e1f5fe","#b3e5fc","#81d4fa","#4fc3f7","#29b6f6","#03a9f4","#039be5","#0288d1","#0277bd","#01579b"]},{name:"aqua",selectable:!0,group:Qe.Linear,domain:["#e0f7fa","#b2ebf2","#80deea","#4dd0e1","#26c6da","#00bcd4","#00acc1","#0097a7","#00838f","#006064"]},{name:"flame",selectable:!1,group:Qe.Ordinal,domain:["#A10A28","#D3342D","#EF6D49","#FAAD67","#FDDE90","#DBED91","#A9D770","#6CBA67","#2C9653","#146738"]},{name:"ocean",selectable:!1,group:Qe.Ordinal,domain:["#1D68FB","#33C0FC","#4AFFFE","#AFFFFF","#FFFC63","#FDBD2D","#FC8A25","#FA4F1E","#FA141B","#BA38D1"]},{name:"forest",selectable:!1,group:Qe.Ordinal,domain:["#55C22D","#C1F33D","#3CC099","#AFFFFF","#8CFC9D","#76CFFA","#BA60FB","#EE6490","#C42A1C","#FC9F32"]},{name:"horizon",selectable:!1,group:Qe.Ordinal,domain:["#2597FB","#65EBFD","#99FDD0","#FCEE4B","#FEFCFA","#FDD6E3","#FCB1A8","#EF6F7B","#CB96E8","#EFDEE0"]},{name:"neons",selectable:!1,group:Qe.Ordinal,domain:["#FF3333","#FF33FF","#CC33FF","#0000FF","#33CCFF","#33FFFF","#33FF66","#CCFF33","#FFCC00","#FF6600"]},{name:"picnic",selectable:!1,group:Qe.Ordinal,domain:["#FAC51D","#66BD6D","#FAA026","#29BB9C","#E96B56","#55ACD2","#B7332F","#2C83C9","#9166B8","#92E7E8"]},{name:"night",selectable:!1,group:Qe.Ordinal,domain:["#2B1B5A","#501356","#183356","#28203F","#391B3C","#1E2B3C","#120634","#2D0432","#051932","#453080","#75267D","#2C507D","#4B3880","#752F7D","#35547D"]},{name:"nightLights",selectable:!1,group:Qe.Ordinal,domain:["#4e31a5","#9c25a7","#3065ab","#57468b","#904497","#46648b","#32118d","#a00fb3","#1052a2","#6e51bd","#b63cc3","#6c97cb","#8671c1","#b455be","#7496c3"]}],qI=class{constructor(e,n,i,r){typeof e=="string"&&(e=tB.find(s=>s.name===e)),this.colorDomain=e.domain,this.scaleType=n,this.domain=i,this.customColors=r,this.scale=this.generateColorScheme(e,n,this.domain)}generateColorScheme(e,n,i){typeof e=="string"&&(e=tB.find(s=>s.name===e));let r;switch(n){case Qe.Quantile:r=tf().range(e.domain).domain(i);break;case Qe.Ordinal:r=Ia().range(e.domain).domain(i);break;case Qe.Linear:{let s=[...e.domain];s.length===1&&(s.push(s[0]),this.colorDomain=s);let o=Hl(0,1,1/s.length);r=Da().range(s).domain(o)}break;default:break}return r}getColor(e){if(e==null)throw new Error("Value can not be null");if(this.scaleType===Qe.Linear){let n=Da().domain(this.domain).range([0,1]);return this.scale(n(e))}else{if(typeof this.customColors=="function")return this.customColors(e);let n=e.toString(),i;return this.customColors&&this.customColors.length>0&&(i=this.customColors.find(r=>r.name.toLowerCase()===n.toLowerCase())),i?i.value:this.scale(e)}}getLinearGradientStops(e,n){n===void 0&&(n=this.domain[0]);let i=Da().domain(this.domain).range([0,1]),r=ef().domain(this.colorDomain).range([0,1]),s=this.getColor(e),o=i(n),a=this.getColor(n),c=i(e),u=1,d=o,f=[];for(f.push({color:a,offset:o,originalOffset:o,opacity:1});d<c&&u<this.colorDomain.length;){let m=this.colorDomain[u],g=r(m);if(g<=o){u++;continue}if(g.toFixed(4)>=(c-r.bandwidth()).toFixed(4))break;f.push({color:m,offset:g,opacity:1}),d=g,u++}if(f[f.length-1].offset<100&&f.push({color:s,offset:c,opacity:1}),c===o)f[0].offset=0,f[1].offset=100;else if(f[f.length-1].offset!==100)for(let m of f)m.offset=(m.offset-o)/(c-o)*100;return f}};var gne=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=He({type:t})}static{this.\u0275inj=$e({imports:[Gn]})}}return t})();var sB=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=He({type:t})}static{this.\u0275inj=$e({imports:[Gn]})}}return t})();var vne=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=He({type:t})}static{this.\u0275inj=$e({imports:[Gn]})}}return t})();var _ne=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=He({type:t})}static{this.\u0275inj=$e({imports:[Gn]})}}return t})();var yne=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=He({type:t})}static{this.\u0275inj=$e({imports:[Gn]})}}return t})();var oB=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=He({type:t})}static{this.\u0275inj=$e({imports:[Gn]})}}return t})(),wne=(()=>{class t{constructor(n){this.platformId=n,this.animations=!0,this.labelTrim=!0,this.labelTrimSize=10,this.trimLabel=hne}ngOnChanges(n){this.setTransforms(),this.update()}setTransforms(){if(Uo(this.platformId))this.styleTransform=`translate3d(${this.textX}px,${this.textY}px, 0)`,this.attrTransform=`translate(${this.textX},${this.textY})`,this.textTransition=this.animations?"transform 0.75s":null;else{let n=/(edge|msie|trident)/i.test(navigator.userAgent);this.styleTransform=n?null:`translate3d(${this.textX}px,${this.textY}px, 0)`,this.attrTransform=n?`translate(${this.textX},${this.textY})`:null,this.textTransition=n||!this.animations?null:"transform 0.75s"}}update(){let n=this.radius;this.explodeSlices&&(n=this.radius*this.value/this.max);let r=rf().innerRadius(n).outerRadius(n).centroid(this.data),s=this.data.pos[1]/r[1];(this.data.pos[1]===0||r[1]===0)&&(s=1);let o=[s*r[0],s*r[1]];this.line=`M${r}L${o}L${this.data.pos}`}get textX(){return this.data.pos[0]}get textY(){return this.data.pos[1]}textAnchor(){return this.midAngle(this.data)<Math.PI?zI.Start:zI.End}midAngle(n){return n.startAngle+(n.endAngle-n.startAngle)/2}static{this.\u0275fac=function(i){return new(i||t)(V(Xn))}}static{this.\u0275cmp=Me({type:t,selectors:[["g","ngx-charts-pie-label",""]],inputs:{data:"data",radius:"radius",label:"label",color:"color",max:"max",value:"value",explodeSlices:"explodeSlices",animations:"animations",labelTrim:"labelTrim",labelTrimSize:"labelTrimSize"},standalone:!1,features:[ut],attrs:Yte,decls:6,vars:17,consts:[["dy",".35em",1,"pie-label"],["fill","none",1,"pie-label-line","line"]],template:function(i,r){i&1&&(F(0,"title"),L(1),k(),ji(),F(2,"g")(3,"text",0),L(4),k()(),Te(5,"path",1)),i&2&&(O(),ke(r.label),O(),Zn("transform",r.styleTransform)("transition",r.textTransition),Pn("transform",r.attrTransform),O(),Zn("text-anchor",r.textAnchor())("shape-rendering","crispEdges"),mi("animation",r.animations),O(),Nn(" ",r.labelTrim?r.trimLabel(r.label,r.labelTrimSize):r.label," "),O(),mi("animation",r.animations),Pn("d",r.line)("stroke",r.color))},encapsulation:2,changeDetection:0})}}return t})();var ZDe=2*Math.PI;var xne=(()=>{class t{constructor(n){this.startAngle=0,this.endAngle=Math.PI*2,this.cornerRadius=0,this.explodeSlices=!1,this.gradient=!1,this.animate=!0,this.pointerEvents=!0,this.isActive=!1,this.select=new re,this.activate=new re,this.deactivate=new re,this.dblclick=new re,this.barOrientation=rB,this.initialized=!1,this.element=n.nativeElement}ngOnChanges(n){this.update()}getGradient(){return this.gradient?this.gradientFill:this.fill}getPointerEvents(){return this.pointerEvents?"auto":"none"}update(){let n=this.calculateArc();this.startOpacity=.5,this.radialGradientId="linearGrad"+iB().toString(),this.gradientFill=`url(#${this.radialGradientId})`,this.animate?this.initialized?this.updateAnimation():(this.loadAnimation(),this.initialized=!0):this.path=n.startAngle(this.startAngle).endAngle(this.endAngle)()}calculateArc(){let n=this.outerRadius;return this.explodeSlices&&this.innerRadius===0&&(n=this.outerRadius*this.value/this.max),rf().innerRadius(this.innerRadius).outerRadius(n).cornerRadius(this.cornerRadius)}loadAnimation(){let n=Fv(this.element).selectAll(".arc").data([{startAngle:this.startAngle,endAngle:this.endAngle}]),i=this.calculateArc();n.transition().attrTween("d",function(r){this._current=this._current||r;let s=Object.assign({},r);s.endAngle=s.startAngle;let o=ki(s,s);return this._current=o(0),function(a){return i(o(a))}}).transition().duration(750).attrTween("d",function(r){this._current=this._current||r;let s=ki(this._current,r);return this._current=s(0),function(o){return i(s(o))}})}updateAnimation(){let n=Fv(this.element).selectAll(".arc").data([{startAngle:this.startAngle,endAngle:this.endAngle}]),i=this.calculateArc();n.transition().duration(750).attrTween("d",function(r){this._current=this._current||r;let s=ki(this._current,r);return this._current=s(0),function(o){return i(s(o))}})}onClick(){clearTimeout(this._timeout),this._timeout=setTimeout(()=>this.select.emit(this.data),200)}onDblClick(n){n.preventDefault(),n.stopPropagation(),clearTimeout(this._timeout),this.dblclick.emit({data:this.data,nativeEvent:n})}static{this.\u0275fac=function(i){return new(i||t)(V(et))}}static{this.\u0275cmp=Me({type:t,selectors:[["g","ngx-charts-pie-arc",""]],inputs:{fill:"fill",startAngle:"startAngle",endAngle:"endAngle",innerRadius:"innerRadius",outerRadius:"outerRadius",cornerRadius:"cornerRadius",value:"value",max:"max",data:"data",explodeSlices:"explodeSlices",gradient:"gradient",animate:"animate",pointerEvents:"pointerEvents",isActive:"isActive"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",dblclick:"dblclick"},standalone:!1,features:[ut],attrs:Kte,decls:3,vars:7,consts:[[1,"arc-group"],[4,"ngIf"],[1,"arc",3,"click","dblclick","mouseenter","mouseleave"],["ngx-charts-svg-radial-gradient","",3,"color","name","startOpacity"]],template:function(i,r){i&1&&(ji(),F(0,"g",0),Se(1,Xte,2,3,"defs",1),F(2,"path",2),ae("click",function(){return r.onClick()})("dblclick",function(o){return r.onDblClick(o)})("mouseenter",function(){return r.activate.emit(r.data)})("mouseleave",function(){return r.deactivate.emit(r.data)}),k()()),i&2&&(O(),Y("ngIf",r.gradient),O(),Zn("pointer-events",r.getPointerEvents()),mi("active",r.isActive),Pn("d",r.path)("fill",r.getGradient()))},dependencies:[Ln,pne],encapsulation:2,changeDetection:0})}}return t})(),bne=(()=>{class t{constructor(){this.series=[],this.innerRadius=60,this.outerRadius=80,this.trimLabels=!0,this.maxLabelLength=10,this.tooltipDisabled=!1,this.animations=!0,this.select=new re,this.activate=new re,this.deactivate=new re,this.dblclick=new re,this.placementTypes=Fe,this.styleTypes=KI}ngOnChanges(n){this.update()}update(){let i=$I().value(r=>r.value).sort(null)(this.series);this.max=e_(i,r=>r.value),this.data=this.calculateLabelPositions(i),this.tooltipText=this.tooltipText||this.defaultTooltipText}midAngle(n){return n.startAngle+(n.endAngle-n.startAngle)/2}outerArc(){return rf().innerRadius(this.outerRadius*1.5).outerRadius(this.outerRadius*1.5)}calculateLabelPositions(n){let s=n;s.forEach(o=>{o.pos=this.outerArc().centroid(o),o.pos[0]=1.5*this.outerRadius*(this.midAngle(o)<Math.PI?1:-1)});for(let o=0;o<s.length-1;o++){let a=s[o];if(this.labelVisible(a))for(let c=o+1;c<s.length;c++){let u=s[c];if(this.labelVisible(u)&&u.pos[0]*a.pos[0]>0){let d=10-Math.abs(u.pos[1]-a.pos[1]);d>0&&(u.pos[1]+=Math.sign(u.pos[0])*d)}}}return s}labelVisible(n){return this.showLabels&&n.endAngle-n.startAngle>Math.PI/30}getTooltipTitle(n){return this.tooltipTemplate?void 0:this.tooltipText(n)}labelText(n){return this.labelFormatting?this.labelFormatting(n.data.name):this.label(n)}label(n){return GI(n.data.name)}defaultTooltipText(n){let i=this.label(n),r=GI(n.data.value);return`
      <span class="tooltip-label">${sne(i)}</span>
      <span class="tooltip-val">${r}</span>
    `}color(n){return this.colors.getColor(this.label(n))}trackBy(n,i){return i.data.name}onClick(n){this.select.emit(n)}isActive(n){return this.activeEntries?this.activeEntries.find(r=>n.name===r.name&&n.series===r.series)!==void 0:!1}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=Me({type:t,selectors:[["g","ngx-charts-pie-series",""]],inputs:{colors:"colors",series:"series",dims:"dims",innerRadius:"innerRadius",outerRadius:"outerRadius",explodeSlices:"explodeSlices",showLabels:"showLabels",gradient:"gradient",activeEntries:"activeEntries",labelFormatting:"labelFormatting",trimLabels:"trimLabels",maxLabelLength:"maxLabelLength",tooltipText:"tooltipText",tooltipDisabled:"tooltipDisabled",tooltipTemplate:"tooltipTemplate",animations:"animations"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",dblclick:"dblclick"},standalone:!1,features:[ut],attrs:Qte,decls:1,vars:2,consts:[[4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-pie-label","",3,"data","radius","color","label","labelTrim","labelTrimSize","max","value","explodeSlices","animations",4,"ngIf"],["ngx-charts-pie-arc","","ngx-tooltip","",3,"select","activate","deactivate","dblclick","startAngle","endAngle","innerRadius","outerRadius","fill","value","gradient","data","max","explodeSlices","isActive","animate","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext"],["ngx-charts-pie-label","",3,"data","radius","color","label","labelTrim","labelTrimSize","max","value","explodeSlices","animations"]],template:function(i,r){i&1&&Se(0,Jte,3,19,"g",0),i&2&&Y("ngForOf",r.data)("ngForTrackBy",r.trackBy)},dependencies:[Cs,Ln,fne,wne,xne],encapsulation:2,changeDetection:0})}}return t})();var aB=(()=>{class t extends dne{constructor(){super(...arguments),this.labels=!1,this.legend=!1,this.legendTitle="Legend",this.legendPosition=os.Right,this.explodeSlices=!1,this.doughnut=!1,this.arcWidth=.25,this.activeEntries=[],this.tooltipDisabled=!1,this.trimLabels=!0,this.maxLabelLength=10,this.dblclick=new re,this.select=new re,this.activate=new re,this.deactivate=new re}ngOnChanges(){this.update()}update(){super.update(),this.labels&&this.hasNoOptionalMarginsSet()?this.margins=[30,80,30,80]:!this.labels&&this.hasNoOptionalMarginsSet()&&(this.margins=[20,20,20,20]),this.dims=mne({width:this.width,height:this.height,margins:this.margins,showLegend:this.legend,legendPosition:this.legendPosition}),this.formatDates();let n=this.margins[3]+this.dims.width/2,i=this.margins[0]+this.dims.height/2;this.translation=`translate(${n}, ${i})`,this.outerRadius=Math.min(this.dims.width,this.dims.height),this.labels?this.outerRadius/=3:this.outerRadius/=2,this.innerRadius=0,this.doughnut&&(this.innerRadius=this.outerRadius*(1-this.arcWidth)),this.domain=this.getDomain(),this.data=this.results.sort((r,s)=>this.domain.indexOf(r.name)-this.domain.indexOf(s.name)),this.setColors(),this.legendOptions=this.getLegendOptions()}getDomain(){return this.results.map(n=>n.label)}onClick(n){this.select.emit(n)}setColors(){this.colors=new qI(this.scheme,Qe.Ordinal,this.domain,this.customColors)}getLegendOptions(){return{scaleType:Qe.Ordinal,domain:this.domain,colors:this.colors,title:this.legendTitle,position:this.legendPosition}}onActivate(n,i=!1){n=this.results.find(s=>i?s.label===n.name:s.name===n.name),!(this.activeEntries.findIndex(s=>s.name===n.name&&s.value===n.value&&s.series===n.series)>-1)&&(this.activeEntries=[n,...this.activeEntries],this.activate.emit({value:n,entries:this.activeEntries}))}onDeactivate(n,i=!1){n=this.results.find(s=>i?s.label===n.name:s.name===n.name);let r=this.activeEntries.findIndex(s=>s.name===n.name&&s.value===n.value&&s.series===n.series);this.activeEntries.splice(r,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:n,entries:this.activeEntries})}hasNoOptionalMarginsSet(){return!this.margins||this.margins.length<=0}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=$i(t)))(r||t)}})()}static{this.\u0275cmp=Me({type:t,selectors:[["ngx-charts-pie-chart"]],contentQueries:function(i,r,s){if(i&1&&nm(s,zte,5),i&2){let o;Yu(o=Ku())&&(r.tooltipTemplate=o.first)}},inputs:{labels:"labels",legend:"legend",legendTitle:"legendTitle",legendPosition:"legendPosition",explodeSlices:"explodeSlices",doughnut:"doughnut",arcWidth:"arcWidth",gradient:"gradient",activeEntries:"activeEntries",tooltipDisabled:"tooltipDisabled",labelFormatting:"labelFormatting",trimLabels:"trimLabels",maxLabelLength:"maxLabelLength",tooltipText:"tooltipText",margins:"margins"},outputs:{dblclick:"dblclick",select:"select",activate:"activate",deactivate:"deactivate"},standalone:!1,features:[Jt,ut],decls:3,vars:24,consts:[[3,"legendLabelActivate","legendLabelDeactivate","legendLabelClick","view","showLegend","legendOptions","activeEntries","animations"],[1,"pie-chart","chart"],["ngx-charts-pie-series","",3,"dblclick","select","activate","deactivate","colors","series","showLabels","labelFormatting","trimLabels","maxLabelLength","activeEntries","innerRadius","outerRadius","explodeSlices","gradient","animations","tooltipDisabled","tooltipTemplate","tooltipText"]],template:function(i,r){i&1&&(F(0,"ngx-charts-chart",0),ae("legendLabelActivate",function(o){return r.onActivate(o,!0)})("legendLabelDeactivate",function(o){return r.onDeactivate(o,!0)})("legendLabelClick",function(o){return r.onClick(o)}),ji(),F(1,"g",1)(2,"g",2),ae("dblclick",function(o){return r.dblclick.emit(o)})("select",function(o){return r.onClick(o)})("activate",function(o){return r.onActivate(o)})("deactivate",function(o){return r.onDeactivate(o)}),k()()()),i&2&&(Y("view",xM(21,Wte,r.width,r.height))("showLegend",r.legend)("legendOptions",r.legendOptions)("activeEntries",r.activeEntries)("animations",r.animations),O(),Pn("transform",r.translation),O(),Y("colors",r.colors)("series",r.data)("showLabels",r.labels)("labelFormatting",r.labelFormatting)("trimLabels",r.trimLabels)("maxLabelLength",r.maxLabelLength)("activeEntries",r.activeEntries)("innerRadius",r.innerRadius)("outerRadius",r.outerRadius)("explodeSlices",r.explodeSlices)("gradient",r.gradient)("animations",r.animations)("tooltipDisabled",r.tooltipDisabled)("tooltipTemplate",r.tooltipTemplate)("tooltipText",r.tooltipText))},dependencies:[lne,bne],styles:[qte,ene],encapsulation:2,changeDetection:0})}}return t})();var XI=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=He({type:t})}static{this.\u0275inj=$e({imports:[Gn]})}}return t})(),Cne=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=He({type:t})}static{this.\u0275inj=$e({imports:[Gn,XI,oB]})}}return t})();var Tne=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=He({type:t})}static{this.\u0275inj=$e({imports:[Gn]})}}return t})();var Ene=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=He({type:t})}static{this.\u0275inj=$e({imports:[Gn]})}}return t})();var Ine=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=He({type:t})}static{this.\u0275inj=$e({imports:[Gn,XI,sB]})}}return t})();function Sne(){typeof SVGElement<"u"&&typeof SVGElement.prototype.contains>"u"&&(SVGElement.prototype.contains=HTMLDivElement.prototype.contains)}var Dne=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=He({type:t})}static{this.\u0275inj=$e({imports:[Gn]})}}return t})(),cB=(()=>{class t{constructor(){Sne()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=He({type:t})}static{this.\u0275inj=$e({imports:[Gn,gne,sB,vne,_ne,yne,Dne,oB,Cne,Tne,XI,Ene,Ine]})}}return t})();var a_=class t{constructor(e){this.firestore=e}createEvent(e){let n=Ws(this.firestore,"invitations");return Y0(n,se(U({},e),{createdAt:new Date}))}getEventsByCreator(e){let n=Ws(this.firestore,"invitations"),i=KL(n,ZL("userId","==",e));return Ie(K0(i)).pipe(de(r=>r.docs.map(s=>U({id:s.id},s.data()))),Et(r=>{if(r.length===0)return Z([]);let s=r.map(o=>{let a=Ws(this.firestore,`invitations/${o.id}/responses`);return Ie(K0(a)).pipe(de(c=>{let u=c.docs.map(d=>U({id:d.id},d.data()));return se(U({},o),{invitations:u})}))});return Cu(s)}))}getInvitationsForEvent(e){let n=Ws(this.firestore,`invitations/${e}/responses`);return Ie(K0(n)).pipe(de(i=>i.docs.map(r=>U({id:r.id},r.data()))))}static \u0275fac=function(n){return new(n||t)(K(Si))};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})};var c_=()=>[],kne=()=>[250,200],lB=(t,e)=>e.id;function Mne(t,e){t&1&&(F(0,"p",1),L(1,"You haven't created any events yet."),k())}function Rne(t,e){if(t&1&&(F(0,"li"),L(1),Rr(2,"titlecase"),k()),t&2){let n=e.$implicit;O(),Xu("",n.email," - Status: ",ws(2,2,n.status),"")}}function Pne(t,e){if(t&1&&(F(0,"ul"),Ar(1,Rne,3,4,"li",null,lB),k()),t&2){let n=ee().$implicit;O(),Fr(n.invitations)}}function One(t,e){t&1&&(F(0,"p"),L(1,"No invitations sent for this event yet."),k())}function Nne(t,e){if(t&1&&(F(0,"div",3)(1,"h2"),L(2),k(),F(3,"p")(4,"strong"),L(5,"Date:"),k(),L(6),k(),F(7,"p")(8,"strong"),L(9,"Location:"),k(),L(10),k(),F(11,"p"),L(12),k(),F(13,"div",4)(14,"h3"),L(15,"Invitation Status:"),k(),F(16,"p"),L(17,"Accepted: "),F(18,"span",5),L(19),k()(),F(20,"p"),L(21,"Declined: "),F(22,"span",6),L(23),k()(),F(24,"p"),L(25,"Pending: "),F(26,"span",7),L(27),k()()(),F(28,"div",8),Te(29,"ngx-charts-pie-chart",9),k(),F(30,"div",10)(31,"h4"),L(32),k(),Se(33,Pne,3,0,"ul")(34,One,2,0,"p"),k()()),t&2){let n=e.$implicit,i=ee(3);O(2),ke(n.name||n.title),O(4),Xu(" ",n.date," at ",n.time,""),O(4),Nn(" ",n.location,""),O(2),ke(n.description),O(7),ke(i.getAcceptedCount(n.invitations||Mr(20,c_))),O(4),ke(i.getDeclinedCount(n.invitations||Mr(21,c_))),O(4),ke(i.getPendingCount(n.invitations||Mr(22,c_))),O(2),Y("results",i.getPieChartData(n))("scheme",i.pieColorScheme)("labels",i.showLabels)("arcWidth",i.arcWidth)("gradient",i.gradient)("legend",!0)("legendPosition",i.legendPosition)("animations",!1)("doughnut",!0)("view",Mr(23,kne)),O(3),Nn("All Invitations (",(n.invitations==null?null:n.invitations.length)||0,")"),O(),On((n.invitations||Mr(24,c_)).length>0?33:34)}}function Lne(t,e){if(t&1&&(F(0,"div",2),Ar(1,Nne,35,25,"div",3,lB),k()),t&2){let n=ee();O(),Fr(n)}}function Une(t,e){t&1&&Se(0,Mne,2,0,"p",1)(1,Lne,3,0,"div",2),t&2&&On(e.length===0?0:1)}function Vne(t,e){t&1&&(F(0,"p"),L(1,"Loading events..."),k())}var l_=class t{constructor(e,n){this.eventService=e;this.authService=n;this.userEvents$=iI(this.authService.currentUserSig).pipe(kt(i=>!!i),Et(i=>i.uid?this.eventService.getEventsByCreator(i.uid):Z([])))}userEvents$;pieColorScheme="vivid";showLabels=!0;arcWidth=.3;gradient=!0;legendPosition=os.Below;ngOnInit(){}getAcceptedCount(e){return e.filter(n=>n.status==="accepted").length}getDeclinedCount(e){return e.filter(n=>n.status==="declined").length}getPendingCount(e){return e.filter(n=>n.status==="pending").length}getPieChartData(e){let n=e.invitations||[],i=this.getAcceptedCount(n),r=this.getDeclinedCount(n),s=this.getPendingCount(n);return[{name:"Accepted",value:i},{name:"Declined",value:r},{name:"Pending",value:s}]}static \u0275fac=function(n){return new(n||t)(V(a_),V(on))};static \u0275cmp=Me({type:t,selectors:[["app-events"]],decls:6,vars:3,consts:[[1,"events-container"],[1,"no-events-message"],[1,"events-list"],[1,"event-card"],[1,"invitation-summary"],[1,"accepted-count"],[1,"declined-count"],[1,"pending-count"],[1,"chart-container"],[3,"results","scheme","labels","arcWidth","gradient","legend","legendPosition","animations","doughnut","view"],[1,"invitation-details"]],template:function(n,i){if(n&1&&(F(0,"div",0)(1,"h1"),L(2,"My Created Events"),k(),Se(3,Une,2,1),Rr(4,"async"),Se(5,Vne,2,0,"p"),k()),n&2){let r;O(3),On((r=ws(4,1,i.userEvents$))?3:5,r)}},dependencies:[rt,Wx,No,cB,aB],styles:[".events-container[_ngcontent-%COMP%]{max-width:1200px;margin:20px auto;padding:20px;background-color:#f8f9fa;border-radius:8px;box-shadow:0 4px 12px #0000000d;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;color:#333}h1[_ngcontent-%COMP%]{text-align:center;color:#2c3e50;margin-bottom:30px;font-size:2.2em;font-weight:600;border-bottom:2px solid #e0e0e0;padding-bottom:15px}.no-events-message[_ngcontent-%COMP%]{text-align:center;color:#6c757d;font-size:1.1em;margin-top:50px}.events-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:25px}.event-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px;box-shadow:0 4px 15px #0000001a;padding:25px;display:flex;flex-direction:column;transition:transform .2s ease-in-out,box-shadow .2s ease-in-out;overflow:hidden}.event-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 8px 25px #00000026}.event-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#3498db;font-size:1.8em;margin-top:0;margin-bottom:15px;border-bottom:1px solid #eee;padding-bottom:10px}.event-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:8px;line-height:1.5;color:#555}.event-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#2c3e50}.invitation-summary[_ngcontent-%COMP%]{margin-top:20px;padding-top:15px;border-top:1px dashed #e0e0e0}.invitation-summary[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#2c3e50;font-size:1.3em;margin-bottom:10px}.invitation-summary[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:4px 0;font-size:.95em}.invitation-summary[_ngcontent-%COMP%]   .accepted-count[_ngcontent-%COMP%]{color:#28a745;font-weight:700;font-size:1.1em}.invitation-summary[_ngcontent-%COMP%]   .declined-count[_ngcontent-%COMP%]{color:#dc3545;font-weight:700;font-size:1.1em}.invitation-summary[_ngcontent-%COMP%]   .pending-count[_ngcontent-%COMP%]{color:#ffc107;font-weight:700;font-size:1.1em}.invitation-details[_ngcontent-%COMP%]{margin-top:20px;padding-top:15px;border-top:1px dashed #e0e0e0}.invitation-details[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#2c3e50;font-size:1.2em;margin-bottom:10px}.invitation-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;padding:0;margin:0}.invitation-details[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:#f0f8ff;margin-bottom:5px;padding:8px 12px;border-radius:5px;display:flex;justify-content:space-between;align-items:center;font-size:.9em;color:#444}.invitation-details[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500}.chart-container[_ngcontent-%COMP%]{margin-top:20px;padding-top:15px;border-top:1px dashed #e0e0e0;display:flex;justify-content:center;align-items:center;height:200px;position:relative;overflow:hidden}ngx-charts-pie-chart[_ngcontent-%COMP%]{width:100%;height:100%;display:block}@media (max-width: 768px){.events-list[_ngcontent-%COMP%]{grid-template-columns:1fr}.events-container[_ngcontent-%COMP%]{padding:15px;margin:10px}}"]})};var uB=[{path:"",component:X0},{path:"register",component:mv},{path:"login",component:gv},{path:"templates",component:wv},{path:"create-invitation",component:yv,canActivate:[Rh]},{path:"events",component:l_,canActivate:[Rh]},{path:"respond/:eventId/:inviteId",component:xv}];var Bne={apiKey:"AIzaSyCUb52poWY1pArYH2xnYzyb3NIhqL86XRw",authDomain:"greenvite-fd97f.firebaseapp.com",projectId:"greenvite-fd97f",storageBucket:"greenvite-fd97f.firebasestorage.app",messagingSenderId:"1026839850168",appId:"1:1026839850168:web:872ac393ded491b6e5984d",measurementId:"G-60DYVB7VC2"},dB={providers:[Rb(uB),rb(),oP(()=>aP(Bne)),HO(()=>WO()),qL(()=>YL()),on]};var jne=()=>({exact:!0});function $ne(t,e){if(t&1){let n=hn();F(0,"a",6)(1,"div",7),L(2,"Greenvite"),k()(),F(3,"button",8),ae("click",function(){be(n);let r=ee();return Ce(r.closeSidenav())}),Te(4,"img",9),k()}}function Hne(t,e){if(t&1&&(F(0,"span",14),L(1),k()),t&2){let n=ee(2).$implicit;O(),ke(n.label)}}function Gne(t,e){if(t&1){let n=hn();F(0,"a",12),ae("click",function(){be(n);let r=ee(2);return Ce(r.handleLogout())}),Te(1,"img",13),Se(2,Hne,2,1,"span",14),k()}if(t&2){let n=ee().$implicit,i=ee();O(),tm("alt",n.label),Y("src","assets/icons/"+n.icon+".svg",Gi),O(),On(i.isLeftSidebarCollapsed()?-1:2)}}function zne(t,e){if(t&1&&(F(0,"span",14),L(1),k()),t&2){let n=ee(2).$implicit;O(),ke(n.label)}}function Wne(t,e){if(t&1&&(F(0,"a",11),Te(1,"img",13),Se(2,zne,2,1,"span",14),k()),t&2){let n=ee().$implicit,i=ee();Y("routerLink",n.routeLink)("routerLinkActiveOptions",Mr(5,jne)),O(),tm("alt",n.label),Y("src","assets/icons/"+n.icon+".svg",Gi),O(),On(i.isLeftSidebarCollapsed()?-1:2)}}function qne(t,e){if(t&1&&(F(0,"li",5),Se(1,Gne,3,3,"a",10)(2,Wne,3,6,"a",11),k()),t&2){let n=e.$implicit;O(),On(n.type==="logout-button"?1:2)}}var u_=class t{isLeftSidebarCollapsed=Mo.required();changeIsLeftSidebarCollapsed=NF();authService=R(on);router=R(qe);currentUserSig=this.authService.currentUserSig;baseItems=[{routeLink:"create-invitation",icon:"envelope-open-regular",label:"Create invitation",type:"regular"},{routeLink:"templates",icon:"lightbulb-regular",label:"Templates",type:"regular"},{routeLink:"events",icon:"calendar-days-regular",label:"My Events",type:"regular"}];navItems=gi(()=>{let e=this.currentUserSig(),n=[...this.baseItems];return e?n.push({routeLink:"#",icon:"right-to-bracket-solid",label:`Log out (${e.displayName||e.email})`,type:"logout-button"}):n.push({routeLink:"login",icon:"right-to-bracket-solid",label:"Log in",type:"auth-link"},{routeLink:"register",icon:"address-book-regular",label:"Sign up",type:"auth-link"}),n});toggleCollapse(){this.changeIsLeftSidebarCollapsed.emit(!this.isLeftSidebarCollapsed())}closeSidenav(){this.changeIsLeftSidebarCollapsed.emit(!0)}handleLogout(){return _(this,null,function*(){yield this.authService.logout(),this.router.navigate(["/login"])})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Me({type:t,selectors:[["app-left-sidebar"]],inputs:{isLeftSidebarCollapsed:[1,"isLeftSidebarCollapsed"]},outputs:{changeIsLeftSidebarCollapsed:"changeIsLeftSidebarCollapsed"},decls:8,vars:2,consts:[[1,"sidenav",3,"ngClass"],[1,"logo-container"],[1,"logo",3,"click"],["src","assets/icons/bars.svg","alt","Menu",1,"icon"],[1,"sidenav-nav"],[1,"sidenav-nav-item"],["routerLink","/",1,"logo-text-link"],[1,"logo-text"],[1,"btn-close",3,"click"],["src","assets/icons/close.svg","alt","Close",1,"icon"],[1,"sidenav-nav-link"],["routerLinkActive","active",1,"sidenav-nav-link",3,"routerLink","routerLinkActiveOptions"],[1,"sidenav-nav-link",3,"click"],[1,"sidenav-link-icon",3,"src","alt"],[1,"sidenav-link-text"]],template:function(n,i){n&1&&(F(0,"div",0)(1,"div",1)(2,"button",2),ae("click",function(){return i.toggleCollapse()}),Te(3,"img",3),k(),Se(4,$ne,5,0),k(),F(5,"div",4),Ar(6,qne,3,1,"li",5,hM),k()()),n&2&&(Y("ngClass",i.isLeftSidebarCollapsed()?"sidenav-collapsed":""),O(4),On(i.isLeftSidebarCollapsed()?-1:4),O(2),Fr(i.navItems()))},dependencies:[Ur,ri,Mb,rt,Nr],styles:[".sidenav[_ngcontent-%COMP%]{background:#4caf50;transition:all .5s ease;position:fixed;z-index:1;top:0;width:16.5625rem;height:100vh;box-shadow:.063rem 0 1.25rem #8690a3}.sidenav-collapsed[_ngcontent-%COMP%]{width:5rem}.sidenav[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.938rem .938rem 0;width:100%}.sidenav[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{background:#4caf50;text-align:center;width:3rem;min-width:3rem;border-radius:.313rem;padding:.313rem;font-size:24px;font-weight:900;cursor:pointer;border:none}.sidenav[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:24px;height:24px}.sidenav[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .logo-text-link[_ngcontent-%COMP%]{text-decoration:none;color:#fff;cursor:pointer;display:flex;align-items:center}.sidenav[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]{margin-left:1.5rem;font-size:24px;font-weight:700}.sidenav[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{margin-left:2rem;cursor:pointer;width:2rem;height:2rem;border-radius:50%;background-color:transparent;border:none}.sidenav[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:24px;height:24px}.sidenav-nav[_ngcontent-%COMP%]{list-style:none;padding:.938rem;margin:0;display:flex;flex-direction:column;align-items:center;height:calc(100% - 3.65rem);cursor:pointer}.sidenav-nav[_ngcontent-%COMP%]   .sidenav-nav-item[_ngcontent-%COMP%]{width:100%;margin-bottom:.625rem}.sidenav-nav[_ngcontent-%COMP%]   .sidenav-nav-item[_ngcontent-%COMP%]   .sidenav-nav-link[_ngcontent-%COMP%]{display:flex;align-items:center;height:3rem;color:#f3f3f3;text-decoration:none;border-radius:.625rem;transition:all .3s ease}.sidenav-nav[_ngcontent-%COMP%]   .sidenav-nav-item[_ngcontent-%COMP%]   .sidenav-nav-link[_ngcontent-%COMP%]   .sidenav-link-icon[_ngcontent-%COMP%]{font-size:28px;width:2.5rem;min-width:2.5rem;text-align:center;padding:10px}.sidenav-nav[_ngcontent-%COMP%]   .sidenav-nav-item[_ngcontent-%COMP%]   .sidenav-nav-link[_ngcontent-%COMP%]   .sidenav-link-icon[_ngcontent-%COMP%]   img.sidenav-link-icon[_ngcontent-%COMP%]{width:28px;height:28px}.sidenav-nav[_ngcontent-%COMP%]   .sidenav-nav-item[_ngcontent-%COMP%]   .sidenav-nav-link[_ngcontent-%COMP%]   .sidenav-link-text[_ngcontent-%COMP%]{margin-left:1.5rem;font-size:1.1rem}.sidenav-nav[_ngcontent-%COMP%]   .sidenav-nav-item[_ngcontent-%COMP%]:hover   .sidenav-nav-link[_ngcontent-%COMP%]{background-color:#fff;color:#000}.active[_ngcontent-%COMP%]{background-color:#fff}.active[_ngcontent-%COMP%]   .sidenav-link-icon[_ngcontent-%COMP%], .active[_ngcontent-%COMP%]   .sidenav-link-text[_ngcontent-%COMP%]{color:#000}"]})};var d_=class t{isLeftSidebarCollapsed=Mo.required();screenWidth=Mo.required();sizeClass=gi(()=>this.isLeftSidebarCollapsed()?"":this.screenWidth()>768?"body-trimmed":"body-md-screen");static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Me({type:t,selectors:[["app-main"]],inputs:{isLeftSidebarCollapsed:[1,"isLeftSidebarCollapsed"],screenWidth:[1,"screenWidth"]},decls:2,vars:1,consts:[[1,"body",3,"ngClass"]],template:function(n,i){n&1&&(F(0,"div",0),Te(1,"router-outlet"),k()),n&2&&Y("ngClass",i.sizeClass())},dependencies:[zo,rt,Nr],styles:[".body[_ngcontent-%COMP%]{width:calc(100% - 5rem);margin-left:5rem;z-index:0;position:relative;top:0;transition:all .5s ease;background:#f4f7fa;padding:3rem}.body-trimmed[_ngcontent-%COMP%]{width:calc(100% - 16.5625rem);margin-left:16.5625rem}.body-md-screen[_ngcontent-%COMP%]{width:calc(100% - 5rem);margin-left:5rem}"]})};var h_=class t{title="invitation-app";authService=R(on);router=R(qe);currentUserSig=this.authService.currentUserSig;isLeftSidebarCollapsed=Kn(!1);screenWidth=Kn(window.innerWidth);constructor(){window.addEventListener("resize",()=>{this.screenWidth.set(window.innerWidth)})}changeIsLeftSidebarCollapsed(e){this.isLeftSidebarCollapsed.set(e)}logout(){return _(this,null,function*(){yield this.authService.logout(),this.router.navigate(["/login"])})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Me({type:t,selectors:[["app-root"]],decls:3,vars:3,consts:[[3,"changeIsLeftSidebarCollapsed","isLeftSidebarCollapsed"],[3,"isLeftSidebarCollapsed","screenWidth"]],template:function(n,i){n&1&&(F(0,"app-left-sidebar",0),ae("changeIsLeftSidebarCollapsed",function(s){return i.changeIsLeftSidebarCollapsed(s)}),k(),Te(1,"app-main",1)(2,"router-outlet")),n&2&&(Y("isLeftSidebarCollapsed",i.isLeftSidebarCollapsed()),O(),Y("isLeftSidebarCollapsed",i.isLeftSidebarCollapsed())("screenWidth",i.screenWidth()))},dependencies:[rt,zo,u_,d_],encapsulation:2})};tb(h_,dB).catch(t=>console.error(t));
